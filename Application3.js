ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(i,g){g("Foundation/CPCountedSet.j",NO);g("Foundation/CPNotificationCenter.j",NO);g("Foundation/CPUndoManager.j",NO);g("CGGeometry.j",YES);g("CPAnimation.j",YES);g("CPPlatformWindow.j",YES);g("CPResponder.j",YES);g("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var f=nil,e=nil,c=nil,b=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],a=objj_allocateClassPair(CPResponder,"CPWindow"),d=a.isa;class_addIvars(a,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,b,d,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){b=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",h);_frame=objj_msgSend(b,"frameRectForContentRect:",d);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(h&CPBorderlessBridgeWindowMask&&d.size.width===0&&d.size.height===0)d=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,d.size.height),_frame.size.width=MIN(1024,d.size.width),_frame.origin.x=(d.size.width-_frame.size.width)/2,_frame.origin.y=(d.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=h;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),h);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",h&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))d=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(d.x)+"px",_DOMElement.style.top=ROUND(d.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",h!==CPBorderlessWindowMask);h&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,b,d){with(a)(b=objj_msgSend(a,"isVisible"))&&objj_msgSend(a,"close"),_platformWindow=d,b&&objj_msgSend(a,"orderFront:",a)}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,b,d){with(a){if(_windowView===d)return;b=_windowView;_windowView=d;b&&(objj_msgSend(b,"_setWindow:",nil),objj_msgSend(b,"noteToolbarChanged"),_DOMElement.removeChild(b._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),
d=objj_msgSend(_contentView,"convertRect:toView:",objj_msgSend(_contentView,"bounds"),nil),d.origin=objj_msgSend(a,"convertBaseToGlobal:",d.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",
objj_msgSend(a,"frameRectForContentRect:",d))}}),new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,b,d){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;d=!!d;if(_isFullPlatformWindow===d)return;(_isFullPlatformWindow=d)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),b=objj_msgSend(objj_msgSend(a,"class"),
"_windowViewClassForFullPlatformWindowStyleMask:",_styleMask),b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",b),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(b=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",
b),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(b,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),
function(a,b,d){with(a)return objj_msgSend(_windowView,"contentRectForFrameRect:",d)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,d){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",d)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,b,d,h,c){with(a)d.size.width=MIN(MAX(d.size.width,
_minSize.width),_maxSize.width),d.size.height=MIN(MAX(d.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",d,h,c)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,d,h,c){with(a){d={origin:{x:d.origin.x,y:d.origin.y},size:{width:d.size.width,height:d.size.height}};b=d.origin.x;if(h=b-FLOOR(b))d.origin.x=b>0.879?CEIL(b):FLOOR(b);b=d.origin.y;if(h=b-FLOOR(b))d.origin.y=b>0.879?CEIL(b):FLOOR(b);b=d.size.width;if(h=b-FLOOR(b))d.size.width=b>0.15?
CEIL(b):FLOOR(b);b=d.size.height;if(h=b-FLOOR(b))d.size.height=b>0.15?CEIL(b):FLOOR(b);if(c)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,d),objj_msgSend(_frameAnimation,"startAnimation");else{c=_frame.origin;b=d.origin;if(!(c.x==b.x&&c.y==b.y)){c.x=b.x;c.y=b.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))c=NULL?{x:CGPointMake(c.x,c.y).x*NULL.a+CGPointMake(c.x,c.y).y*NULL.c+NULL.tx,
y:CGPointMake(c.x,c.y).x*NULL.b+CGPointMake(c.x,c.y).y*NULL.d+NULL.ty}:{x:c.x,y:c.y},_DOMElement.style.left=ROUND(c.x)+"px",_DOMElement.style.top=ROUND(c.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}c=_frame.size;d=d.size;if(!(c.width==d.width&&c.height==d.height))c.width=d.width,c.height=d.height,objj_msgSend(_windowView,"setFrameSize:",c),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+c.width+
19,height:10+c.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,b,d,h){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",d,h,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,b,d){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",
d,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,b,d){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:d.x,y:d.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,b,d){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:d.width,height:d.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,
"orderFront:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,
"orderOut:",a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,b,d,h){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",d,a,CPApp._windows[h])}),new objj_method(sel_getUid("setLevel:"),function(a,b,d){with(a){if(d===_level)return;
objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",a,_level,d);_level=d;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",d)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,b,d){with(a){d=
!!d;if(_showsResizeIndicator===d)return;_showsResizeIndicator=d;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,b,d){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",d)}),new objj_method(sel_getUid("setContentView:"),function(a,b,d){with(a)_contentView&&
objj_msgSend(_contentView,"removeFromSuperview"),b=CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=d,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",b)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,b,d){with(a)objj_msgSend(_windowView,
"setAlphaValue:",d)}),new objj_method(sel_getUid("alphaValue"),function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,b,d){with(a)objj_msgSend(_windowView,"setBackgroundColor:",d)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,b,d){with(a){if(CGSizeEqualToSize(_minSize,d))return;_minSize=CGSizeCreateCopy(d);
b=CGSizeMakeCopy(objj_msgSend(a,"frame").size);d=NO;if(b.width<_minSize.width)b.width=_minSize.width,d=YES;if(b.height<_minSize.height)b.height=_minSize.height,d=YES;d&&objj_msgSend(a,"setFrameSize:",b)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,b,d){with(a){if(CGSizeEqualToSize(_maxSize,d))return;_maxSize=CGSizeCreateCopy(d);b=CGSizeMakeCopy(objj_msgSend(a,"frame").size);d=NO;if(b.width>_maxSize.width)b.width=
_maxSize.width,d=YES;if(b.height>_maxSize.height)b.height=_maxSize.height,d=YES;d&&objj_msgSend(a,"setFrameSize:",b)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,
"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),f||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),
CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",f),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,
_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,b,d){with(a){if(_hasShadow===d)return;_hasShadow=d;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,b,d){with(a)_shadowStyle=d,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,d){with(a)b=objj_msgSend(CPNotificationCenter,
"defaultCenter"),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(b,"removeObserver:name:object:",
_delegate,CPWindowDidResizeNotification,a),_delegate=d,_delegateRespondsToWindowWillReturnUndoManagerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(b,
"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),
CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),
new objj_method(sel_getUid("setWindowController:"),function(a,b,d){with(a)_windowController=d}),new objj_method(sel_getUid("windowController"),function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,d){with(a)objj_msgSend(_delegate,"respondsToSelector:",d)?objj_msgSend(_delegate,"performSelector:",d):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",d)}),new objj_method(sel_getUid("acceptsFirstResponder"),
function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,b,d){with(a)_initialFirstResponder=d}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,b,d){with(a){if(_firstResponder===d)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!d||!objj_msgSend(d,"acceptsFirstResponder")||!objj_msgSend(d,"becomeFirstResponder"))return _firstResponder=
a,NO;_firstResponder=d;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,b,d){with(a)_acceptsMouseMovedEvents=d}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,
b,d){with(a)_ignoresMouseEvents=d}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),function(a,b,d){with(a)_title=d,objj_msgSend(_windowView,"setTitle:",d),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,b,d){with(a)objj_msgSend(a,"setRepresentedFilename:",d),objj_msgSend(a,"setTitle:",objj_msgSend(d,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),
function(a,b,d){with(a)objj_msgSend(a,"setRepresentedURL:",d)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("setRepresentedURL:"),function(a,b,d){with(a)_representedURL=d}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),
function(a,b,d){with(a)_isMovableByWindowBackground=d}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var b=objj_msgSend(a,"frame").size,d=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;b=CGPointMake((d.width-b.width)/2,(d.height-b.height)/2);
if(b.x<0)b.x=0;if(b.y<0)b.y=0;objj_msgSend(a,"setFrameOrigin:",b)}}),new objj_method(sel_getUid("sendEvent:"),function(a,b,d){with(a){var h=objj_msgSend(d,"type");b=objj_msgSend(d,"locationInWindow");switch(h){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",d);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",d);case CPKeyDown:if(objj_msgSend(d,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(d,"modifierFlags")&CPShiftKeyMask?
objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(d,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",d);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var c=objj_msgSend(a,"defaultButton");b=objj_msgSend(c,"keyEquivalent");c=objj_msgSend(c,"keyEquivalentModifierMask");objj_msgSend(d,"_triggersKeyEquivalent:withModifierMask:",
b,c)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",b),"scrollWheel:",d);case CPLeftMouseUp:case CPRightMouseUp:a=_leftMouseDownView;c=h==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",b));objj_msgSend(a,"performSelector:withObject:",c,d);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,
"hitTest:",b);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",YES);b=objj_msgSend(d,"window");c=h==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(b,"isKeyWindow")||objj_msgSend(b,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",
c,d);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",d))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,d);break;case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",b),"mouseDragged:",d);h==CPRightMouseDragged&&(c=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",c)||(c=nil));c||(c=sel_getUid("mouseDragged:"));
return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,d);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,"hitTest:",b);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",d);h=a;for(c=[];h;)c.unshift(h),h=objj_msgSend(h,"superview");for(h=MIN(_mouseEnteredStack.length,c.length);h--;)if(_mouseEnteredStack[h]===c[h])break;var j=h+
1,k=_mouseEnteredStack.length;if(j<k)for(var e=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,b,objj_msgSend(d,"modifierFlags"),objj_msgSend(d,"timestamp"),_windowNumber,nil,-1,1,0);j<k;++j)objj_msgSend(_mouseEnteredStack[j],"mouseExited:",e);j=h+1;k=c.length;if(j<k)for(e=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,
b,objj_msgSend(d,"modifierFlags"),objj_msgSend(d,"timestamp"),_windowNumber,nil,-1,1,0);j<k;++j)objj_msgSend(c[j],"mouseEntered:",e);_mouseEnteredStack=c;objj_msgSend(a,"mouseMoved:",d)}}}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),
function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,b,d,h,c,j,k,e,f){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",d,a,objj_msgSend(a,"convertBaseToGlobal:",h),c,j,k,e,f)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,b,d){with(a){if(!d)return;_inclusiveRegisteredDraggedTypes||
(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",d)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,b,d){with(a){if(!d)return;objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",d);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,b,d,h,c,j,k,e,
f){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",d,a,objj_msgSend(a,"convertBaseToGlobal:",h),c,j,k,e,f)}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(a,b,d){with(a){if(!d)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",d);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=
nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),
function(a,b,d){with(a){if(_isDocumentEdited==d)return;_isDocumentEdited=d;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",d)}}),new objj_method(sel_getUid("isDocumentEdited"),function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,d,b){with(a){if(_isDocumentSaving==b)return;_isDocumentSaving=b;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,
"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(a){with(a){if(!objj_msgSend(a,"isMainWindow"))return;a=objj_msgSend(CPApp,"mainMenu");var d=objj_msgSend(a,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(d==CPNotFound)return;a=objj_msgSend(a,"itemAtIndex:",d);_isDocumentSaving?(e=objj_msgSend(a,"image"),objj_msgSend(a,"setTitle:",
"Saving..."),objj_msgSend(a,"setImage:",c),objj_msgSend(a,"setEnabled:",NO)):(objj_msgSend(a,"setTitle:","Save"),objj_msgSend(a,"setImage:",e),objj_msgSend(a,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,d,b){with(a)objj_msgSend(a,"miniaturize:",b)}),new objj_method(sel_getUid("miniaturize:"),function(a,d,b){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,
"platformWindow"),"miniaturize:",b),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),function(a,d,b){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",b),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),
_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var d=objj_msgSend(CPApp,"currentEvent");if(objj_msgSend(d,"type")===CPKeyDown&&objj_msgSend(d,"characters")==="w"&&objj_msgSend(d,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",
YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;d=objj_msgSend(_windowController,"documents");if(objj_msgSend(d,"count")){var b=objj_msgSend(d,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(d[b],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",
_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(d,"copy"),visited:0,index:b})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),function(a,d,b,h,c){with(a)if(h){d=objj_msgSend(a,"windowController");h=c.documents;var j=objj_msgSend(h,"count"),k=++c.visited,e=++c.index%j;objj_msgSend(b,"removeWindowController:",d);k<j?(objj_msgSend(d,"setDocument:",h[e]),objj_msgSend(h[e],
"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),c)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,
"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,
"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),
function(a){with(a){var d=objj_msgSend(CPApp,"orderedWindows"),b=objj_msgSend(d,"count");if(objj_msgSend(a,"isKeyWindow")){var h=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(h&&h!==a&&objj_msgSend(h,"canBecomeKeyWindow"))objj_msgSend(h,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");h=objj_getClass("_CPMenuBarWindow");for(var c,j=0;j<b;j++){var k=d[j];objj_msgSend(k,"isKindOfClass:",h)&&(c=k);if(!(k===a||k===c)&&objj_msgSend(k,"isVisible")&&objj_msgSend(k,"canBecomeKeyWindow")){objj_msgSend(k,
"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(c,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(h=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),h&&h!==a&&objj_msgSend(h,"canBecomeMainWindow"))objj_msgSend(h,"makeMainWindow");else{objj_msgSend(CPApp,"mainMenu");h=objj_getClass("_CPMenuBarWindow");for(j=0;j<b;j++)if(k=d[j],objj_msgSend(k,"isKindOfClass:",h)&&(c=k),!(k===a||k===c)&&objj_msgSend(k,"isVisible")&&objj_msgSend(k,"canBecomeMainWindow")){objj_msgSend(k,
"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,d,b){with(a){if(_toolbar===b)return;objj_msgSend(objj_msgSend(b,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",nil);_toolbar=b;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",
!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var d=CGRectMakeCopy(objj_msgSend(a,"frame")),b;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?b=objj_msgSend(_platformWindow,"visibleFrame"):(b=CGRectMakeCopy(objj_msgSend(a,"frame")),b.origin=d.origin);objj_msgSend(a,"setFrame:",b)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,d,b,h,c,j){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),
_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"setDelegate:",h),objj_msgSend(_frameAnimation,"setAnimationCurve:",j),objj_msgSend(_frameAnimation,"setDuration:",c),objj_msgSend(_frameAnimation,"startAnimation")}),new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var d=objj_msgSend(a,"attachedSheet");
a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var b=CGRectMakeCopy(objj_msgSend(d,"frame"));b.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);b.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(b))/2);objj_msgSend(d,"setFrame:display:animate:",b,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),function(a,d,b,h,c,j){with(a)d=objj_msgSend(b,"frame"),_sheetContext={sheet:b,modalDelegate:h,endSelector:c,contextInfo:j,frame:CGRectMakeCopy(d),
returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",b)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,b,d){with(a){b=objj_msgSend(d,"frame");var h=objj_msgSend(a,"frame"),c=objj_msgSend(d,"contentView");objj_msgSend(a,"_setUpMasksForView:",c);d._isSheet=YES;d._parentView=a;c=h.origin.x+FLOOR((h.size.width-b.size.width)/2);var j=h.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;h=CGRectMake(c,j,b.size.width,0);b=CGRectMake(c,j,b.size.width,b.size.height);
objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",d);objj_msgSend(d,"orderFront:",a);objj_msgSend(d,"setFrame:display:animate:",h,YES,NO);_sheetContext.opened=YES;objj_msgSend(d,"_setFrame:delegate:duration:curve:",b,a,objj_msgSend(a,"animationResizeTime:",b),CPAnimationEaseOut);objj_msgSend(d,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var d=
objj_msgSend(a,"attachedSheet"),b=objj_msgSend(d,"frame"),h=CGRectMakeCopy(b);h.size.height=0;_sheetContext.frame=b;b=objj_msgSend(d,"contentView");objj_msgSend(a,"_setUpMasksForView:",b);_sheetContext.opened=NO;objj_msgSend(d,"_setFrame:delegate:duration:curve:",h,a,objj_msgSend(a,"animationResizeTime:",h),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),function(a,b,d){with(a){b=_sheetContext.sheet;if(d._window!=b)return;d=objj_msgSend(b,"contentView");if(_sheetContext.opened===
YES){objj_msgSend(a,"_restoreMasksForView:",d);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(b,"orderOut:",a);objj_msgSend(b,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",d);a=_sheetContext.modalDelegate;d=_sheetContext.endSelector;var h=_sheetContext.returnCode,c=_sheetContext.contextInfo;_sheetContext=nil;b._parentView=nil;a!=nil&&d!=nil&&
objj_msgSend(a,d,b,h,c)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,b,d){with(a){a=objj_msgSend(d,"subviews");objj_msgSend(a,"addObject:",d);d=0;for(b=objj_msgSend(a,"count");d<b;d++){var h=objj_msgSend(a,"objectAtIndex:",d),c=objj_msgSend(h,"autoresizingMask");objj_msgSend(h,"setAutoresizingMask:",c|(c&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),function(a,d,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",
b);b=0;for(d=objj_msgSend(a,"count");b<d;b++){var h=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(h,"autoresizingMask");objj_msgSend(h,"setAutoresizingMask:",c&~(c&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),
function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",d)}),new objj_method(sel_getUid("keyDown:"),function(a,d,b){with(a){if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",b))return;objj_msgSend(a,"_processKeyboardUIKey:",b)||objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"keyDown:",b)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),
function(a,d,h){with(a){d=objj_msgSend(h,"charactersIgnoringModifiers");if(!objj_msgSend(b,"containsObject:",d))return NO;h=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",d,0);if(objj_msgSend(h,"count")<=0)return NO;if(d!==CPEscapeFunctionKey)return d=objj_msgSend(h,"objectAtIndex:",0),objj_msgSend(objj_msgSend(a,"firstResponder"),"tryToPerform:with:",d,a);else objj_msgSend(objj_msgSend(a,"firstResponder"),"doCommandBySelector:",sel_getUid("complete:"));return NO}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),
function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=h(a);for(var d=objj_msgSend(a,"count");d--;)if(objj_msgSend(a[d],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=h(a);objj_msgSend(a,"sortUsingFunction:context:",k,nil);for(var d=0,b=objj_msgSend(a,"count");d<b;++d)objj_msgSend(a[d],"setNextKeyView:",a[(d+1)%b]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),
function(a,d,b){with(a){if(_autorecalculatesKeyViewLoop===b)return;_autorecalculatesKeyViewLoop=b;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,
"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),
function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,d,b){with(a)objj_msgSend(a,"setDefaultButton:",b)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,d,b){with(a){if(_defaultButton===b)return;objj_msgSend(_defaultButton,
"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=b;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),
function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);class_addMethods(d,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class"));c=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,d,b){with(a){if(b&CPHUDBackgroundWindowMask)return _CPHUDWindowView;else if(b===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(b&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),
new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,b,d,h){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",h),"frameRectForContentRect:",d)})]);var h=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var b=0;b<a.length;++b)a=a.concat(objj_msgSend(a[b],"subviews"));return a},
k=function(a,b){var d=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),h=objj_msgSend(b,"convertRect:toView:",objj_msgSend(b,"bounds"),nil),c=d.origin.y,j=h.origin.y,k=d.origin.x,e=h.origin.x;if(MIN(d.origin.y+d.size.height,h.origin.y+h.size.height)-MAX(c,j)>0){if(k<e)return CPOrderedAscending;if(k===e)return CPOrderedSame;return CPOrderedDescending}if(c<j)return CPOrderedAscending;if(c===j)return CPOrderedSame;return CPOrderedDescending};a=objj_getClass("CPWindow");if(!a)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);a=objj_getClass("CPWindow");if(!a)throw new SyntaxError('*** Could not find definition for class "CPWindow"');d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,b,d){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,
"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var h=objj_msgSend(_platformWindow,"contentBounds");b=CGRectMakeCopy(_frame);var c=(CGRectGetWidth(h)-d.width)/((_autoresizingMask&CPWindowMinXMargin?1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));d=(CGRectGetHeight(h)-d.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?
1:0));_autoresizingMask&CPWindowMinXMargin&&(b.origin.x+=c);_autoresizingMask&CPWindowWidthSizable&&(b.size.width+=c);_autoresizingMask&CPWindowMinYMargin&&(b.origin.y+=d);_autoresizingMask&CPWindowHeightSizable&&(b.size.height+=d);objj_msgSend(a,"setFrame:",b)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,b,d){with(a)_autoresizingMask=d}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),
function(a,b,d){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",d):objj_msgSend(a,"convertBaseToScreen:",d)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,b,d){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",d):objj_msgSend(a,"convertScreenToBase:",d)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,d,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;
a=objj_msgSend(a,"frame").origin;return{x:b.x+a.x,y:b.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,b,d){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return d;a=objj_msgSend(a,"frame").origin;return{x:d.x-a.x,y:d.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",b))}),new objj_method(sel_getUid("convertBaseToScreen:"),
function(a,d,b){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",b))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,b,d){with(a){if(d&&objj_msgSend(CPPlatform,"isBrowser"))return;_sharesChromeWithPlatformWindow=d;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),
function(a){with(a){if(_undoManager)return _undoManager;var d=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(d)return d;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,d,b){with(a)return CGRectContainsPoint(_frame,b)})]);a=objj_getClass("CPWindow");if(!a)throw new SyntaxError('*** Could not find definition for class "CPWindow"');d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("setFullBridge:"),function(a,d,b){with(a)objj_msgSend(a,"setFullPlatformWindow:",b)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,
"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,d,b){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",b)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",b)})]);var j=function(a,d,b){return a+(d-a)*b};a=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");d=a.isa;class_addIvars(a,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);
objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,d,b,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(b,"animationResizeTime:",h),CPAnimationLinear))_window=b,_targetFrame=CGRectMakeCopy(h),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,b,d){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"setCurrentProgress:",d);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(j(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),j(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),
a),j(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),j(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,b,d,h){return{windowView:a,contentRect:b,hasShadow:d,level:h}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;g("_CPWindowView.j",YES);g("_CPStandardWindowView.j",YES);g("_CPDocModalWindowView.j",
YES);g("_CPToolTipWindowView.j",YES);g("_CPHUDWindowView.j",YES);g("_CPBorderlessWindowView.j",YES);g("_CPBorderlessBridgeWindowView.j",YES);g("_CPAttachedWindowView.j",YES);g("CPDragServer.j",YES);g("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(i,g){g("Foundation/CPBundle.j",NO);g("CPCompatibility.j",YES);g("CPEvent.j",YES);g("CPMenu.j",YES);g("CPResponder.j",YES);g("CPDocumentController.j",YES);g("CPThemeBlend.j",YES);g("CPCibLoading.j",YES);g("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var f=objj_allocateClassPair(CPResponder,"CPApplication"),e=f.isa;class_addIvars(f,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("themeBlend"),function(b){with(b)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(b,a,d){with(b)_themeBlend=d}),new objj_method(sel_getUid("init"),function(b){with(b){if(CPApp=b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return b}}),new objj_method(sel_getUid("setDelegate:"),function(b,a,d){with(b){if(_delegate==d)return;a=objj_msgSend(CPNotificationCenter,"defaultCenter");var h=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],c=objj_msgSend(h,"count");if(_delegate)for(var j=0;j<c;j+=2){var e=h[j],l=h[j+1];objj_msgSend(_delegate,"respondsToSelector:",l)&&objj_msgSend(a,"removeObserver:name:object:",
_delegate,e,b)}_delegate=d;for(j=0;j<c;j+=2)e=h[j],l=h[j+1],objj_msgSend(_delegate,"respondsToSelector:",l)&&objj_msgSend(a,"addObserver:selector:name:object:",_delegate,l,e,b)}}),new objj_method(sel_getUid("delegate"),function(b){with(b)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(b){with(b){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var a=objj_msgSend(CPBundle,"mainBundle"),d=objj_msgSend(a,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(d,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(a=objj_msgSend(a,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(a=objj_getClass(a))&&(objj_msgSend(_documentController,"class")==a?objj_msgSend(b,"setDelegate:",_documentController):objj_msgSend(b,"setDelegate:",objj_msgSend(objj_msgSend(a,"alloc"),"init")));a=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(a,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
b);d=!!_documentController;for(var h=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),c=0,j=objj_msgSend(h,"count");c<j;++c)d=!objj_msgSend(b,"_openURL:",objj_msgSend(CPURL,"URLWithString:",h[c]))||d;d&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(d=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",b));d&&objj_msgSend(_documentController,"newDocument:",b);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(a,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,b);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(b){with(b)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,b),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(b,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",b,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(b,a,d){with(b)_applicationIconImage=d}),new objj_method(sel_getUid("applicationIconImage"),function(b){with(b){if(_applicationIconImage)return _applicationIconImage;(b=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",b));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(b){with(b)objj_msgSend(b,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(b,a,d){with(b){if(!_aboutPanel){var h=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");a=objj_msgSend(d,"objectForKey:","ApplicationName")||objj_msgSend(h,"objectForKey:","CPBundleName");var c=objj_msgSend(d,"objectForKey:","ApplicationIcon")||objj_msgSend(b,"applicationIconImage"),j=objj_msgSend(d,"objectForKey:","Version")||objj_msgSend(h,"objectForKey:","CPBundleVersion"),e=objj_msgSend(d,"objectForKey:","ApplicationVersion")||objj_msgSend(h,"objectForKey:","CPBundleShortVersionString");d=objj_msgSend(d,"objectForKey:","Copyright")||objj_msgSend(h,"objectForKey:",
"CPHumanReadableCopyright");h=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var l=objj_msgSend(CPWindowController,"alloc");l=objj_msgSend(l,"initWithWindowCibPath:owner:",h,l);h=objj_msgSend(l,"window");var f=objj_msgSend(h,"contentView");l=objj_msgSend(f,"viewWithTag:",1);var g=objj_msgSend(f,"viewWithTag:",2),i=objj_msgSend(f,"viewWithTag:",3);f=objj_msgSend(f,"viewWithTag:",4);var o=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(b,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(g,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(g,"setAlignment:",CPCenterTextAlignment);objj_msgSend(i,"setAlignment:",CPCenterTextAlignment);objj_msgSend(f,"setAlignment:",CPCenterTextAlignment);objj_msgSend(l,"setImage:",c||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",o,CGSizeMake(256,256)));objj_msgSend(g,"setStringValue:",a||"");e&&
j?objj_msgSend(i,"setStringValue:","Version "+e+" ("+j+")"):e||j?objj_msgSend(i,"setStringValue:","Version "+(e||j)):objj_msgSend(i,"setStringValue:","");objj_msgSend(f,"setStringValue:",d||"");objj_msgSend(h,"center");_aboutPanel=h}objj_msgSend(_aboutPanel,"orderFront:",b)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(b,a,d,h){with(b)h&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(b,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",b)):objj_msgSend(b,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(b,a,d){with(b)d==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,b),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(b,a,d){with(b)objj_msgSend(b,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",d),_isActive=YES,objj_msgSend(b,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(b){with(b)objj_msgSend(b,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(b,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(b){with(b)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(b){with(b)objj_msgSend(CPPlatform,"hideOtherApplications:",
b)}),new objj_method(sel_getUid("run"),function(b){with(b)objj_msgSend(b,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(b,a,d){with(b)objj_msgSend(b,"runModalSession:",objj_msgSend(b,"beginModalSessionForWindow:",d))}),new objj_method(sel_getUid("stopModalWithCode:"),function(b,a,d){with(b){if(!_currentSession)return;_currentSession._state=d;_currentSession=_currentSession._previous;objj_msgSend(b,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(b){with(b)for(b=_eventListeners.length;b--;)if(_eventListeners[b]._callback===_CPRunModalLoop){_eventListeners.splice(b,1);break}}),new objj_method(sel_getUid("stopModal"),function(b){with(b)objj_msgSend(b,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(b){with(b)objj_msgSend(b,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(b,a,d){with(b)return{_window:d,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(b,a,d){with(b)d._previous=_currentSession,_currentSession=d,a=d._window,objj_msgSend(a,"center"),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"orderFront:",b),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(b){with(b){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(b,a,d){with(b)return objj_msgSend(objj_msgSend(b,"keyWindow"),"performKeyEquivalent:",d)||objj_msgSend(objj_msgSend(b,"mainMenu"),"performKeyEquivalent:",d)}),new objj_method(sel_getUid("sendEvent:"),function(b,a,d){with(b){_currentEvent=d;a=objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(d,"_couldBeKeyEquivalent")&&objj_msgSend(b,
"_handleKeyEquivalent:",d)){b=objj_msgSend(d,"characters");a=objj_msgSend(d,"modifierFlags");(b=="c"||b=="x"||b=="v")&&a&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",a);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(d,"type")&&_eventListeners.pop()._callback(d);return}objj_msgSend(objj_msgSend(d,
"window"),"sendEvent:",d)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(b,a,d){with(b)objj_msgSend(_delegate,"respondsToSelector:",d)?objj_msgSend(_delegate,"performSelector:",d):objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",d)}),new objj_method(sel_getUid("keyWindow"),function(b){with(b)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(b){with(b)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(b,a,d){with(b)return _windows[d]}),new objj_method(sel_getUid("windows"),function(b){with(b)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(b){with(b)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(b){with(b)objj_msgSend(CPPlatform,"hide:",b)}),new objj_method(sel_getUid("mainMenu"),function(b){with(b)return objj_msgSend(b,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(b,a,d){with(b)objj_msgSend(b,"setMenu:",d)}),new objj_method(sel_getUid("setMenu:"),
function(b,a,d){with(b)if(objj_msgSend(d,"_menuName")==="CPMainMenu"){if(objj_msgSend(b,"menu")===d)return;objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPApplication").super_class},"setMenu:",d);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(b,"menu"))}else objj_msgSend(d,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(b){with(b)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",b)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(b,a,d,h){with(b){if(!d)return NO;if(objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",d,h))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",d))return objj_msgSend(_delegate,"performSelector:withObject:",d,h),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(b,a,d,h,c){with(b){b=objj_msgSend(b,"targetForAction:to:from:",d,h,c);if(!b)return NO;objj_msgSend(b,
"performSelector:withObject:",d,c);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(b,a,d,h){with(b){if(!d)return nil;if(h)return h;return objj_msgSend(b,"targetForAction:",d)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(b,a,d,h){with(b){b=objj_msgSend(d,"firstResponder");for(a=YES;b;){if(objj_msgSend(b,"respondsToSelector:",h))return b;b==d&&(a=NO);b=objj_msgSend(b,"nextResponder")}if(a&&objj_msgSend(d,"respondsToSelector:",h))return d;b=objj_msgSend(d,
"delegate");if(objj_msgSend(b,"respondsToSelector:",h))return b;d=objj_msgSend(d,"windowController");if(objj_msgSend(d,"respondsToSelector:",h))return d;d=objj_msgSend(d,"document");if(d!==b&&objj_msgSend(d,"respondsToSelector:",h))return d;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(b,a,d){with(b){if(!d)return nil;if(a=objj_msgSend(b,"_targetForWindow:action:",objj_msgSend(b,"keyWindow"),d))return a;if(a=objj_msgSend(b,"_targetForWindow:action:",objj_msgSend(b,"mainWindow"),
d))return a;if(objj_msgSend(b,"respondsToSelector:",d))return b;if(objj_msgSend(_delegate,"respondsToSelector:",d))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",d))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(b,a,d,h){with(b)_eventListeners.push({_mask:h,_callback:d})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(b,
a,d,h,c){with(b)_eventListeners.push({_mask:c,_callback:function(a){objj_msgSend(d,h,a)}})}),new objj_method(sel_getUid("currentEvent"),function(b){with(b)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(b,a,d,h,c,j,e){with(b){if(!(objj_msgSend(d,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(h,"orderFront:",b);objj_msgSend(d,"setPlatformWindow:",objj_msgSend(h,"platformWindow"));objj_msgSend(h,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",d,c,j,e)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(b,a,d,h){with(b)for(b=objj_msgSend(_windows,"count");--b>=0;){a=objj_msgSend(_windows,"objectAtIndex:",b);var c=a._sheetContext;if(c!=nil&&c.sheet===d){c.returnCode=h;objj_msgSend(a,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(b,a,d){with(b)objj_msgSend(b,"endSheet:returnCode:",d,0)}),new objj_method(sel_getUid("arguments"),function(b){with(b)return _fullArgsString!==window.location.hash&&objj_msgSend(b,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(b,a,d){with(b){if(!d||d.length==0){_args=[];window.location.hash="#";return}objj_msgSend(d,"isKindOfClass:",CPArray)||(d=objj_msgSend(CPArray,"arrayWithObject:",d));_args=d;b=objj_msgSend(_args,"copy");a=0;for(d=b.length;a<d;a++)b[a]=
encodeURIComponent(b[a]);b=objj_msgSend(b,"componentsJoinedByString:","/");window.location.hash="#"+b}}),new objj_method(sel_getUid("_reloadArguments"),function(b){with(b)if(_fullArgsString=window.location.hash,_fullArgsString.length){b=_fullArgsString.substring(1).split("/");for(var a=0,d=b.length;a<d;a++)b[a]=decodeURIComponent(b[a]);_args=b}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(b){with(b)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(b,a,d){with(b){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",b,objj_msgSend(d,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",b,d);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",d,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(b){with(b)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,b,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(b){with(b)!objj_msgSend(b,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(b,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(b,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(b,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(b,"keyWindow")?objj_msgSend(objj_msgSend(b,"keyWindow"),"orderFront:",b):objj_msgSend(b,"mainWindow")?objj_msgSend(objj_msgSend(b,"mainWindow"),"makeKeyAndOrderFront:",b):objj_msgSend(objj_msgSend(b,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,b,nil)}),new objj_method(sel_getUid("_willResignActive"),function(b){with(b)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,b,nil)}),new objj_method(sel_getUid("_didResignActive"),function(b){with(b)b._activeMenu&&objj_msgSend(b._activeMenu,"cancelTracking"),objj_msgSend(b,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(b,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(b,"mainWindow")&&(_previousMainWindow=objj_msgSend(b,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,b,nil)})]);class_addMethods(e,[new objj_method(sel_getUid("sharedApplication"),function(b){with(b)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(b){with(b)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(b){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var a=objj_msgSend(b,"window");(a==CPApp._currentSession._window||objj_msgSend(a,"worksWhenModal"))&&objj_msgSend(a,"sendEvent:",b)};CPApplicationMain=
function(b,a){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var d=objj_msgSend(CPBundle,"mainBundle");(d=objj_msgSend(d,"principalClass"))||(d=objj_msgSend(CPApplication,"class"));objj_msgSend(d,"sharedApplication");objj_msgSend(b,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=b;CPApp._namedArgs=a;objj_msgSend(_CPAppBootstrapper,"performActions")};var c=nil;f=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("actions"),function(b){with(b)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(b){with(b){for(c||(c=objj_msgSend(b,"actions"));c.length;){var a=c.shift();if(objj_msgSend(b,a))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(b){with(b)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(b){with(b){var a=objj_msgSend(CPApplication,"defaultThemeName"),d=nil;d=a==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",a+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",a+".blend");a=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",d);objj_msgSend(a,"loadWithDelegate:",b);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(b,a,d){with(b)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",d),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(b,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(b){with(b){var a=objj_msgSend(CPBundle,"mainBundle"),d=objj_msgSend(a,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(a,"objectForInfoDictionaryKey:","Main cib file base name");
if(d)return objj_msgSend(a,"loadCibFile:externalNameTable:loadDelegate:",d,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),b),YES;else objj_msgSend(b,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(b){with(b){b=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(b,"setAutoenablesItems:",NO);var a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),d=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(d,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(d,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(b,"addItem:",d);d=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(d,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(d,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(b,"addItem:",d);d=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var h=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(h,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(h,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(h,"setSubmenu:",d);objj_msgSend(b,"addItem:",h);a=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);d=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");h=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(h,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(c,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(d,"addItem:",h);objj_msgSend(d,
"addItem:",c);objj_msgSend(d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(d,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(a,"setSubmenu:",d);objj_msgSend(a,"setHidden:",
YES);objj_msgSend(b,"addItem:",a);objj_msgSend(b,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",b)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(b){with(b)objj_msgSend(b,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(b){with(b)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(b){with(b)c=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenu.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("Foundation/CPDictionary.j",NO);g("Foundation/CPNotificationCenter.j",NO);g("Foundation/CPString.j",NO);g("_CPMenuManager.j",YES);g("CPApplication.j",YES);g("CPClipView.j",YES);g("CPMenuItem.j",YES);g("CPPanel.j",YES);CPMenuDidAddItemNotification="CPMenuDidAddItemNotification";CPMenuDidChangeItemNotification="CPMenuDidChangeItemNotification";CPMenuDidRemoveItemNotification=
"CPMenuDidRemoveItemNotification";CPMenuDidEndTrackingNotification="CPMenuDidEndTrackingNotification";var f=NO,e="",c=nil,b=1,a=nil,d=nil,h=objj_allocateClassPair(CPObject,"CPMenu"),k=h.isa;class_addIvars(h,[new objj_ivar("_supermenu"),new objj_ivar("_title"),new objj_ivar("_name"),new objj_ivar("_font"),new objj_ivar("_minimumWidth"),new objj_ivar("_items"),new objj_ivar("_autoenablesItems"),new objj_ivar("_showsStateColumn"),new objj_ivar("_delegate"),new objj_ivar("_highlightedIndex"),new objj_ivar("_menuWindow")]);
objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("menuBarHeight"),function(a){with(a){if(a===objj_msgSend(CPApp,"mainMenu"))return 28;return 0}}),new objj_method(sel_getUid("initWithTitle:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenu").super_class},"init"))_title=d,_items=[],_showsStateColumn=_autoenablesItems=YES,objj_msgSend(a,"setMinimumWidth:",0);return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithTitle:","")}),new objj_method(sel_getUid("insertItem:atIndex:"),function(a,d,b,h){with(a)objj_msgSend(a,"insertObject:inItemsAtIndex:",b,h)}),new objj_method(sel_getUid("insertItemWithTitle:action:keyEquivalent:atIndex:"),function(a,b,d,h,c,k){with(a)return b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",d,h,c),objj_msgSend(a,"insertItem:atIndex:",b,k),b}),new objj_method(sel_getUid("addItem:"),function(a,b,d){with(a)objj_msgSend(a,"insertItem:atIndex:",
d,objj_msgSend(_items,"count"))}),new objj_method(sel_getUid("addItemWithTitle:action:keyEquivalent:"),function(a,b,d,h,c){with(a)return objj_msgSend(a,"insertItemWithTitle:action:keyEquivalent:atIndex:",d,h,c,objj_msgSend(_items,"count"))}),new objj_method(sel_getUid("removeItem:"),function(a,b,d){with(a)objj_msgSend(a,"removeItemAtIndex:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",d))}),new objj_method(sel_getUid("removeItemAtIndex:"),function(a,d,b){with(a)objj_msgSend(a,"removeObjectFromItemsAtIndex:",
b)}),new objj_method(sel_getUid("removeAllItems"),function(a){with(a){for(a=objj_msgSend(_items,"count");a--;)objj_msgSend(_items[a],"setMenu:",nil);_items=objj_msgSend(CPMutableArray,"array");_highlightedIndex=CPNotFound}}),new objj_method(sel_getUid("itemChanged:"),function(a,b,d){with(a){if(objj_msgSend(d,"menu")!==a)return;objj_msgSend(d,"setValue:forKey:",objj_msgSend(d,"valueForKey:","changeCount")+1,"changeCount");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",
CPMenuDidChangeItemNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",d),"CPMenuItemIndex"))}}),new objj_method(sel_getUid("itemWithTag:"),function(a,d,b){with(a){a=objj_msgSend(a,"indexOfItemWithTag:",b);if(a==CPNotFound)return nil;return _items[a]}}),new objj_method(sel_getUid("itemWithTitle:"),function(a,d,b){with(a){a=objj_msgSend(a,"indexOfItemWithTitle:",b);if(a==CPNotFound)return nil;return _items[a]}}),new objj_method(sel_getUid("itemAtIndex:"),
function(a,d,b){with(a)return objj_msgSend(_items,"objectAtIndex:",b)}),new objj_method(sel_getUid("numberOfItems"),function(a){with(a)return objj_msgSend(_items,"count")}),new objj_method(sel_getUid("itemArray"),function(a){with(a)return _items}),new objj_method(sel_getUid("indexOfItem:"),function(a,d,b){with(a){if(objj_msgSend(b,"menu")!==a)return CPNotFound;return objj_msgSend(_items,"indexOfObjectIdenticalTo:",b)}}),new objj_method(sel_getUid("indexOfItemWithTitle:"),function(a,b,d){with(a){a=
0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],"title")===d)return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithTag:"),function(a,b,d){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],"tag")==d)return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithTarget:andAction:"),function(a,b,d,h){with(a){a=0;for(b=_items.length;a<b;++a){var c=_items[a];if(objj_msgSend(c,"target")==d&&(!h||objj_msgSend(c,"action")==h))return a}return CPNotFound}}),
new objj_method(sel_getUid("indexOfItemWithRepresentedObject:"),function(a,b,d){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(objj_msgSend(_items[a],"representedObject"),"isEqual:",d))return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithSubmenu:"),function(a,b,d){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],"submenu")==d)return a;return CPNotFound}}),new objj_method(sel_getUid("setSubmenu:forItem:"),function(a,b,d,h){with(a)objj_msgSend(h,"setTarget:",
h),objj_msgSend(h,"setAction:",sel_getUid("submenuAction:")),objj_msgSend(h,"setSubmenu:",d)}),new objj_method(sel_getUid("submenuAction:"),function(a){with(a);}),new objj_method(sel_getUid("supermenu"),function(a){with(a)return _supermenu}),new objj_method(sel_getUid("setSupermenu:"),function(a,b,d){with(a)_supermenu=d}),new objj_method(sel_getUid("isTornOff"),function(a){with(a)return!_supermenu||a==objj_msgSend(CPApp,"mainMenu")}),new objj_method(sel_getUid("setAutoenablesItems:"),function(a,b,
d){with(a)_autoenablesItems=d}),new objj_method(sel_getUid("autoenablesItems"),function(a){with(a)return _autoenablesItems}),new objj_method(sel_getUid("update"),function(a){with(a){if(!objj_msgSend(a,"autoenablesItems"))return;a=objj_msgSend(a,"itemArray");for(var b=0;b<objj_msgSend(a,"count");b++){var d=objj_msgSend(a,"objectAtIndex:",b);if(!objj_msgSend(d,"hasSubmenu")){var h=objj_msgSend(CPApp,"targetForAction:to:from:",objj_msgSend(d,"action"),objj_msgSend(d,"target"),d);!h||!objj_msgSend(h,
"respondsToSelector:",objj_msgSend(d,"action"))?objj_msgSend(d,"setEnabled:",NO):objj_msgSend(h,"respondsToSelector:",sel_getUid("validateMenuItem:"))?objj_msgSend(d,"setEnabled:",objj_msgSend(h,"validateMenuItem:",d)):objj_msgSend(h,"respondsToSelector:",sel_getUid("validateUserInterfaceItem:"))&&objj_msgSend(d,"setEnabled:",objj_msgSend(h,"validateUserInterfaceItem:",d))}}objj_msgSend(objj_msgSend(_menuWindow,"_menuView"),"tile")}}),new objj_method(sel_getUid("setTitle:"),function(a,d,b){with(a)_title=
b}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setMinimumWidth:"),function(a,d,b){with(a)_minimumWidth=b}),new objj_method(sel_getUid("minimumWidth"),function(a){with(a)return _minimumWidth}),new objj_method(sel_getUid("_performActionOfHighlightedItemChain"),function(a){with(a){for(a=objj_msgSend(a,"highlightedItem");objj_msgSend(a,"submenu")&&objj_msgSend(a,"action")===sel_getUid("submenuAction:");)a=objj_msgSend(objj_msgSend(a,"submenu"),"highlightedItem");
a&&objj_msgSend(a,"isEnabled")&&objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}}),new objj_method(sel_getUid("popUpMenuPositioningItem:atLocation:inView:callback:"),function(a,d,b,h,c,k){with(a)objj_msgSend(a,"_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:",b,h,h.y,h.y,c,k)}),new objj_method(sel_getUid("_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:"),function(a,d,b,h,c,k,e,f){with(a){var g=0;if(b&&(g=objj_msgSend(a,
"indexOfItem:",b),g===CPNotFound))throw"In call to popUpMenuPositioningItem:atLocation:inView:callback:, menu item "+b+" is not present in menu "+a;d=objj_msgSend(e,"window");if(e&&!d)throw"In call to popUpMenuPositioningItem:atLocation:inView:callback:, view is not in any window.";objj_msgSend(a,"_menuWillOpen");e&&(h=objj_msgSend(d,"convertBaseToGlobal:",objj_msgSend(e,"convertPoint:toView:",h,nil)));var i=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",a,objj_msgSend(a,"font"));objj_msgSend(i,
"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);b&&(h.y-=objj_msgSend(i,"deltaYForItemAtIndex:",g));b=objj_msgSend(CPMenu,"_constraintRectForView:",e);objj_msgSend(i,"setFrameOrigin:",h);objj_msgSend(i,"setConstraintRect:",b);if(!objj_msgSend(i,"hasMinimumNumberOfVisibleItems")){h=objj_msgSend(i,"unconstrainedFrame");g=CGRectGetMinY(h);if(g>=CGRectGetMaxY(b)||objj_msgSend(i,"canScrollDown")){if(e)c=objj_msgSend(d,"convertBaseToGlobal:",objj_msgSend(e,"convertPoint:toView:",CGPointMake(0,
c),nil)).y;h.origin.y=MIN(CGRectGetMaxY(b),c)-CGRectGetHeight(h)}else if(g<CGRectGetMinY(b)||objj_msgSend(i,"canScrollUp")){if(e)k=objj_msgSend(d,"convertBaseToGlobal:",objj_msgSend(e,"convertPoint:toView:",CGPointMake(0,k),nil)).y;h.origin.y=MAX(CGRectGetMinY(b),k)}objj_msgSend(i,"setFrameOrigin:",CGRectIntersection(h,b).origin)}objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(i,"setPlatformWindow:",objj_msgSend(objj_msgSend(e,"window"),"platformWindow"));objj_msgSend(i,"orderFront:",a);objj_msgSend(objj_msgSend(_CPMenuManager,
"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",objj_msgSend(CPApp,"currentEvent"),i,b,objj_msgSend(CPMenu,"trackingCallbackWithCallback:",f))}}),new objj_method(sel_getUid("setShowsStateColumn:"),function(a,b,d){with(a)_showsStateColumn=d}),new objj_method(sel_getUid("showsStateColumn"),function(a){with(a)return _showsStateColumn}),new objj_method(sel_getUid("highlightedItem"),function(a){with(a){if(_highlightedIndex<0)return nil;a=_items[_highlightedIndex];if(objj_msgSend(a,
"isSeparatorItem"))return nil;return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,d){with(a)_delegate=d}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("_menuWillOpen"),function(a){with(a){var b=objj_msgSend(a,"delegate");objj_msgSend(b,"respondsToSelector:",sel_getUid("menuWillOpen:"))&&objj_msgSend(b,"menuWillOpen:",a)}}),new objj_method(sel_getUid("_menuDidClose"),function(a){with(a){var b=objj_msgSend(a,"delegate");objj_msgSend(b,
"respondsToSelector:",sel_getUid("menuDidClose:"))&&objj_msgSend(b,"menuDidClose:",a)}}),new objj_method(sel_getUid("cancelTracking"),function(a){with(a)objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_fireCancelTrackingEvent"),a,nil,0,[CPDefaultRunLoopMode])}),new objj_method(sel_getUid("_fireCancelTrackingEvent"),function(a){with(a)objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
CPAppKitDefined,{x:0,y:0},0,0,0,0,0,0,0)),objj_msgSend(_CPDisplayServer,"run")}),new objj_method(sel_getUid("_setMenuWindow:"),function(a,b,d){with(a)_menuWindow=d}),new objj_method(sel_getUid("setFont:"),function(a,b,d){with(a)_font=d}),new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,b,d){with(a){_autoenablesItems&&objj_msgSend(a,"update");b=0;var h=_items.length;objj_msgSend(d,"charactersIgnoringModifiers");for(objj_msgSend(d,
"modifierFlags");b<h;++b){var c=_items[b];objj_msgSend(c,"keyEquivalentModifierMask");if(objj_msgSend(d,"_triggersKeyEquivalent:withModifierMask:",objj_msgSend(c,"keyEquivalent"),objj_msgSend(c,"keyEquivalentModifierMask")))return objj_msgSend(c,"isEnabled")&&objj_msgSend(a,"performActionForItemAtIndex:",b),YES;if(objj_msgSend(objj_msgSend(c,"submenu"),"performKeyEquivalent:",d))return YES}return NO}}),new objj_method(sel_getUid("performActionForItemAtIndex:"),function(a,b,d){with(a)a=_items[d],objj_msgSend(CPApp,
"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}),new objj_method(sel_getUid("_highlightItemAtIndex:"),function(a,b,d){with(a){if(_highlightedIndex===d)return;_highlightedIndex!==CPNotFound&&objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"highlight:",NO);_highlightedIndex=d;_highlightedIndex!==CPNotFound&&objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"highlight:",YES);_highlightedIndex!==CPNotFound&&_menuWindow&&objj_msgSend(_menuWindow._menuView,
"scrollRectToVisible:",objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"frame"))}}),new objj_method(sel_getUid("_setMenuName:"),function(a,b,d){with(a){if(_name===d)return;_name=d;_name==="CPMainMenu"&&objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("_menuName"),function(a){with(a)return _name}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_name==="_CPMainMenu"&&(objj_msgSend(a,"_setMenuName:","CPMainMenu"),objj_msgSend(CPMenu,"setMenuBarVisible:",
YES))}),new objj_method(sel_getUid("_menuWithName:"),function(a,b,d){with(a){if(d===_name)return a;a=0;for(b=objj_msgSend(_items,"count");a<b;a++){var h=objj_msgSend(objj_msgSend(_items[a],"submenu"),"_menuWithName:",d);if(h)return h}return nil}})]);class_addMethods(k,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==CPMenu)return;objj_msgSend(objj_msgSend(a,"class"),"setMenuBarAttributes:",objj_msgSend(CPDictionary,"dictionary"))}}),new objj_method(sel_getUid("menuBarVisible"),
function(a){with(a)return f}),new objj_method(sel_getUid("setMenuBarVisible:"),function(h,k,l){with(h){if(f===l)return;f=l;if(objj_msgSend(CPPlatform,"supportsNativeMainMenu"))return;l?(d||(d=objj_msgSend(objj_msgSend(_CPMenuBarWindow,"alloc"),"init")),objj_msgSend(d,"setMenu:",objj_msgSend(CPApp,"mainMenu")),objj_msgSend(d,"setTitle:",e),objj_msgSend(d,"setIconImage:",c),objj_msgSend(d,"setIconImageAlphaValue:",b),objj_msgSend(d,"setColor:",objj_msgSend(a,"objectForKey:","CPMenuBarBackgroundColor")),
objj_msgSend(d,"setTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextColor")),objj_msgSend(d,"setTitleColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleColor")),objj_msgSend(d,"setTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextShadowColor")),objj_msgSend(d,"setTitleShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleShadowColor")),objj_msgSend(d,"setHighlightColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightColor")),objj_msgSend(d,"setHighlightTextColor:",
objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextColor")),objj_msgSend(d,"setHighlightTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextShadowColor")),objj_msgSend(d,"orderFront:",h)):objj_msgSend(d,"orderOut:",h);objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"resizeEvent:",nil)}}),new objj_method(sel_getUid("setMenuBarTitle:"),function(a,b,h){with(a)e=h,objj_msgSend(d,"setTitle:",e)}),new objj_method(sel_getUid("menuBarTitle"),function(a){with(a)return e}),
new objj_method(sel_getUid("setMenuBarIconImage:"),function(a,b,h){with(a)_CPMenuBarImage=h,objj_msgSend(d,"setIconImage:",h)}),new objj_method(sel_getUid("menuBarIconImage"),function(a){with(a)return _CPMenuBarImage}),new objj_method(sel_getUid("setMenuBarAttributes:"),function(b,h,c){with(b){if(a==c)return;a=objj_msgSend(c,"copy");b=objj_msgSend(c,"objectForKey:","CPMenuBarTextColor");h=objj_msgSend(c,"objectForKey:","CPMenuBarTitleColor");var k=objj_msgSend(c,"objectForKey:","CPMenuBarTextShadowColor"),
e=objj_msgSend(c,"objectForKey:","CPMenuBarTitleShadowColor"),f=objj_msgSend(c,"objectForKey:","CPMenuBarHighlightColor"),g=objj_msgSend(c,"objectForKey:","CPMenuBarHighlightTextColor");c=objj_msgSend(c,"objectForKey:","CPMenuBarHighlightTextShadowColor");!b&&h?objj_msgSend(a,"setObject:forKey:",h,"CPMenuBarTextColor"):b&&!h?objj_msgSend(a,"setObject:forKey:",b,"CPMenuBarTitleColor"):!b&&!h&&(objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,0.275,
1),"CPMenuBarTextColor"),objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,0.275,1),"CPMenuBarTitleColor"));!k&&e?objj_msgSend(a,"setObject:forKey:",e,"CPMenuBarTextShadowColor"):k&&!e?objj_msgSend(a,"setObject:forKey:",k,"CPMenuBarTitleShadowColor"):!k&&!e&&(objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTextShadowColor"),objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTitleShadowColor"));
f||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",94/255,130/255,186/255,1),"CPMenuBarHighlightColor");g||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarHighlightTextColor");c||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"blackColor"),"CPMenuBarHighlightTextShadowColor");d&&(objj_msgSend(d,"setColor:",objj_msgSend(a,"objectForKey:","CPMenuBarBackgroundColor")),objj_msgSend(d,"setTextColor:",objj_msgSend(a,
"objectForKey:","CPMenuBarTextColor")),objj_msgSend(d,"setTitleColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleColor")),objj_msgSend(d,"setTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextShadowColor")),objj_msgSend(d,"setTitleShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleShadowColor")),objj_msgSend(d,"setHighlightColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightColor")),objj_msgSend(d,"setHighlightTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextColor")),
objj_msgSend(d,"setHighlightTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextShadowColor")))}}),new objj_method(sel_getUid("menuBarAttributes"),function(b){with(b)return a}),new objj_method(sel_getUid("_setMenuBarIconImageAlphaValue:"),function(a,h,c){with(a)b=c,objj_msgSend(d,"setIconImageAlphaValue:",c)}),new objj_method(sel_getUid("menuBarHeight"),function(a){with(a)return 28}),new objj_method(sel_getUid("_constraintRectForView:"),function(a,b,d){with(a){if(objj_msgSend(CPPlatform,
"isBrowser"))return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"platformWindow"),"contentBounds"),5,5);return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"screen"),"visibleFrame"),5,5)}}),new objj_method(sel_getUid("trackingCallbackWithCallback:"),function(a,b,d){with(a)return function(b,h){objj_msgSend(b,"setMenu:",nil);objj_msgSend(b,"orderOut:",a);objj_msgSend(_CPMenuWindow,"poolMenuWindow:",b);d&&d(h);objj_msgSend(h,"_performActionOfHighlightedItemChain")}}),
new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:"),function(a,b,d,h,c){with(a)objj_msgSend(a,"popUpContextMenu:withEvent:forView:withFont:",d,h,c,nil)}),new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:withFont:"),function(a,b,d,h,c,k){with(a){objj_msgSend(d,"_menuWillOpen");k||(k=objj_msgSend(CPFont,"systemFontOfSize:",12));objj_msgSend(c,"window");b=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",d,k);objj_msgSend(b,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
d=objj_msgSend(CPMenu,"_constraintRectForView:",c);k=objj_msgSend(objj_msgSend(h,"window"),"convertBaseToGlobal:",objj_msgSend(h,"locationInWindow"));objj_msgSend(b,"setConstraintRect:",d);objj_msgSend(b,"setFrameOrigin:",k);if(!objj_msgSend(b,"hasMinimumNumberOfVisibleItems")){var e=objj_msgSend(b,"unconstrainedFrame"),f=CGRectGetMinY(e);if(f>=CGRectGetMaxY(d)||objj_msgSend(b,"canScrollDown"))e.origin.y=MIN(CGRectGetMaxY(d),k.y)-CGRectGetHeight(e);else if(f<CGRectGetMinY(d)||objj_msgSend(b,"canScrollUp"))e.origin.y=
MAX(CGRectGetMinY(d),k.y);objj_msgSend(b,"setFrameOrigin:",CGRectIntersection(e,d).origin)}objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(b,"setPlatformWindow:",objj_msgSend(objj_msgSend(c,"window"),"platformWindow"));objj_msgSend(b,"orderFront:",a);objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",h,b,objj_msgSend(CPMenu,"_constraintRectForView:",c),objj_msgSend(CPMenu,"trackingCallbackWithCallback:",nil))}})]);h=objj_getClass("CPMenu");
if(!h)throw new SyntaxError('*** Could not find definition for class "CPMenu"');k=h.isa;class_addMethods(h,[new objj_method(sel_getUid("countOfItems"),function(a){with(a)return objj_msgSend(_items,"count")}),new objj_method(sel_getUid("objectInItemsAtIndex:"),function(a,b,d){with(a)return objj_msgSend(_items,"objectAtIndex:",d)}),new objj_method(sel_getUid("itemsAtIndexes:"),function(a,b,d){with(a)return objj_msgSend(_items,"objectsAtIndexes:",d)})]);h=objj_getClass("CPMenu");if(!h)throw new SyntaxError('*** Could not find definition for class "CPMenu"');
k=h.isa;class_addMethods(h,[new objj_method(sel_getUid("insertObject:inItemsAtIndex:"),function(a,b,d,h){with(a){if(b=objj_msgSend(d,"menu"))if(b!==a)objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Attempted to insert item into menu that was already in another menu.");else return;objj_msgSend(d,"setMenu:",a);objj_msgSend(_items,"insertObject:atIndex:",d,h);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidAddItemNotification,
a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",h,"CPMenuItemIndex"))}}),new objj_method(sel_getUid("removeObjectFromItemsAtIndex:"),function(a,b,d){with(a){if(d<0||d>=objj_msgSend(_items,"count"))return;objj_msgSend(objj_msgSend(_items,"objectAtIndex:",d),"setMenu:",nil);objj_msgSend(_items,"removeObjectAtIndex:",d);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidRemoveItemNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",
d,"CPMenuItemIndex"))}})]);h=objj_getClass("CPMenu");if(!h)throw new SyntaxError('*** Could not find definition for class "CPMenu"');k=h.isa;class_addMethods(h,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenu").super_class},"init"))_title=objj_msgSend(d,"decodeObjectForKey:","CPMenuTitleKey"),_items=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemsKey"),objj_msgSend(a,"_setMenuName:",objj_msgSend(d,"decodeObjectForKey:",
"CPMenuNameKey")),_showsStateColumn=!objj_msgSend(d,"containsValueForKey:","CPMenuShowsStateColumnKey")||objj_msgSend(d,"decodeBoolForKey:","CPMenuShowsStateColumnKey"),_autoenablesItems=YES,objj_msgSend(a,"setMinimumWidth:",0);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,"encodeObject:forKey:",_title,"CPMenuTitleKey"),_name&&objj_msgSend(d,"encodeObject:forKey:",_name,"CPMenuNameKey"),objj_msgSend(d,"encodeObject:forKey:",_items,"CPMenuItemsKey"),
_showsStateColumn||objj_msgSend(d,"encodeBool:forKey:",_showsStateColumn,"CPMenuShowsStateColumnKey")})]);g("_CPMenuBarWindow.j",YES);g("_CPMenuWindow.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSplitView.j",baseURL),function(i,g){g("CPButtonBar.j",YES);g("CPImage.j",YES);g("CPView.j",YES);CPSplitViewDidResizeSubviewsNotification="CPSplitViewDidResizeSubviewsNotification";CPSplitViewWillResizeSubviewsNotification="CPSplitViewWillResizeSubviewsNotification";var f=nil,e=nil,c=objj_allocateClassPair(CPView,"CPSplitView"),b=c.isa;class_addIvars(c,[new objj_ivar("_delegate"),new objj_ivar("_isVertical"),new objj_ivar("_isPaneSplitter"),
new objj_ivar("_currentDivider"),new objj_ivar("_initialOffset"),new objj_ivar("_preCollapsePosition"),new objj_ivar("_originComponent"),new objj_ivar("_sizeComponent"),new objj_ivar("_DOMDividerElements"),new objj_ivar("_dividerImagePath"),new objj_ivar("_drawingDivider"),new objj_ivar("_needsResizeSubviews"),new objj_ivar("_buttonBars")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSplitView").super_class},
"initWithFrame:",h))_currentDivider=CPNotFound,_DOMDividerElements=[],_buttonBars=[],objj_msgSend(a,"_setVertical:",YES);return a}}),new objj_method(sel_getUid("dividerThickness"),function(a){with(a)return objj_msgSend(a,"currentValueForThemeAttribute:",objj_msgSend(a,"isPaneSplitter")?"pane-divider-thickness":"divider-thickness")}),new objj_method(sel_getUid("isVertical"),function(a){with(a)return _isVertical}),new objj_method(sel_getUid("setVertical:"),function(a,b,h){with(a){if(!objj_msgSend(a,
"_setVertical:",h))return;b=objj_msgSend(a,"frame");h=objj_msgSend(a,"dividerThickness");objj_msgSend(a,"_postNotificationWillResize");var c=ROUND((b.size[_sizeComponent]-h*(_subviews.length-1))/_subviews.length),j=0,e=_subviews.length;if(objj_msgSend(a,"isVertical"))for(;j<e;++j)objj_msgSend(_subviews[j],"setFrame:",CGRectMake(ROUND((c+h)*j),0,c,b.size.height));else for(;j<e;++j)objj_msgSend(_subviews[j],"setFrame:",CGRectMake(0,ROUND((c+h)*j),b.size.width,c));objj_msgSend(a,"setNeedsDisplay:",YES);
objj_msgSend(a,"_postNotificationDidResize")}}),new objj_method(sel_getUid("_setVertical:"),function(a,b,h){with(a)return b=_isVertical!=h,_isVertical=h,_originComponent=objj_msgSend(a,"isVertical")?"x":"y",_sizeComponent=objj_msgSend(a,"isVertical")?"width":"height",_dividerImagePath=objj_msgSend(a,"isVertical")?objj_msgSend(e,"filename"):objj_msgSend(f,"filename"),b}),new objj_method(sel_getUid("isPaneSplitter"),function(a){with(a)return _isPaneSplitter}),new objj_method(sel_getUid("setIsPaneSplitter:"),
function(a,b,h){with(a){if(_isPaneSplitter==h)return;_isPaneSplitter=h;_DOMDividerElements[_drawingDivider]&&objj_msgSend(a,"_setupDOMDivider");_needsResizeSubviews=YES;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("didAddSubview:"),function(a){with(a)_needsResizeSubviews=YES}),new objj_method(sel_getUid("isSubviewCollapsed:"),function(a,b,h){with(a)return objj_msgSend(h,"frame").size[_sizeComponent]<1?YES:NO}),new objj_method(sel_getUid("rectOfDividerAtIndex:"),function(a,
b,h){with(a)return b=objj_msgSend(_subviews[h],"frame"),h=CGRectMakeZero(),h.size=objj_msgSend(a,"frame").size,h.size[_sizeComponent]=objj_msgSend(a,"dividerThickness"),h.origin[_originComponent]=b.origin[_originComponent]+b.size[_sizeComponent],h}),new objj_method(sel_getUid("effectiveRectOfDividerAtIndex:"),function(a,b,h){with(a)return a=objj_msgSend(a,"rectOfDividerAtIndex:",h),a.size[_sizeComponent]+=4,a.origin[_originComponent]-=2,a}),new objj_method(sel_getUid("drawRect:"),function(a){with(a)for(var b=
objj_msgSend(_subviews,"count")-1;b-- >0;)_drawingDivider=b,objj_msgSend(a,"drawDividerInRect:",objj_msgSend(a,"rectOfDividerAtIndex:",b))}),new objj_method(sel_getUid("willRemoveSubview:"),function(a){with(a){var b=_DOMDividerElements.pop();b&&_DOMElement.removeChild(b);_needsResizeSubviews=YES;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a)objj_msgSend(a,"_adjustSubviewsWithCalculatedSize")}),new objj_method(sel_getUid("drawDividerInRect:"),
function(a,b,h){with(a){if(!_DOMDividerElements[_drawingDivider])_DOMDividerElements[_drawingDivider]=document.createElement("div"),_DOMDividerElements[_drawingDivider].style.position="absolute",_DOMDividerElements[_drawingDivider].style.backgroundRepeat="repeat",_DOMElement.appendChild(_DOMDividerElements[_drawingDivider]);objj_msgSend(a,"_setupDOMDivider");a=NULL?{x:CGPointMake(h.origin.x,h.origin.y).x*NULL.a+CGPointMake(h.origin.x,h.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(h.origin.x,h.origin.y).x*
NULL.b+CGPointMake(h.origin.x,h.origin.y).y*NULL.d+NULL.ty}:{x:h.origin.x,y:h.origin.y};_DOMDividerElements[_drawingDivider].style.left=ROUND(a.x)+"px";_DOMDividerElements[_drawingDivider].style.top=ROUND(a.y)+"px";_DOMDividerElements[_drawingDivider].style.width=MAX(0,ROUND(h.size.width))+"px";_DOMDividerElements[_drawingDivider].style.height=MAX(0,ROUND(h.size.height))+"px"}}),new objj_method(sel_getUid("_setupDOMDivider"),function(a){with(a)_isPaneSplitter?(_DOMDividerElements[_drawingDivider].style.backgroundColor=
"",_DOMDividerElements[_drawingDivider].style.backgroundImage="url('"+_dividerImagePath+"')"):(_DOMDividerElements[_drawingDivider].style.backgroundColor=objj_msgSend(objj_msgSend(a,"currentValueForThemeAttribute:","pane-divider-color"),"cssString"),_DOMDividerElements[_drawingDivider].style.backgroundImage="")}),new objj_method(sel_getUid("viewWillDraw"),function(a){with(a)objj_msgSend(a,"_adjustSubviewsWithCalculatedSize")}),new objj_method(sel_getUid("_adjustSubviewsWithCalculatedSize"),function(a){with(a){if(!_needsResizeSubviews)return;
_needsResizeSubviews=NO;var b=objj_msgSend(a,"subviews"),h=b.length,c=CGSizeMakeZero();objj_msgSend(a,"isVertical")?(c.width+=objj_msgSend(a,"dividerThickness")*(h-1),c.height=CGRectGetHeight(objj_msgSend(a,"frame"))):(c.width=CGRectGetWidth(objj_msgSend(a,"frame")),c.height+=objj_msgSend(a,"dividerThickness")*(h-1));for(;h--;)c[_sizeComponent]+=objj_msgSend(b[h],"frame").size[_sizeComponent];objj_msgSend(a,"resizeSubviewsWithOldSize:",c)}}),new objj_method(sel_getUid("cursorAtPoint:hitDividerAtIndex:"),
function(a,b,h,c){with(a){objj_msgSend(_subviews[c],"frame");b=objj_msgSend(a,"effectiveRectOfDividerAtIndex:",c);var e=_buttonBars[c],f=null,g=null;if(e!=null)f=objj_msgSend(e,"resizeControlFrame"),f.origin=objj_msgSend(a,"convertPoint:fromView:",f.origin,e);objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:effectiveRect:forDrawnRect:ofDividerAtIndex:"))&&(b=objj_msgSend(_delegate,"splitView:effectiveRect:forDrawnRect:ofDividerAtIndex:",a,b,b,c));objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("splitView:additionalEffectiveRectOfDividerAtIndex:"))&&(g=objj_msgSend(_delegate,"splitView:additionalEffectiveRectOfDividerAtIndex:",a,c));return CGRectContainsPoint(b,h)||g&&CGRectContainsPoint(g,h)||f&&CGRectContainsPoint(f,h)}}),new objj_method(sel_getUid("hitTest:"),function(a,b,h){with(a){if(objj_msgSend(a,"isHidden")||!objj_msgSend(a,"hitTests")||!CGRectContainsPoint(objj_msgSend(a,"frame"),h))return nil;b=objj_msgSend(a,"convertPoint:fromView:",h,objj_msgSend(a,"superview"));for(var c=
objj_msgSend(_subviews,"count")-1,e=0;e<c;e++)if(objj_msgSend(a,"cursorAtPoint:hitDividerAtIndex:",b,e))return a;return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSplitView").super_class},"hitTest:",h)}}),new objj_method(sel_getUid("trackDivider:"),function(a,b,h){with(a){b=objj_msgSend(h,"type");if(b==CPLeftMouseUp){_currentDivider!=CPNotFound&&(_currentDivider=CPNotFound,objj_msgSend(a,"_updateResizeCursor:",h),objj_msgSend(a,"_postNotificationDidResize"));return}if(b==CPLeftMouseDown){b=
objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(h,"locationInWindow"),nil);_currentDivider=CPNotFound;for(var c=objj_msgSend(_subviews,"count")-1,e=0;e<c;e++){var f=objj_msgSend(_subviews[e],"frame");f=f.origin[_originComponent]+f.size[_sizeComponent];if(objj_msgSend(a,"cursorAtPoint:hitDividerAtIndex:",b,e))if(objj_msgSend(h,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:canCollapseSubview:"))&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:"))){f=
objj_msgSend(a,"minPossiblePositionOfDividerAtIndex:",e);var g=objj_msgSend(a,"maxPossiblePositionOfDividerAtIndex:",e);objj_msgSend(_delegate,"splitView:canCollapseSubview:",a,_subviews[e])&&objj_msgSend(_delegate,"splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:",a,_subviews[e],e)?objj_msgSend(a,"isSubviewCollapsed:",_subviews[e])?objj_msgSend(a,"setPosition:ofDividerAtIndex:",_preCollapsePosition?_preCollapsePosition:f+(g-f)/2,e):objj_msgSend(a,"setPosition:ofDividerAtIndex:",f,
e):objj_msgSend(_delegate,"splitView:canCollapseSubview:",a,_subviews[e+1])&&objj_msgSend(_delegate,"splitView:shouldCollapseSubview:forDoubleClickOnDividerAtIndex:",a,_subviews[e+1],e)&&(objj_msgSend(a,"isSubviewCollapsed:",_subviews[e+1])?objj_msgSend(a,"setPosition:ofDividerAtIndex:",_preCollapsePosition?_preCollapsePosition:f+(g-f)/2,e):objj_msgSend(a,"setPosition:ofDividerAtIndex:",g,e))}else _currentDivider=e,_initialOffset=f-b[_originComponent],objj_msgSend(a,"_postNotificationWillResize")}if(_currentDivider===
CPNotFound)return}else b==CPLeftMouseDragged&&_currentDivider!=CPNotFound&&(b=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(h,"locationInWindow"),nil),objj_msgSend(a,"setPosition:ofDividerAtIndex:",b[_originComponent]+_initialOffset,_currentDivider),objj_msgSend(a,"_updateResizeCursor:",h));objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackDivider:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES)}}),new objj_method(sel_getUid("mouseDown:"),
function(a,b,h){with(a)objj_msgSend(a,"trackDivider:",h)}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a);}),new objj_method(sel_getUid("mouseEntered:"),function(a,b,h){with(a)_currentDivider==CPNotFound&&objj_msgSend(a,"_updateResizeCursor:",h)}),new objj_method(sel_getUid("mouseMoved:"),function(a,b,h){with(a)_currentDivider==CPNotFound&&objj_msgSend(a,"_updateResizeCursor:",h)}),new objj_method(sel_getUid("mouseExited:"),function(a){with(a)_currentDivider==CPNotFound&&objj_msgSend(objj_msgSend(CPCursor,
"arrowCursor"),"set")}),new objj_method(sel_getUid("_updateResizeCursor:"),function(a,b,h){with(a){b=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(h,"locationInWindow"),nil);if(objj_msgSend(h,"type")===CPLeftMouseUp&&!objj_msgSend(objj_msgSend(a,"window"),"acceptsMouseMovedEvents")){objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");return}h=0;for(var c=objj_msgSend(_subviews,"count")-1;h<c;h++)if(_currentDivider===h||_currentDivider==CPNotFound&&objj_msgSend(a,"cursorAtPoint:hitDividerAtIndex:",
b,h)){c=objj_msgSend(_subviews[h],"frame");b=c.size[_sizeComponent];var e=c.origin[_originComponent]+b;c=objj_msgSend(a,"_realPositionForPosition:ofDividerAtIndex:",e-1,h)<e;e=objj_msgSend(a,"_realPositionForPosition:ofDividerAtIndex:",e+1,h)>e;var f=objj_msgSend(CPCursor,"arrowCursor");b===0?e=YES:!c&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:canCollapseSubview:"))&&objj_msgSend(_delegate,"splitView:canCollapseSubview:",a,_subviews[h])&&(c=YES);_isVertical&&c&&e?f=objj_msgSend(CPCursor,
"resizeLeftRightCursor"):_isVertical&&c?f=objj_msgSend(CPCursor,"resizeLeftCursor"):_isVertical&&e?f=objj_msgSend(CPCursor,"resizeRightCursor"):c&&e?f=objj_msgSend(CPCursor,"resizeUpDownCursor"):c?f=objj_msgSend(CPCursor,"resizeUpCursor"):e&&(f=objj_msgSend(CPCursor,"resizeDownCursor"));objj_msgSend(f,"set");return}objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set")}}),new objj_method(sel_getUid("maxPossiblePositionOfDividerAtIndex:"),function(a,b,h){with(a)return b=objj_msgSend(_subviews[h+
1],"frame"),h+1<objj_msgSend(_subviews,"count")-1?b.origin[_originComponent]+b.size[_sizeComponent]-objj_msgSend(a,"dividerThickness"):objj_msgSend(a,"frame").size[_sizeComponent]-objj_msgSend(a,"dividerThickness")}),new objj_method(sel_getUid("minPossiblePositionOfDividerAtIndex:"),function(a,b,h){with(a)return h>0?(b=objj_msgSend(_subviews[h-1],"frame"),b.origin[_originComponent]+b.size[_sizeComponent]+objj_msgSend(a,"dividerThickness")):0}),new objj_method(sel_getUid("_realPositionForPosition:ofDividerAtIndex:"),
function(a,b,h,c){with(a){objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainSplitPosition:ofSubviewAt:"))&&(h=objj_msgSend(_delegate,"splitView:constrainSplitPosition:ofSubviewAt:",a,h,c));var e=objj_msgSend(a,"maxPossiblePositionOfDividerAtIndex:",c);b=objj_msgSend(a,"minPossiblePositionOfDividerAtIndex:",c);var f=e,g=b;objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainMinCoordinate:ofSubviewAt:"))&&(g=objj_msgSend(_delegate,"splitView:constrainMinCoordinate:ofSubviewAt:",
a,b,c));objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:constrainMaxCoordinate:ofSubviewAt:"))&&(f=objj_msgSend(_delegate,"splitView:constrainMaxCoordinate:ofSubviewAt:",a,e,c));c=_subviews[c];f=MAX(MIN(h,f),g);h<b+(g-b)/2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:canCollapseSubview:"))&&objj_msgSend(_delegate,"splitView:canCollapseSubview:",a,c)&&(f=b);return f}}),new objj_method(sel_getUid("setPosition:ofDividerAtIndex:"),function(a,b,h,c){with(a){objj_msgSend(a,
"_adjustSubviewsWithCalculatedSize");b=objj_msgSend(a,"_realPositionForPosition:ofDividerAtIndex:",h,c);h=objj_msgSend(_subviews[c],"frame");var e=objj_msgSend(_subviews[c+1],"frame");_preCollapsePosition=0;var f=h.size[_sizeComponent];h.size[_sizeComponent]=b-h.origin[_originComponent];f!==0&&h.size[_sizeComponent]===0&&(_preCollapsePosition=f);objj_msgSend(_subviews[c],"setFrame:",h);f=e.size[_sizeComponent];e.size[_sizeComponent]=e.origin[_originComponent]+e.size[_sizeComponent]-b-objj_msgSend(a,
"dividerThickness");f!==0&&e.size[_sizeComponent]===0&&(_preCollapsePosition=f);e.origin[_originComponent]=b+objj_msgSend(a,"dividerThickness");objj_msgSend(_subviews[c+1],"setFrame:",e);objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("setFrameSize:"),function(a,b,h){with(a)objj_msgSend(a,"_adjustSubviewsWithCalculatedSize"),objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSplitView").super_class},"setFrameSize:",h),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),
function(a,b,h){with(a){if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitView:resizeSubviewsWithOldSize:"))){objj_msgSend(_delegate,"splitView:resizeSubviewsWithOldSize:",a,h);return}objj_msgSend(a,"_postNotificationWillResize");var c=0;b=objj_msgSend(_subviews,"count");var e=objj_msgSend(a,"bounds"),f=objj_msgSend(a,"dividerThickness"),g=b-1,i=0;c=0;var m=-1,n=0,o=objj_msgSend(a,"isVertical");for(c=0;c<b;++c){var p=_subviews[c],q=o?objj_msgSend(p,"autoresizingMask")&CPViewWidthSizable:
objj_msgSend(p,"autoresizingMask")&CPViewHeightSizable;q&&(i+=objj_msgSend(p,"frame").size[_sizeComponent],m=c,n++)}n===b&&(i=0);c=i?e.size[_sizeComponent]-i:0;n=e.size[_sizeComponent]-h[_sizeComponent];h=h[_sizeComponent]-g*f-c;h=h<=0?0:(e.size[_sizeComponent]-g*f-c)/h;for(c=0;c<b;++c)p=_subviews[c],g=CGRectMakeCopy(e),q=o?objj_msgSend(p,"autoresizingMask")&CPViewWidthSizable:objj_msgSend(p,"autoresizingMask")&CPViewHeightSizable,c+1===b?g.size[_sizeComponent]=e.size[_sizeComponent]-g.origin[_originComponent]:
i&&q&&m===c?g.size[_sizeComponent]=MAX(0,ROUND(objj_msgSend(p,"frame").size[_sizeComponent]+n)):q||!i?(g.size[_sizeComponent]=MAX(0,ROUND(h*objj_msgSend(p,"frame").size[_sizeComponent])),n-=g.size[_sizeComponent]-objj_msgSend(p,"frame").size[_sizeComponent]):i&&!q&&(g.size[_sizeComponent]=objj_msgSend(p,"frame").size[_sizeComponent]),e.origin[_originComponent]+=g.size[_sizeComponent]+f,objj_msgSend(p,"setFrame:",g);objj_msgSend(a,"_postNotificationDidResize")}}),new objj_method(sel_getUid("setDelegate:"),
function(a,b,h){with(a)objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewDidResizeSubviews:"))&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_delegate,CPSplitViewDidResizeSubviewsNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewWillResizeSubviews:"))&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",_delegate,CPSplitViewWillResizeSubviewsNotification,a),_delegate=
h,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewDidResizeSubviews:"))&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_delegate,sel_getUid("splitViewDidResizeSubviews:"),CPSplitViewDidResizeSubviewsNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("splitViewWillResizeSubviews:"))&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",_delegate,sel_getUid("splitViewWillResizeSubviews:"),
CPSplitViewWillResizeSubviewsNotification,a)}),new objj_method(sel_getUid("setButtonBar:forDividerAtIndex:"),function(a,b,h,c){with(a){if(!h){_buttonBars[c]=nil;return}b=objj_msgSend(h,"superview");for(var e=h;b&&b!==a;)e=b,b=objj_msgSend(b,"superview");b!==a&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"CPSplitView button bar must be a subview of the split view.");a=objj_msgSend(objj_msgSend(a,"subviews"),"indexOfObject:",e);objj_msgSend(h,"setHasResizeControl:",YES);objj_msgSend(h,
"setResizeControlIsLeftAligned:",c<a);_buttonBars[c]=h}}),new objj_method(sel_getUid("_postNotificationWillResize"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPSplitViewWillResizeSubviewsNotification,a)}),new objj_method(sel_getUid("_postNotificationDidResize"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPSplitViewDidResizeSubviewsNotification,a)})]);class_addMethods(b,
[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"splitview"}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[1,10,objj_msgSend(CPColor,"grayColor")],["divider-thickness","pane-divider-thickness","pane-divider-color"])}),new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPSplitView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",a);f=objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPSplitView/CPSplitViewHorizontal.png"),CPSizeMake(5,10));e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPSplitView/CPSplitViewVertical.png"),CPSizeMake(10,5))}})]);c=objj_getClass("CPSplitView");if(!c)throw new SyntaxError('*** Could not find definition for class "CPSplitView"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,
b,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSplitView").super_class},"initWithCoder:",h))_currentDivider=CPNotFound,_DOMDividerElements=[],_buttonBars=objj_msgSend(h,"decodeObjectForKey:","CPSplitViewButtonBarsKey")||[],objj_msgSend(a,"setDelegate:",objj_msgSend(h,"decodeObjectForKey:","CPSplitViewDelegateKey")),_isPaneSplitter=objj_msgSend(h,"decodeBoolForKey:","CPSplitViewIsPaneSplitterKey"),objj_msgSend(a,"_setVertical:",objj_msgSend(h,"decodeBoolForKey:","CPSplitViewIsVerticalKey"));
return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,h){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSplitView").super_class},"encodeWithCoder:",h),objj_msgSend(h,"encodeConditionalObject:forKey:",_delegate,"CPSplitViewDelegateKey"),objj_msgSend(h,"encodeBool:forKey:",_isVertical,"CPSplitViewIsVerticalKey"),objj_msgSend(h,"encodeBool:forKey:",_isPaneSplitter,"CPSplitViewIsPaneSplitterKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(i,g){g("Foundation/CPString.j",NO);g("Foundation/CPArray.j",NO);g("CPApplication.j",YES);g("CPResponder.j",YES);g("CPSavePanel.j",YES);g("CPViewController.j",YES);g("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var f=0,e=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(e,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(c,
"setNextResponder:",CPApp);return c}}),new objj_method(sel_getUid("initWithType:error:"),function(c,b,a){with(c)return(c=objj_msgSend(c,"init"))&&objj_msgSend(c,"setFileType:",a),c}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(c,b,a,d,h,e,j){with(c){if(c=objj_msgSend(c,"init"))objj_msgSend(c,"setFileURL:",a),objj_msgSend(c,"setFileType:",d),objj_msgSend(c,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",a,d,h,e,j);return c}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(c,b,a,d,h,e,j,f){with(c){if(c=objj_msgSend(c,"init"))objj_msgSend(c,"setFileURL:",a),objj_msgSend(c,"setFileType:",h),objj_msgSend(c,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",d,h,e,j,f);return c}}),new objj_method(sel_getUid("dataOfType:error:"),function(c){with(c)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(c){with(c)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(c){with(c);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(c){with(c);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(c){with(c)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(c){with(c)objj_msgSend(c,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(c){with(c){var b=objj_msgSend(c,"viewCibName"),a=nil,d=nil;objj_msgSend(b,"length")&&(a=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",b,nil,c));a&&(d=objj_msgSend(c,"firstEligibleExistingWindowController"));if(!d)if(b=objj_msgSend(c,"windowCibName"),objj_msgSend(b,"length"))d=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",b,c);else if(a)d=objj_msgSend(a,"view"),d=objj_msgSend(d,"frame"),d.origin=CGPointMake(50,50),d=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",d,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),d=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",d);d&&a&&objj_msgSend(d,"setSupportsMultipleDocuments:",YES);d&&objj_msgSend(c,"addWindowController:",d);a&&objj_msgSend(c,"addViewController:forWindowController:",
a,d)}}),new objj_method(sel_getUid("windowControllers"),function(c){with(c)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(c,b,a){with(c)objj_msgSend(_windowControllers,"addObject:",a),objj_msgSend(a,"document")!==c&&objj_msgSend(a,"setDocument:",c)}),new objj_method(sel_getUid("removeWindowController:"),function(c,b,a){with(c)a&&objj_msgSend(_windowControllers,"removeObject:",a),objj_msgSend(a,"document")===c&&objj_msgSend(a,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(c){with(c)return _view}),new objj_method(sel_getUid("viewControllers"),function(c){with(c)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(c,b,a,d){with(c)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",a,objj_msgSend(d,"UID")),objj_msgSend(d,"document")===c&&objj_msgSend(d,"setViewController:",a)}),new objj_method(sel_getUid("removeViewController:"),function(c,b,a){with(c)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",a)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(c,b,a){with(c)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(a,"UID"))}),new objj_method(sel_getUid("showWindows"),function(c){with(c)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),c),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),c)}),new objj_method(sel_getUid("displayName"),
function(c){with(c){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++f);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(c){with(c)return nil}),new objj_method(sel_getUid("windowCibName"),function(c){with(c)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(c){with(c);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(c){with(c);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(c,b,a,d,h,e,j){with(c)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",a),c),_readConnection.session={fileType:d,delegate:h,didReadSelector:e,contextInfo:j}}),new objj_method(sel_getUid("fileURL"),function(c){with(c)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(c,b,a){with(c){if(_fileURL===a)return;_fileURL=a;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(c,b,a,d,h,e,j,f){with(c)d=objj_msgSend(c,"dataOfType:error:",objj_msgSend(c,"fileType"),nil),b=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(d,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),h===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),h!==CPSaveToOperation&&objj_msgSend(c,"updateChangeCount:",CPChangeCleared),c=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,c),c.session=
{absoluteURL:a,saveOperation:h,changeCount:b,delegate:e,didSaveSelector:j,contextInfo:f,connection:c}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(c,b,a,d){with(c){if(!objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;b=objj_msgSend(d,"statusCode");if(b===200)return;d=a.session;a==_readConnection?(objj_msgSend(a,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(d.delegate,d.didReadSelector,c,NO,d.contextInfo)):b==409&&
(objj_msgSend(a,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(a,"start")):(d.saveOperation!=CPSaveToOperation&&(_changeCount+=d.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(c,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(d.delegate,d.didSaveSelector,c,
NO,d.contextInfo),objj_msgSend(c,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(c,b,a,d){with(c)b=a.session,a==_readConnection?(objj_msgSend(c,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",d),b.fileType,nil),objj_msgSend(b.delegate,b.didReadSelector,c,YES,b.contextInfo)):(b.saveOperation!=CPSaveToOperation&&objj_msgSend(c,"setFileURL:",b.absoluteURL),_writeRequest=nil,objj_msgSend(b.delegate,b.didSaveSelector,c,
YES,b.contextInfo),objj_msgSend(c,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(c,b,a){with(c)b=a.session,_readConnection==a?objj_msgSend(b.delegate,b.didReadSelector,c,NO,b.contextInfo):(b.saveOperation!=CPSaveToOperation&&(_changeCount+=b.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(c,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(b.delegate,b.didSaveSelector,c,NO,b.contextInfo),objj_msgSend(c,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(c,b,a){with(c)_readConnection==a&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(c){with(c)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(c,b,a){with(c)a==CPChangeDone?++_changeCount:a==CPChangeUndone?--_changeCount:a==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(c,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(c,b,a){with(c)_fileType=a}),new objj_method(sel_getUid("fileType"),function(c){with(c)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(c){with(c)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(c,b,a){with(c){if(_hasUndoManager==a)return;(_hasUndoManager=
a)||objj_msgSend(c,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(c,b,a){with(c){b=objj_msgSend(a,"object");if(objj_msgSend(b,"isUndoing")||objj_msgSend(b,"isRedoing"))return;objj_msgSend(c,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(c){with(c)objj_msgSend(c,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(c){with(c)objj_msgSend(c,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(c,b,a){with(c)if(b=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(b,"removeObserver:name:object:",c,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(b,"removeObserver:name:object:",c,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(b,"removeObserver:name:object:",c,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=a)objj_msgSend(b,"addObserver:selector:name:object:",
c,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(c){with(c)return _hasUndoManager&&!_undoManager&&objj_msgSend(c,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(c){with(c)return objj_msgSend(c,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(c){with(c)objj_msgSend(c,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(c,b,a,d,h){with(c)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,c),objj_msgSend(c,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(c,"fileType"),CPSaveOperation,a,d,h)):objj_msgSend(c,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",a,d,h)}),new objj_method(sel_getUid("saveDocumentAs:"),function(c){with(c)objj_msgSend(c,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(c,b,a,d,h){with(c){b=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(b,"runModal"))return;b=objj_msgSend(b,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,c);objj_msgSend(c,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",b,objj_msgSend(c,"fileType"),CPSaveAsOperation,a,d,h)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(c,b,a){with(c)a?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,c):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,c)})]);e=objj_getClass("CPDocument");if(!e)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(e,[new objj_method(sel_getUid("close"),function(c){with(c)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
c),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",c)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(c,b,a,d,h,e){with(c)objj_msgSend(a,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",a)!==CPNotFound?objj_msgSend(c,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",c,sel_getUid("_document:shouldClose:context:"),
{delegate:d,selector:h,context:e}):objj_msgSend(d,"respondsToSelector:",h)&&objj_msgSend(d,h,c,YES,e)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(c,b,a,d,h){with(c)a===c&&d&&objj_msgSend(c,"close"),objj_msgSend(h.delegate,h.selector,a,d,h.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(c,b,a,d,h){with(c){if(!objj_msgSend(c,"isDocumentEdited"))return objj_msgSend(a,"respondsToSelector:",d)&&objj_msgSend(a,d,
c,YES,h);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",c);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(c,"displayName")||objj_msgSend(c,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:a,selector:d,context:h};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(c,b,a,d){with(c){if(a!==_canCloseAlert)return;b=a._context.delegate;var h=a._context.selector;a=a._context.context;d===0?objj_msgSend(c,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",b,h,a):objj_msgSend(b,h,c,d===2,a);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuManager.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);_CPMenuManagerScrollingStateUp=-1;_CPMenuManagerScrollingStateDown=1;_CPMenuManagerScrollingStateNone=0;var f=nil,e=objj_allocateClassPair(CPObject,"_CPMenuManager"),c=e.isa;class_addIvars(e,[new objj_ivar("_startTime"),new objj_ivar("_hasMouseGoneUpAfterStartedTracking"),new objj_ivar("_scrollingState"),new objj_ivar("_lastGlobalLocation"),new objj_ivar("_lastMouseOverMenuView"),new objj_ivar("_constraintRect"),
new objj_ivar("_menuContainerStack"),new objj_ivar("_trackingCallback"),new objj_ivar("_keyBuffer"),new objj_ivar("_previousActiveItem"),new objj_ivar("_showTimerID")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(b){with(b){if(f)return f;return objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPMenuManager").super_class},"init")}}),new objj_method(sel_getUid("trackingMenuContainer"),function(b){with(b)return _menuContainerStack[0]}),new objj_method(sel_getUid("trackingMenu"),
function(b){with(b)return objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"menu")}),new objj_method(sel_getUid("beginTracking:menuContainer:constraintRect:callback:"),function(b,a,d,h,c,e){with(b){a=objj_msgSend(h,"menu");if(objj_msgSend(a,"numberOfItems")<=0)return;CPApp._activeMenu=a;_startTime=objj_msgSend(d,"timestamp");_scrollingState=_CPMenuManagerScrollingStateNone;_constraintRect=c;_menuContainerStack=[h];_trackingCallback=e;if(a===objj_msgSend(CPApp,"mainMenu")&&(c=objj_msgSend(d,"globalLocation"),
c=objj_msgSend(h,"convertGlobalToBase:",c),c=objj_msgSend(h,"itemIndexAtPoint:",c),a=c!==CPNotFound?objj_msgSend(a,"itemAtIndex:",c):nil,_menuBarButtonItemIndex=c,_menuBarButtonMenuContainer=h,objj_msgSend(a,"_isMenuBarButton")))return objj_msgSend(b,"trackMenuBarButtonEvent:",d);_hasMouseGoneUpAfterStartedTracking=NO;objj_msgSend(b,"trackEvent:",d)}}),new objj_method(sel_getUid("trackEvent:"),function(b,a,d){with(b){a=objj_msgSend(d,"type");var h=objj_msgSend(b,"trackingMenu");if(a===CPAppKitDefined)return objj_msgSend(b,
"completeTracking");objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",b,sel_getUid("trackEvent:"),CPKeyDownMask|CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPRightMouseUpMask|CPAppKitDefinedMask|CPScrollWheelMask,nil,nil,YES);if(a===CPKeyDown){for(var c=h,e=objj_msgSend(objj_msgSend(c,"highlightedItem"),"submenu");e&&objj_msgSend(e._menuWindow,"isVisible");)c=e,e=objj_msgSend(objj_msgSend(c,"highlightedItem"),"submenu");objj_msgSend(c,
"numberOfItems")&&objj_msgSend(b,"interpretKeyEvent:forMenu:",d,c);return}if(_keyBuffer&&(objj_msgSend(CPDate,"date")-_startTime>500+objj_msgSend(e,"numberOfItems")/2&&objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,c,YES),a===CPPeriodic))return;var f=a===CPPeriodic?_lastGlobalLocation:objj_msgSend(d,"globalLocation");_lastGlobalLocation=f;if(!_lastGlobalLocation)return;c=objj_msgSend(b,"menuContainerForPoint:",f);e=objj_msgSend(c,"menu");var g=objj_msgSend(c,"convertGlobalToBase:",
f),i=c?objj_msgSend(c,"itemIndexAtPoint:",g):CPNotFound,m=i!==CPNotFound?objj_msgSend(e,"itemAtIndex:",i):nil;if(!objj_msgSend(m,"isEnabled")||objj_msgSend(m,"_isMenuBarButton"))i=CPNotFound,m=nil;var n=objj_msgSend(m,"view");a===CPScrollWheel&&objj_msgSend(c,"scrollByDelta:",objj_msgSend(d,"deltaY"));a===CPPeriodic&&(_scrollingState===_CPMenuManagerScrollingStateUp?objj_msgSend(c,"scrollUp"):_scrollingState===_CPMenuManagerScrollingStateDown&&objj_msgSend(c,"scrollDown"));if(n)_lastMouseOverMenuView||
objj_msgSend(e,"_highlightItemAtIndex:",CPNotFound),_lastMouseOverMenuView!=n&&(objj_msgSend(n,"mouseExited:",d),objj_msgSend(_lastMouseOverMenuView,"mouseEntered:",d),_lastMouseOverMenuView=n),h=c,objj_msgSend(h,"isKindOfClass:",objj_msgSend(CPWindow,"class"))||(h=objj_msgSend(h,"window")),objj_msgSend(h,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",a,g,objj_msgSend(d,"modifierFlags"),objj_msgSend(d,"timestamp"),
h,nil,0,objj_msgSend(d,"clickCount"),objj_msgSend(d,"pressure")));else if(_lastMouseOverMenuView&&(objj_msgSend(_lastMouseOverMenuView,"mouseExited:",d),_lastMouseOverMenuView=nil),objj_msgSend(e,"_highlightItemAtIndex:",i),a===CPMouseMoved||a===CPLeftMouseDragged||a===CPLeftMouseDown||a===CPPeriodic)d=_scrollingState,_scrollingState=objj_msgSend(c,"scrollingStateForPoint:",f),_scrollingState!==d&&(_scrollingState===_CPMenuManagerScrollingStateNone?objj_msgSend(CPEvent,"stopPeriodicEvents"):d===_CPMenuManagerScrollingStateNone&&
objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0,0.04));else if(a===CPLeftMouseUp||a===CPRightMouseUp)if(_hasMouseGoneUpAfterStartedTracking){if(objj_msgSend(m,"action")===sel_getUid("submenuAction:"))return;objj_msgSend(h,"cancelTracking")}else _hasMouseGoneUpAfterStartedTracking=YES;_previousActiveItem!==m&&(clearTimeout(_showTimerID),_showTimerID=void 0);if(objj_msgSend(m,"hasSubmenu")){d=objj_msgSend(c,"rectForItemAtIndex:",i);var o;o=objj_msgSend(c,"isMenuBar")?CGPointMake(CGRectGetMinX(d),
CGRectGetMaxY(d)):CGPointMake(CGRectGetMaxX(d),CGRectGetMinY(d));o=objj_msgSend(c,"convertBaseToGlobal:",o);_showTimerID===void 0&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,e,CGPointMakeZero()),objj_msgSend(c,"isMenuBar")?objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(m,"submenu"),objj_msgSend(m,"menu"),o):_showTimerID=setTimeout(function(){objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(m,"submenu"),objj_msgSend(m,"menu"),o)},250))}else objj_msgSend(b,"showMenu:fromMenu:atPoint:",
nil,e,CGPointMakeZero());_previousActiveItem=m}}),new objj_method(sel_getUid("trackMenuBarButtonEvent:"),function(b,a,d){with(b){a=objj_msgSend(d,"type");if(a===CPAppKitDefined)return objj_msgSend(b,"completeTracking");var h=objj_msgSend(d,"globalLocation");d=objj_msgSend(b,"trackingMenu");var c=objj_msgSend(b,"trackingMenuContainer");h=objj_msgSend(c,"convertGlobalToBase:",h);objj_msgSend(c,"itemIndexAtPoint:",h)===_menuBarButtonItemIndex?objj_msgSend(d,"_highlightItemAtIndex:",_menuBarButtonItemIndex):
objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",b,sel_getUid("trackMenuBarButtonEvent:"),CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask,nil,nil,YES);a===CPLeftMouseUp&&objj_msgSend(d,"cancelTracking")}}),new objj_method(sel_getUid("completeTracking"),function(b){with(b){var a=objj_msgSend(b,"trackingMenu");objj_msgSend(CPEvent,"stopPeriodicEvents");objj_msgSend(b,
"showMenu:fromMenu:atPoint:",nil,a,nil);objj_msgSend(a,"_menuDidClose");_trackingCallback&&_trackingCallback(objj_msgSend(b,"trackingMenuContainer"),a);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPMenuDidEndTrackingNotification,a);CPApp._activeMenu=nil}}),new objj_method(sel_getUid("menuContainerForPoint:"),function(b,a,d){with(b){var h=objj_msgSend(_menuContainerStack,"count"),c=_menuContainerStack[0];if(h===1)return c;b=0;a=h-1;if(objj_msgSend(c,
"isMenuBar")){if(CGRectContainsPoint(objj_msgSend(c,"globalFrame"),d))return c;b=1}d=d.x;c=Infinity;for(var e=nil;h-- >b;){var f=_menuContainerStack[h],g=objj_msgSend(f,"globalFrame"),i=g.origin.x;g=g.origin.x+g.size.width;if(d<g&&d>=i)return f;if(h===b||h===a)i=ABS(d<i?i-d:g-d),i<c&&(e=f,c=i)}return e}}),new objj_method(sel_getUid("showMenu:fromMenu:atPoint:"),function(b,a,d,h,c){with(b){a=_menuContainerStack.length;for(objj_msgSend(d,"_menuWillOpen");a--;){var e=_menuContainerStack[a],f=objj_msgSend(e,
"menu");if(f===h)break;if(f===d)return objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(e,"orderOut:",b);objj_msgSend(e,"setMenu:",nil);objj_msgSend(_CPMenuWindow,"poolMenuWindow:",e);objj_msgSend(_menuContainerStack,"removeObjectAtIndex:",a);objj_msgSend(f,"_menuDidClose")}if(!d)return;objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);d=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",d,objj_msgSend(_menuContainerStack[0],"font"));objj_msgSend(_menuContainerStack,"addObject:",
d);objj_msgSend(d,"setConstraintRect:",_constraintRect);h===objj_msgSend(b,"trackingMenu")&&objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"isMenuBar")?objj_msgSend(d,"setBackgroundStyle:",_CPMenuWindowMenuBarBackgroundStyle):objj_msgSend(d,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);objj_msgSend(d,"setFrameOrigin:",c);objj_msgSend(d,"orderFront:",b)}}),new objj_method(sel_getUid("interpretKeyEvent:forMenu:"),function(b,a,d,h){with(b){a=objj_msgSend(d,"modifierFlags");d=objj_msgSend(d,
"charactersIgnoringModifiers");var c=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",d,a);if(c)for(a=objj_msgSend(c,"objectEnumerator");d=objj_msgSend(a,"nextObject");)d=CPSelectorFromString(d),objj_msgSend(b,"respondsToSelector:",d)&&objj_msgSend(b,"performSelector:withObject:",d,h);else a&(CPCommandKeyMask|CPControlKeyMask)||(_keyBuffer?_keyBuffer+=d:(_startTime=objj_msgSend(CPDate,"date"),_keyBuffer=d,objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",
0.1,0.1)),objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,h,NO),_lastGlobalLocation=Nil)}}),new objj_method(sel_getUid("selectNextItemBeginningWith:inMenu:clearBuffer:"),function(b,a,d,c,e){with(b){for(b=objj_msgSend(objj_msgSend(c,"itemArray"),"objectEnumerator");a=objj_msgSend(b,"nextObject");)if(!objj_msgSend(a,"isHidden")&&objj_msgSend(a,"isEnabled")&&objj_msgSend(objj_msgSend(objj_msgSend(a,"title"),"commonPrefixWithString:options:",d,CPCaseInsensitiveSearch),"length")==
objj_msgSend(d,"length")){objj_msgSend(c,"_highlightItemAtIndex:",b._index);break}e?(objj_msgSend(CPEvent,"stopPeriodicEvents"),_keyBuffer=Nil):_startTime=objj_msgSend(CPDate,"date")}}),new objj_method(sel_getUid("scrollToBeginningOfDocument:"),function(b,a,d){with(b)objj_msgSend(d,"_highlightItemAtIndex:",0)}),new objj_method(sel_getUid("scrollToEndOfDocument:"),function(b,a,d){with(b)objj_msgSend(d,"_highlightItemAtIndex:",objj_msgSend(d,"numberOfItems")-1)}),new objj_method(sel_getUid("scrollPageDown:"),
function(b,a,d){with(b){var c=d._menuWindow,e=objj_msgSend(c._menuClipView,"bounds").size.height;a=objj_msgSend(c,"itemIndexAtPoint:",CGPointMake(1,10));c=objj_msgSend(c,"itemIndexAtPoint:",CGPointMake(1,e));e=objj_msgSend(d,"indexOfItem:",objj_msgSend(d,"highlightedItem"));if(e==CPNotFound){objj_msgSend(d,"_highlightItemAtIndex:",0);return}next=e+(c-a);next<objj_msgSend(d,"numberOfItems")?objj_msgSend(d,"_highlightItemAtIndex:",next):objj_msgSend(d,"_highlightItemAtIndex:",objj_msgSend(d,"numberOfItems")-
1);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",d)}}),new objj_method(sel_getUid("scrollPageUp:"),function(b,a,d){with(b){var c=d._menuWindow,e=objj_msgSend(c._menuClipView,"bounds").size.height;a=objj_msgSend(c,"itemIndexAtPoint:",CGPointMake(1,10));c=objj_msgSend(c,"itemIndexAtPoint:",CGPointMake(1,e));e=objj_msgSend(d,"indexOfItem:",objj_msgSend(d,"highlightedItem"));if(e==CPNotFound){objj_msgSend(d,
"_highlightItemAtIndex:",0);return}next=e-(c-a);next<0?objj_msgSend(d,"_highlightItemAtIndex:",0):objj_msgSend(d,"_highlightItemAtIndex:",next);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveUp:",d)}}),new objj_method(sel_getUid("moveLeft:"),function(b,a,d){with(b)objj_msgSend(d,"supermenu")&&(objj_msgSend(d,"supermenu")==objj_msgSend(CPApp,"mainMenu")?(objj_msgSend(b,"showMenu:fromMenu:atPoint:",
nil,objj_msgSend(d,"supermenu"),CGPointMakeZero()),objj_msgSend(b,"moveUp:",objj_msgSend(CPApp,"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),d=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameSize").height),objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),d)):objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,objj_msgSend(d,"supermenu"),CGPointMakeZero()))}),
new objj_method(sel_getUid("moveRight:"),function(b,a,d){with(b)if(a=objj_msgSend(d,"highlightedItem"),objj_msgSend(a,"hasSubmenu")){if(objj_msgSend(objj_msgSend(a,"submenu"),"numberOfItems")){var c=objj_msgSend(d,"indexOfItem:",a);d=d._menuWindow;c=objj_msgSend(d,"rectForItemAtIndex:",c);c=objj_msgSend(d,"isMenuBar")?CGPointMake(CGRectGetMinX(c),CGRectGetMaxY(c)):CGPointMake(CGRectGetMaxX(c),CGRectGetMinY(c));c=objj_msgSend(d,"convertBaseToGlobal:",c);objj_msgSend(b,"showMenu:fromMenu:atPoint:",
objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),c);objj_msgSend(b,"moveDown:",objj_msgSend(a,"submenu"))}}else objj_msgSend(b,"trackingMenu")==objj_msgSend(CPApp,"mainMenu")&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,d,CGPointMakeZero()),objj_msgSend(b,"moveDown:",objj_msgSend(CPApp,"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),d=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameSize").height),
objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),d))}),new objj_method(sel_getUid("moveDown:"),function(b,a,d){with(b)a=d._highlightedIndex+1,a<objj_msgSend(d,"numberOfItems")&&(objj_msgSend(d,"_highlightItemAtIndex:",a),a=objj_msgSend(d,"highlightedItem"),(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",d))}),new objj_method(sel_getUid("moveUp:"),function(b,a,d){with(b){a=d._highlightedIndex-
1;if(a<0)return;objj_msgSend(d,"_highlightItemAtIndex:",a);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveUp:",d)}}),new objj_method(sel_getUid("insertNewline:"),function(b,a,d){with(b)objj_msgSend(objj_msgSend(d,"highlightedItem"),"hasSubmenu")?objj_msgSend(b,"moveRight:",d):objj_msgSend(d,"cancelTracking")}),new objj_method(sel_getUid("cancelOperation:"),function(b,a,d){with(b)objj_msgSend(d,
"_highlightItemAtIndex:",CPNotFound),objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(objj_msgSend(b,"trackingMenu"),"cancelTracking")})]);class_addMethods(c,[new objj_method(sel_getUid("sharedMenuManager"),function(b){with(b)return f||(f=objj_msgSend(objj_msgSend(_CPMenuManager,"alloc"),"init")),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPImageAndTextView.j",baseURL),function(i,g){g("Foundation/CPString.j",NO);g("CPColor.j",YES);g("CPFont.j",YES);g("CPImage.j",YES);g("CPView.j",YES);g("CPControl.j",YES);var f=objj_allocateClassPair(CPView,"_CPImageAndTextView");class_addIvars(f,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),
new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_imageOffset"),new objj_ivar("_shouldDimImage"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:control:"),function(e,c,b,a){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPImageAndTextView").super_class},
"initWithFrame:",b))_textShadowOffset={width:0,height:0},objj_msgSend(e,"setVerticalAlignment:",CPTopVerticalTextAlignment),a?(objj_msgSend(e,"setLineBreakMode:",objj_msgSend(a,"lineBreakMode")),objj_msgSend(e,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(e,"setAlignment:",objj_msgSend(a,"alignment")),objj_msgSend(e,"setVerticalAlignment:",objj_msgSend(a,"verticalAlignment")),objj_msgSend(e,"setFont:",objj_msgSend(a,"font")),objj_msgSend(e,"setImagePosition:",objj_msgSend(a,"imagePosition")),
objj_msgSend(e,"setImageScaling:",objj_msgSend(a,"imageScaling")),objj_msgSend(e,"setImageOffset:",objj_msgSend(a,"imageOffset"))):(objj_msgSend(e,"setLineBreakMode:",CPLineBreakByClipping),objj_msgSend(e,"setAlignment:",CPCenterTextAlignment),objj_msgSend(e,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12)),objj_msgSend(e,"setImagePosition:",CPNoImage),objj_msgSend(e,"setImageScaling:",CPScaleNone)),_textSize=nil;return e}}),new objj_method(sel_getUid("initWithFrame:"),function(e,c,b){with(e)return objj_msgSend(e,
"initWithFrame:control:",b,nil)}),new objj_method(sel_getUid("setAlignment:"),function(e,c,b){with(e){if(_alignment===b)return;_alignment=b;switch(_alignment){case CPLeftTextAlignment:_DOMElement.style.textAlign="left";break;case CPRightTextAlignment:_DOMElement.style.textAlign="right";break;case CPCenterTextAlignment:_DOMElement.style.textAlign="center";break;case CPJustifiedTextAlignment:_DOMElement.style.textAlign="justify";break;case CPNaturalTextAlignment:_DOMElement.style.textAlign=""}}}),new objj_method(sel_getUid("alignment"),
function(e){with(e)return _alignment}),new objj_method(sel_getUid("setVerticalAlignment:"),function(e,c,b){with(e){if(_verticalAlignment===b)return;_verticalAlignment=b;_flags|=16;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("verticalAlignment"),function(e){with(e)return _verticalAlignment}),new objj_method(sel_getUid("setLineBreakMode:"),function(e,c,b){with(e){if(_lineBreakMode===b)return;_lineBreakMode=b;_flags|=32;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("lineBreakMode"),
function(e){with(e)return _lineBreakMode}),new objj_method(sel_getUid("setImagePosition:"),function(e,c,b){with(e){if(_imagePosition==b)return;_imagePosition==CPNoImage&&(_flags|=2);_imagePosition=b;_flags|=512;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imagePosition"),function(e){with(e)return _imagePosition}),new objj_method(sel_getUid("setImageScaling:"),function(e,c,b){with(e){if(_imageScaling==b)return;_imageScaling=b;_flags|=1024;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imageScaling"),
function(e){with(e)return _imageScaling}),new objj_method(sel_getUid("setDimsImage:"),function(e,c,b){with(e)b=!!b,_shouldDimImage!==b&&(_shouldDimImage=b,objj_msgSend(e,"setNeedsLayout"))}),new objj_method(sel_getUid("setTextColor:"),function(e,c,b){with(e){if(_textColor===b)return;_textColor=b;_DOMElement.style.color=objj_msgSend(_textColor,"cssString")}}),new objj_method(sel_getUid("textColor"),function(e){with(e)return _textColor}),new objj_method(sel_getUid("setFont:"),function(e,c,b){with(e){if(_font===
b)return;_font=b;_flags|=128;_textSize=nil;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("font"),function(e){with(e)return _font}),new objj_method(sel_getUid("setTextShadowColor:"),function(e,c,b){with(e){if(_textShadowColor===b)return;_textShadowColor=b;_flags|=256;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowColor"),function(e){with(e)return _textShadowColor}),new objj_method(sel_getUid("setTextShadowOffset:"),function(e,c,b){with(e){if(_textShadowOffset.width==
b.width&&_textShadowOffset.height==b.height)return;_textShadowOffset={width:b.width,height:b.height};objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowOffset"),function(e){with(e)return _textShadowOffset}),new objj_method(sel_getUid("setImage:"),function(e,c,b){with(e){if(_image==b)return;objj_msgSend(_image,"delegate")===e&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",e,CPImageDidLoadNotification,_image);_image=b;_flags|=2;
objj_msgSend(_image,"loadStatus")!==CPImageLoadStatusCompleted&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",e,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,_image);objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("setImageOffset:"),function(e,c,b){with(e){if(_imageOffset===b)return;_imageOffset=b;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imageOffset"),function(e){with(e)return _imageOffset}),new objj_method(sel_getUid("imageDidLoad:"),
function(e){with(e)_flags|=2,objj_msgSend(e,"setNeedsLayout")}),new objj_method(sel_getUid("image"),function(e){with(e)return _image}),new objj_method(sel_getUid("setText:"),function(e,c,b){with(e){if(_text===b)return;_text=b;_flags|=4;_textSize=nil;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("text"),function(e){with(e)return _text}),new objj_method(sel_getUid("layoutSubviews"),function(e){with(e){var c=_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0,b=!!_DOMTextElement;
if(c!==b)b?(_DOMElement.removeChild(_DOMTextElement),_DOMTextElement=nil,b=NO):(_DOMTextElement=document.createElement("div"),c=_DOMTextElement.style,c.position="absolute",c.whiteSpace="pre",c.zIndex=200,c.overflow="hidden",_DOMElement.appendChild(_DOMTextElement),b=YES,_flags|=164);c=b?_DOMTextElement.style:nil;var a=!!_DOMTextShadowElement;if((b&&!!_textShadowColor)!==a)a?(_DOMElement.removeChild(_DOMTextShadowElement),_DOMTextShadowElement=nil,a=NO):(_DOMTextShadowElement=document.createElement("div"),
a=_DOMTextShadowElement.style,a.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString"),a.position="absolute",a.whiteSpace=c.whiteSpace,a.wordWrap=c.wordWrap,a.color=objj_msgSend(_textShadowColor,"cssString"),a.zIndex=150,a.textOverflow=c.textOverflow,document.attachEvent?a.overflow=c.overflow:(a.overflowX=c.overflowX,a.overflowY=c.overflowY),_DOMElement.appendChild(_DOMTextShadowElement),a=YES,_flags|=4);a=a?_DOMTextShadowElement.style:nil;if(b){if(_flags&4)if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature)){if(_DOMTextElement.innerText=
_text,_DOMTextShadowElement)_DOMTextShadowElement.innerText=_text}else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature)&&(_DOMTextElement.textContent=_text,_DOMTextShadowElement))_DOMTextShadowElement.textContent=_text;if(_flags&128){var d=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");c.font=d;if(a)a.font=d}if(_flags&32){switch(_lineBreakMode){case CPLineBreakByClipping:c.overflow="hidden";c.textOverflow="clip";c.whiteSpace="pre";c.wordWrap="normal";break;
case CPLineBreakByTruncatingHead:case CPLineBreakByTruncatingMiddle:case CPLineBreakByTruncatingTail:c.textOverflow="ellipsis";c.whiteSpace="nowrap";c.overflow="hidden";c.wordWrap="normal";break;case CPLineBreakByCharWrapping:case CPLineBreakByWordWrapping:c.wordWrap="break-word";try{c.whiteSpace="pre",c.whiteSpace="-o-pre-wrap",c.whiteSpace="-pre-wrap",c.whiteSpace="-moz-pre-wrap",c.whiteSpace="pre-wrap"}catch(h){c.whiteSpace="pre"}c.overflow="hidden";c.textOverflow="clip"}if(a)document.attachEvent?
a.overflow=c.overflow:(a.overflowX=c.overflowX,a.overflowY=c.overflowY),a.wordWrap=c.wordWrap,a.whiteSpace=c.whiteSpace,a.textOverflow=c.textOverflow}}var k=!!_DOMImageElement;if((_image!==nil&&_imagePosition!==CPNoImage)!==k)if(k)_DOMElement.removeChild(_DOMImageElement),_DOMImageElement=nil,k=NO;else{_DOMImageElement=document.createElement("img");objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");
var j=_DOMImageElement.style;j.top="0px";j.left="0px";j.position="absolute";j.zIndex=100;_DOMElement.appendChild(_DOMImageElement);k=YES}d=objj_msgSend(e,"bounds").size;e={origin:{x:0,y:0},size:{width:d.width,height:d.height}};if(k){if(!j)j=_DOMImageElement.style;if(_flags&2)_DOMImageElement.src=objj_msgSend(_image,"filename");k=d.width/2;var f=d.height/2,g=objj_msgSend(_image,"size"),i=g.width;g=g.height;if(_imageScaling===CPScaleToFit)i=d.width,g=d.height;else if(_imageScaling===CPScaleProportionally){var m=
MIN(MIN(d.width,i)/i,MIN(d.height,g)/g);i*=m;g*=m}CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?j.filter="alpha(opacity="+_shouldDimImage?35:"100)":j.opacity=_shouldDimImage?0.35:1;_DOMImageElement.width=i;_DOMImageElement.height=g;j.width=MAX(i,0)+"px";j.height=MAX(g,0)+"px";if(_imagePosition===CPImageBelow)j.left=FLOOR(k-i/2)+"px",j.top=FLOOR(d.height-g)+"px",e.size.height=d.height-g-_imageOffset;else if(_imagePosition===CPImageAbove)j.left=FLOOR(k-i/2)+"px",j.top="0px",e.origin.y+=g+_imageOffset,
e.size.height=d.height-g-_imageOffset;else if(_imagePosition===CPImageLeft)j.top=FLOOR(f-g/2)+"px",j.left="0px",e.origin.x=i+_imageOffset,e.size.width-=i+_imageOffset;else if(_imagePosition===CPImageRight)j.top=FLOOR(f-g/2)+"px",j.left=FLOOR(d.width-i)+"px",e.size.width-=i+_imageOffset;else if(_imagePosition===CPImageOnly||_imagePosition==CPImageOverlaps)j.top=FLOOR(f-g/2)+"px",j.left=FLOOR(k-i/2)+"px"}if(b){b=e.origin.x;j=e.origin.y;d=e.size.width;e=e.size.height;if(_verticalAlignment!==CPTopVerticalTextAlignment)_textSize||
(_textSize=_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping?objj_msgSend(_text,"sizeWithFont:inWidth:",_font,d):objj_msgSend(_text,"sizeWithFont:",_font)),_verticalAlignment===CPCenterVerticalTextAlignment?j+=(e-_textSize.height)/2:j=j+e-_textSize.height,e=_textSize.height;c.top=ROUND(j)+"px";c.left=ROUND(b)+"px";c.width=MAX(ROUND(d),0)+"px";c.height=MAX(ROUND(e),0)+"px";if(a){if(_flags&256)a.color=objj_msgSend(_textShadowColor,"cssString");a.top=ROUND(j+_textShadowOffset.height)+
"px";a.left=ROUND(b+_textShadowOffset.width)+"px";a.width=MAX(ROUND(d),0)+"px";a.height=MAX(ROUND(e),0)+"px"}}_flags=0}}),new objj_method(sel_getUid("sizeToFit"),function(e){with(e){var c=CGSizeMakeZero();if(_imagePosition!==CPNoImage&&_image){var b=objj_msgSend(_image,"size");c.width+=b.width;c.height+=b.height}if(_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0)if(_textSize||(_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12))),!_image||
_imagePosition===CPImageOverlaps)c.width=MAX(c.width,_textSize.width),c.height=MAX(c.height,_textSize.height);else if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight)c.width+=_textSize.width+_imageOffset,c.height=MAX(c.height,_textSize.height);else if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow)c.width=MAX(c.width,_textSize.width),c.height+=_textSize.height+_imageOffset;objj_msgSend(e,"setFrameSize:",c)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPArray.j",baseURL),function(i,g){g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPObject.j",YES);g("CPRange.j",YES);g("CPSortDescriptor.j",YES);CPEnumerationNormal=0;CPEnumerationConcurrent=1;CPEnumerationReverse=2;CPBinarySearchingFirstEqual=256;CPBinarySearchingLastEqual=512;CPBinarySearchingInsertionIndex=1024;var f=Array.prototype.concat,e=Array.prototype.join,c=Array.prototype.push,b=objj_allocateClassPair(CPObject,
"CPArray"),a=b.isa;objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,"alloc"),objj_msgSend.apply(this,arguments);return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("initWithArray:"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,"alloc"),objj_msgSend.apply(this,arguments);return objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("initWithArray:copyItems:"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,"alloc"),objj_msgSend.apply(this,arguments);return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("initWithObjects:"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,"alloc"),objj_msgSend.apply(this,arguments);
return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("initWithObjects:count:"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,"alloc"),objj_msgSend.apply(this,arguments);return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("initWithCapacity:"),function(a){with(a){if(a===d)return arguments[0]=objj_msgSend(_CPJavaScriptArray,
"alloc"),objj_msgSend.apply(this,arguments);return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPArray").super_class},"init")}}),new objj_method(sel_getUid("containsObject:"),function(a,b,d){with(a)return objj_msgSend(a,"indexOfObject:",d)!==CPNotFound}),new objj_method(sel_getUid("containsObjectIdenticalTo:"),function(a,b,d){with(a)return objj_msgSend(a,"indexOfObjectIdenticalTo:",d)!==CPNotFound}),new objj_method(sel_getUid("count"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,
b)}),new objj_method(sel_getUid("firstObject"),function(a){with(a){if(objj_msgSend(a,"count")>0)return objj_msgSend(a,"objectAtIndex:",0);return nil}}),new objj_method(sel_getUid("lastObject"),function(a){with(a){var b=objj_msgSend(a,"count");if(b<=0)return nil;return objj_msgSend(a,"objectAtIndex:",b-1)}}),new objj_method(sel_getUid("objectAtIndex:"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("objectsAtIndexes:"),function(a,b,d){with(a){b=CPNotFound;
for(var c=[];(b=objj_msgSend(d,"indexGreaterThanIndex:",b))!==CPNotFound;)c.push(objj_msgSend(a,"objectAtIndex:",b));return c}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a)return objj_msgSend(objj_msgSend(_CPArrayEnumerator,"alloc"),"initWithArray:",a)}),new objj_method(sel_getUid("reverseObjectEnumerator"),function(a){with(a)return objj_msgSend(objj_msgSend(_CPReverseArrayEnumerator,"alloc"),"initWithArray:",a)}),new objj_method(sel_getUid("indexOfObject:"),function(a,b,d){with(a)return objj_msgSend(a,
"indexOfObject:inRange:",d,nil)}),new objj_method(sel_getUid("indexOfObject:inRange:"),function(a,b,d,c){with(a){if(d&&d.isa){b=c?c.location:0;for(c=c?CPMaxRange(c):objj_msgSend(a,"count");b<c;++b)if(objj_msgSend(objj_msgSend(a,"objectAtIndex:",b),"isEqual:",d))return b;return CPNotFound}return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",d,c)}}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:"),function(a,b,d){with(a)return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",d,nil)}),
new objj_method(sel_getUid("indexOfObjectIdenticalTo:inRange:"),function(a,b,d,c){with(a){b=c?c.location:0;for(c=c?CPMaxRange(c):objj_msgSend(a,"count");b<c;++b)if(objj_msgSend(a,"objectAtIndex:",b)===d)return b;return CPNotFound}}),new objj_method(sel_getUid("indexOfObjectPassingTest:"),function(a,b,d){with(a)return objj_msgSend(a,"indexOfObjectWithOptions:passingTest:context:",CPEnumerationNormal,d,void 0)}),new objj_method(sel_getUid("indexOfObjectPassingTest:context:"),function(a,b,d,c){with(a)return objj_msgSend(a,
"indexOfObjectWithOptions:passingTest:context:",CPEnumerationNormal,d,c)}),new objj_method(sel_getUid("indexOfObjectWithOptions:passingTest:"),function(a,b,d,c){with(a)return objj_msgSend(a,"indexOfObjectWithOptions:passingTest:context:",d,c,void 0)}),new objj_method(sel_getUid("indexOfObjectWithOptions:passingTest:context:"),function(a,b,d,c,e){with(a){if(d&CPEnumerationReverse){b=objj_msgSend(a,"count")-1;var f=d=-1}else b=0,d=objj_msgSend(a,"count"),f=1;for(;b!==d;b+=f)if(c(objj_msgSend(a,"objectAtIndex:",
b),b,e))return b;return CPNotFound}}),new objj_method(sel_getUid("indexOfObject:inSortedRange:options:usingComparator:"),function(a,b,d,c,e,f){with(a){f||_CPRaiseInvalidArgumentException(a,b,"comparator is nil");e&CPBinarySearchingFirstEqual&&e&CPBinarySearchingLastEqual&&_CPRaiseInvalidArgumentException(a,b,"both CPBinarySearchingFirstEqual and CPBinarySearchingLastEqual options cannot be specified");var g=objj_msgSend(a,"count");if(g<=0)return e&CPBinarySearchingInsertionIndex?0:CPNotFound;var i=
c?c.location:0;c=(c?CPMaxRange(c):objj_msgSend(a,"count"))-1;i<0&&_CPRaiseRangeException(a,b,i,g);for(c>=g&&_CPRaiseRangeException(a,b,c,g);i<=c;)if(b=FLOOR((i+c)/2),g=f(d,objj_msgSend(a,"objectAtIndex:",b)),g>0)i=b+1;else if(g<0)c=b-1;else{if(e&CPBinarySearchingFirstEqual)for(;b>i&&f(d,objj_msgSend(a,"objectAtIndex:",b-1))===CPOrderedSame;)--b;else if(e&CPBinarySearchingLastEqual){for(;b<c&&f(d,objj_msgSend(a,"objectAtIndex:",b+1))===CPOrderedSame;)++b;e&CPBinarySearchingInsertionIndex&&++b}return b}if(e&
CPBinarySearchingInsertionIndex)return MAX(i,0);return CPNotFound}}),new objj_method(sel_getUid("makeObjectsPerformSelector:"),function(a,b,d){with(a)objj_msgSend(a,"makeObjectsPerformSelector:withObjects:",d,nil)}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObject:"),function(a,b,d,c){with(a)return objj_msgSend(a,"makeObjectsPerformSelector:withObjects:",d,[c])}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObjects:"),function(a,b,d,c){with(a){d||objj_msgSend(CPException,
"raise:reason:",CPInvalidArgumentException,"makeObjectsPerformSelector:withObjects: 'aSelector' can't be nil");b=0;var e=objj_msgSend(a,"count");if(objj_msgSend(c,"count"))for(argumentsArray=objj_msgSend([nil,d],"arrayByAddingObjectsFromArray:",c);b<e;++b)argumentsArray[0]=objj_msgSend(a,"objectAtIndex:",b),objj_msgSend.apply(this,argumentsArray);else for(;b<e;++b)objj_msgSend(objj_msgSend(a,"objectAtIndex:",b),d)}}),new objj_method(sel_getUid("enumerateObjectsUsingBlock:"),function(a,b,d){with(a){b=
0;for(var c=objj_msgSend(a,"count");b<c;++b)d(objj_msgSend(a,"objectAtIndex:",b),b)}}),new objj_method(sel_getUid("firstObjectCommonWithArray:"),function(a,b,d){with(a){b=objj_msgSend(a,"count");if(!objj_msgSend(d,"count")||!b)return nil;for(var c=0;c<b;++c){var e=objj_msgSend(a,"objectAtIndex:",c);if(objj_msgSend(d,"containsObject:",e))return e}return nil}}),new objj_method(sel_getUid("isEqualToArray:"),function(a,b,d){with(a){if(a===d)return YES;if(!objj_msgSend(d,"isKindOfClass:",CPArray))return NO;
b=objj_msgSend(a,"count");var c=objj_msgSend(d,"count");if(d===nil||b!==c)return NO;for(c=0;c<b;++c){var e=objj_msgSend(a,"objectAtIndex:",c),f=objj_msgSend(d,"objectAtIndex:",c);if(e!==f&&(e&&!e.isa||f&&!f.isa||!objj_msgSend(e,"isEqual:",f)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,b,d){with(a)return a===d||objj_msgSend(a,"isEqualToArray:",d)}),new objj_method(sel_getUid("_javaScriptArrayCopy"),function(a){with(a){for(var b=0,d=objj_msgSend(a,"count"),e=[];b<d;++b)c.call(e,
objj_msgSend(a,"objectAtIndex:",b));return e}}),new objj_method(sel_getUid("arrayByAddingObject:"),function(a,b,d){with(a)return b=objj_msgSend(a,"_javaScriptArrayCopy"),c.call(b,d),objj_msgSend(objj_msgSend(a,"class"),sel_getUid("arrayWithArray:"),b)}),new objj_method(sel_getUid("arrayByAddingObjectsFromArray:"),function(a,b,d){with(a){if(!d)return objj_msgSend(a,"copy");d=d.isa===_CPJavaScriptArray?d:objj_msgSend(d,"_javaScriptArrayCopy");b=f.call(objj_msgSend(a,"_javaScriptArrayCopy"),d);return objj_msgSend(objj_msgSend(a,
"class"),sel_getUid("arrayWithArray:"),b)}}),new objj_method(sel_getUid("subarrayWithRange:"),function(a,b,d){with(a){if(!d)return objj_msgSend(a,"copy");(d.location<0||CPMaxRange(d)>a.length)&&objj_msgSend(CPException,"raise:reason:",CPRangeException,"subarrayWithRange: aRange out of bounds");b=d.location;d=CPMaxRange(d);for(var e=[];b<d;++b)c.call(e,objj_msgSend(a,"objectAtIndex:",b));return objj_msgSend(objj_msgSend(a,"class"),sel_getUid("arrayWithArray:"),e)}}),new objj_method(sel_getUid("sortedArrayUsingDescriptors:"),
function(a,b,d){with(a)return a=objj_msgSend(a,"copy"),objj_msgSend(a,"sortUsingDescriptors:",d),a}),new objj_method(sel_getUid("sortedArrayUsingFunction:"),function(a,b,d){with(a)return objj_msgSend(a,"sortedArrayUsingFunction:context:",d,nil)}),new objj_method(sel_getUid("sortedArrayUsingFunction:context:"),function(a,b,d,c){with(a)return a=objj_msgSend(a,"copy"),objj_msgSend(a,"sortUsingFunction:context:",d,c),a}),new objj_method(sel_getUid("sortedArrayUsingSelector:"),function(a,b,d){with(a)return a=
objj_msgSend(a,"copy"),objj_msgSend(a,"sortUsingSelector:",d),a}),new objj_method(sel_getUid("componentsJoinedByString:"),function(a,b,d){with(a)return e.call(objj_msgSend(a,"_javaScriptArrayCopy"),d)}),new objj_method(sel_getUid("description"),function(a){with(a){for(var b=0,d=objj_msgSend(a,"count"),c="(";b<d;++b){b===0&&(c+="\n");var e=objj_msgSend(a,"objectAtIndex:",b);e=e&&e.isa?objj_msgSend(e,"description"):String(e);c+="\t"+e.split("\n").join("\n\t");b!==d-1&&(c+=", ");c+="\n"}return c+")"}}),
new objj_method(sel_getUid("pathsMatchingExtensions:"),function(a,b,d){with(a){b=0;for(var c=objj_msgSend(a,"count"),e=[];b<c;++b)a[b].isa&&objj_msgSend(a[b],"isKindOfClass:",objj_msgSend(CPString,"class"))&&objj_msgSend(d,"containsObject:",objj_msgSend(a[b],"pathExtension"))&&e.push(a[b]);return e}}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"class"),"arrayWithArray:",a)})]);class_addMethods(a,[new objj_method(sel_getUid("alloc"),function(a){with(a){if(a===
CPArray||a===CPMutableArray)return objj_msgSend(_CPPlaceholderArray,"alloc");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPArray").super_class},"alloc")}}),new objj_method(sel_getUid("array"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("arrayWithArray:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithArray:",d)}),new objj_method(sel_getUid("arrayWithObject:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithObjects:",d)}),new objj_method(sel_getUid("arrayWithObjects:"),function(a){with(a)return arguments[0]=objj_msgSend(a,"alloc"),arguments[1]=sel_getUid("initWithObjects:"),objj_msgSend.apply(this,arguments)}),new objj_method(sel_getUid("arrayWithObjects:count:"),function(a,b,d,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithObjects:count:",d,c)})]);b=objj_getClass("CPArray");if(!b)throw new SyntaxError('*** Could not find definition for class "CPArray"');a=b.isa;class_addMethods(b,
[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a)return objj_msgSend(d,"decodeObjectForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,"_encodeArrayOfObjects:forKey:",a,"CP.objects")})]);b=objj_allocateClassPair(CPEnumerator,"_CPArrayEnumerator");a=b.isa;class_addIvars(b,[new objj_ivar("_array"),new objj_ivar("_index")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithArray:"),function(a,
b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPArrayEnumerator").super_class},"init"))_array=d,_index=-1;return a}}),new objj_method(sel_getUid("nextObject"),function(a){with(a){if(++_index>=objj_msgSend(_array,"count"))return nil;return objj_msgSend(_array,"objectAtIndex:",_index)}})]);b=objj_allocateClassPair(CPEnumerator,"_CPReverseArrayEnumerator");a=b.isa;class_addIvars(b,[new objj_ivar("_array"),new objj_ivar("_index")]);objj_registerClassPair(b);class_addMethods(b,
[new objj_method(sel_getUid("initWithArray:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPReverseArrayEnumerator").super_class},"init"))_array=d,_index=objj_msgSend(_array,"count");return a}}),new objj_method(sel_getUid("nextObject"),function(a){with(a){if(--_index<0)return nil;return objj_msgSend(_array,"objectAtIndex:",_index)}})]);var d=nil;b=objj_allocateClassPair(CPArray,"_CPPlaceholderArray");a=b.isa;objj_registerClassPair(b);class_addMethods(a,[new objj_method(sel_getUid("alloc"),
function(a){with(a)return d||(d=objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("_CPPlaceholderArray").super_class},"alloc")),d})]);g("_CPJavaScriptArray.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPObject.j",YES);g("CPRange.j",YES);var f=objj_allocateClassPair(CPObject,"CPIndexSet"),e=f.isa;class_addIvars(f,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,b,c){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,c.length),_ranges=_count>0?[c]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(c,"count");_ranges=[];b=c._ranges;for(c=b.length;c--;)_ranges[c]={location:b[c].location,length:b[c].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",c)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,b,c){with(a){if(!c)return NO;if(a===c)return YES;a=_ranges.length;b=c._ranges;if(a!==b.length||
_count!==c._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],b[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a)return a===c||objj_msgSend(c,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",c)}),new objj_method(sel_getUid("containsIndex:"),function(a,b,h){with(a)return c(_ranges,h)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(a,b,h){with(a){if(h.length<=0)return NO;if(_count<h.length)return NO;
a=c(_ranges,h.location);if(a===CPNotFound)return NO;return CPIntersectionRange(_ranges[a],h).length===h.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,b,c){with(a){b=c._count;if(b<=0)return YES;if(_count<b)return NO;c=c._ranges;for(b=c.length;b--;)if(!objj_msgSend(a,"containsIndexesInRange:",c[b]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(a,d,c){with(a){if(_count<=0)return NO;a=b(_ranges,c.location);if(FLOOR(a)===a)return YES;c=b(_ranges,
c.location+c.length-1);if(FLOOR(c)===c)return YES;return a!==c}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(a,d,c){with(a){++c;
a=b(_ranges,c);if(a===CPNotFound)return CPNotFound;a=CEIL(a);if(a>=_ranges.length)return CPNotFound;a=_ranges[a];if(CPLocationInRange(c,a))return c;return a.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(a,d,c){with(a){--c;a=b(_ranges,c);if(a===CPNotFound)return CPNotFound;a=FLOOR(a);if(a<0)return CPNotFound;a=_ranges[a];if(CPLocationInRange(c,a))return c;return a.location+a.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",c-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"indexLessThanIndex:",c+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(a,d,c,e,f){with(a){if(!_count||e===0||f&&!f.length){if(f)f.length=0;return 0}d=0;if(f){var g=f.location;a=f.location+f.length-1;var l=CEIL(b(_ranges,g)),i=FLOOR(b(_ranges,a))}else g=objj_msgSend(a,"firstIndex"),a=objj_msgSend(a,"lastIndex"),l=0,i=_ranges.length-1;
for(;l<=i;){var m=_ranges[l],n=MAX(g,m.location);for(m=MIN(a+1,m.location+m.length);n<m;++n)if(c[d++]=n,d===e){if(f)f.location=n+1,f.length=a+1-n-1;return e}++l}if(f)f.location=CPNotFound,f.length=0;return d}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var b=0,c=_ranges.length;a+="[number of indexes: "+_count+" (in "+c;for(a+=c===1?" range), indexes: (":" ranges), indexes: (";b<
c;++b){var e=_ranges[b];a+=e.location;e.length>1&&(a+="-"+(CPMaxRange(e)-1));b+1<c&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(e,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",c)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",c)})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("addIndex:"),function(a,b,c){with(a)objj_msgSend(a,"addIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"addIndexesInRange:",b[c])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(a,
d,c){with(a){if(c.length<=0)return;if(_count<=0){_count=c.length;_ranges=[c];return}d=_ranges.length;var e=b(_ranges,c.location-1);a=CEIL(e);a===e&&a<d&&(c=CPUnionRange(c,_ranges[a]));d=b(_ranges,CPMaxRange(c));e=FLOOR(d);e===d&&e>=0&&(c=CPUnionRange(c,_ranges[e]));d=e-a+1;if(d===_ranges.length)_ranges=[c],_count=c.length;else if(d===1)a<_ranges.length&&(_count-=_ranges[a].length),_count+=c.length,_ranges[a]=c;else{if(d>0){e=a;for(var f=a+d-1;e<=f;++e)_count-=_ranges[e].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:a,length:d})}objj_msgSend(_ranges,"insertObject:atIndex:",c,a);_count+=c.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,b,c){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"removeIndexesInRange:",b[c])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(a,d,c){with(a){if(c.length<=0)return;if(_count<=0)return;d=_ranges.length;var e=b(_ranges,c.location);a=CEIL(e);if(e===a&&a<d&&(e=_ranges[a],c.location!==e.location)){var f=CPMaxRange(c),g=CPMaxRange(e);e.length=c.location-e.location;if(f<g){_count-=c.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:f,length:g-f},a+1);return}else _count-=g-c.location,a+=1}e=b(_ranges,CPMaxRange(c)-1);d=FLOOR(e);if(e===d&&d>=0&&(f=CPMaxRange(c),e=_ranges[d],g=CPMaxRange(e),f!==g))_count-=f-e.location,
d-=1,e.location=f,e.length=g-f;c=d-a+1;if(c>0){d=a;for(e=a+c-1;d<=e;++d)_count-=_ranges[d].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:a,length:c})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,b,c,e){with(a){if(!_count||e==0)return;b=_ranges.length-1;for(var f=CPMakeRange(CPNotFound,0);b>=0;--b){var g=_ranges[b],l=CPMaxRange(g);if(c>=l)break;if(c>g.location){f=CPMakeRange(c+e,l-c);g.length=c-g.location;if(e>0)objj_msgSend(_ranges,"insertObject:atIndex:",
f,b+1);else if(f.location<0)f.length=CPMaxRange(f),f.location=0;break}if((g.location+=e)<0)_count-=g.length-CPMaxRange(g),g.length=CPMaxRange(g),g.location=0}if(e<0){c=b+1;e=_ranges.length;for(g=[];c<e;++c)objj_msgSend(g,"addObject:",_ranges[c]),_count-=_ranges[c].length;if((c=b+1)<e){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(c,e-c));c=0;for(e=g.length;c<e;++c)objj_msgSend(a,"addIndexesInRange:",g[c])}f.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",f)}}})]);f=objj_getClass("CPIndexSet");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(c,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];b=objj_msgSend(c,"decodeObjectForKey:","CPIndexSetRangeStringsKey");c=0;for(var e=b.length;c<e;++c)_ranges.push(CPRangeFromString(b[c]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a){objj_msgSend(c,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;b=_ranges.length;for(var e=[];a<b;++a)e[a]=CPStringFromRange(_ranges[a]);objj_msgSend(c,"encodeObject:forKey:",e,"CPIndexSetRangeStringsKey")}})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);f=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");e=f.isa;objj_registerClassPair(f);var c=function(a,b){for(var c=0,e=a.length-1;c<=e;){var f=FLOOR(c+(e-c)/2),g=a[f];if(b<g.location)e=f-1;else if(b>=CPMaxRange(g))c=f+1;else return f}return CPNotFound},b=function(a,b){var c=a.length;if(c<=0)return CPNotFound;
for(var e=0,f=c*2;e<=f;){var g=FLOOR(e+(f-e)/2),l=g/2,i=FLOOR(l);if(l===i)if(i-1>=0&&b<CPMaxRange(a[i-1]))f=g-1;else if(i<c&&b>=a[i].location)e=g+1;else return i-0.5;else if(l=a[i],b<l.location)f=g-1;else if(b>=CPMaxRange(l))e=g+1;else return i}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuBarWindow.j",baseURL),function(i,g){g("CPPanel.j",YES);g("_CPMenuWindow.j",YES);var f=nil,e=nil,c=objj_allocateClassPair(CPPanel,"_CPMenuBarWindow"),b=c.isa;class_addIvars(c,[new objj_ivar("_menu"),new objj_ivar("_highlightView"),new objj_ivar("_menuItemViews"),new objj_ivar("_trackingMenuItem"),new objj_ivar("_iconImageView"),new objj_ivar("_titleField"),new objj_ivar("_textColor"),new objj_ivar("_titleColor"),new objj_ivar("_textShadowColor"),
new objj_ivar("_titleShadowColor"),new objj_ivar("_highlightColor"),new objj_ivar("_highlightTextColor"),new objj_ivar("_highlightTextShadowColor")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds");b.size.height=28;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"initWithContentRect:styleMask:",b,CPBorderlessWindowMask))objj_msgSend(a,
"setLevel:",CPMainMenuWindowLevel),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable),b=objj_msgSend(a,"contentView"),objj_msgSend(b,"setAutoresizesSubviews:",NO),objj_msgSend(a,"setBecomesKeyOnlyIfNeeded:",YES),_iconImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,16,16)),objj_msgSend(b,"addSubview:",_iconImageView),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,
"boldSystemFontOfSize:",13)),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(b,"addSubview:",_titleField);return a}}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPBundleName"),document.title=objj_msgSend(b,"length")?objj_msgSend(c,"length")?c+" - "+b:b:c,objj_msgSend(_titleField,"setStringValue:",c),objj_msgSend(_titleField,
"sizeToFit"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImage:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setImage:",c),objj_msgSend(_iconImageView,"setHidden:",c==nil),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImageAlphaValue:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setAlphaValue:",c)}),new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a)c?objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",c):(f||(f=objj_msgSend(CPColor,
"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPMenuBarWindow,"class")),"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackground.png"),CGSizeMake(1,28)))),objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",f))}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a){if(_textColor==c)return;_textColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",
sel_getUid("setTextColor:"),_textColor)}}),new objj_method(sel_getUid("setTitleColor:"),function(a,b,c){with(a){if(_titleColor==c)return;_titleColor=c;objj_msgSend(_titleField,"setTextColor:",c?c:objj_msgSend(CPColor,"blackColor"))}}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a){if(_textShadowColor==c)return;_textShadowColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextShadowColor:"),_textShadowColor)}}),new objj_method(sel_getUid("setTitleShadowColor:"),
function(a,b,c){with(a){if(_titleShadowColor==c)return;_titleShadowColor=c;objj_msgSend(_titleField,"setTextShadowColor:",c?c:objj_msgSend(CPColor,"whiteColor"))}}),new objj_method(sel_getUid("setHighlightColor:"),function(a,b,c){with(a){if(_highlightColor==c)return;_highlightColor=c}}),new objj_method(sel_getUid("setHighlightTextColor:"),function(a,b,c){with(a){if(_highlightTextColor==c)return;_highlightTextColor=c}}),new objj_method(sel_getUid("setHighlightTextShadowColor:"),function(a,b,c){with(a){if(_highlightTextShadowColor==
c)return;_highlightTextShadowColor=c}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a){if(_menu==c)return;var e=objj_msgSend(CPNotificationCenter,"defaultCenter");if(_menu){objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidAddItemNotification,_menu);objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidChangeItemNotification,_menu);objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidRemoveItemNotification,_menu);b=objj_msgSend(_menu,"itemArray");for(var f=b.length;f--;)objj_msgSend(objj_msgSend(b[f],
"_menuItemView"),"removeFromSuperview")}if(_menu=c)objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu),objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu),objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);_menuItemViews=[];c=objj_msgSend(a,"contentView");b=objj_msgSend(_menu,"itemArray");
f=b.length;for(index=0;index<f;++index){e=b[index];var g=objj_msgSend(e,"_menuItemView");_menuItemViews.push(g);objj_msgSend(g,"setTextColor:",_textColor);objj_msgSend(g,"setHidden:",objj_msgSend(e,"isHidden"));objj_msgSend(g,"synchronizeWithMenuItem");objj_msgSend(c,"addSubview:",g)}objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidChangeItem:"),function(a,b,c){with(a)b=objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex")),c=objj_msgSend(b,
"_menuItemView"),objj_msgSend(c,"setHidden:",objj_msgSend(b,"isHidden")),objj_msgSend(c,"synchronizeWithMenuItem"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("menuDidAddItem:"),function(a,b,c){with(a){b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex");c=objj_msgSend(_menu,"itemAtIndex:",b);var e=objj_msgSend(c,"_menuItemView");objj_msgSend(_menuItemViews,"insertObject:atIndex:",e,b);objj_msgSend(e,"setTextColor:",_textColor);objj_msgSend(e,"setHidden:",objj_msgSend(c,
"isHidden"));objj_msgSend(e,"synchronizeWithMenuItem");objj_msgSend(objj_msgSend(a,"contentView"),"addSubview:",e);objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex"),c=objj_msgSend(_menuItemViews,"objectAtIndex:",b),objj_msgSend(_menuItemViews,"removeObjectAtIndex:",b),objj_msgSend(c,"removeFromSuperview"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("mouseDown:"),function(a,
b,c){with(a)b=CGRectInset(objj_msgSend(objj_msgSend(a,"platformWindow"),"visibleFrame"),5,0),b.size.height-=5,objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",c,a,b,function(a,b){objj_msgSend(b,"_performActionOfHighlightedItemChain");objj_msgSend(b,"_highlightItemAtIndex:",CPNotFound)})}),new objj_method(sel_getUid("font"),function(a){with(a)objj_msgSend(CPFont,"systemFontOfSize:",12)}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=
objj_msgSend(_menu,"itemArray"),c=0,e=b.length,f=10,g=YES;c<e;++c){var l=b[c];if(objj_msgSend(l,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(l,"isHidden")){l=objj_msgSend(l,"_menuItemView");var i=objj_msgSend(l,"frame");g?(objj_msgSend(l,"setFrame:",CGRectMake(f,0,CGRectGetWidth(i),28)),f+=CGRectGetWidth(objj_msgSend(l,"frame"))):(objj_msgSend(l,"setFrame:",CGRectMake(f-CGRectGetWidth(i),0,CGRectGetWidth(i),28)),f=CGRectGetMinX(objj_msgSend(l,"frame")))}}a=
objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),e=CGRectGetWidth(c),f=e+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,
"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+e,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,e,f){with(a)b=objj_msgSend(a,"frame").size,objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"setFrame:display:animate:",c,e,f),b.width==c.size.width&&b.height==c.size.height||objj_msgSend(a,"tile")})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=
objj_msgSend(_CPMenuBarWindow,"class"))return;objj_msgSend(CPBundle,"bundleForClass:",a);e=objj_msgSend(CPFont,"boldSystemFontOfSize:",12)}}),new objj_method(sel_getUid("font"),function(a){with(a)return e})]);c=objj_getClass("_CPMenuBarWindow");if(!c)throw new SyntaxError('*** Could not find definition for class "_CPMenuBarWindow"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return YES}),new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a){with(a)return _CPMenuManagerScrollingStateNone}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){b=objj_msgSend(_menu,"itemArray");for(var e=b.length;e--;){var f=b[e];if(!objj_msgSend(f,"isHidden")&&!objj_msgSend(f,"isSeparatorItem")&&CGRectContainsPoint(objj_msgSend(a,"rectForItemAtIndex:",e),c))return e}return CPNotFound}}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return a=
objj_msgSend(_menu,"itemAtIndex:",c===CPNotFound?0:c),objj_msgSend(objj_msgSend(a,"_menuItemView"),"frame")})]);c=objj_allocateClassPair(_CPMenuView,"_CPMenuBarView");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){a=objj_msgSend(a,"bounds");if(!CGRectContainsPoint(a,c))return CPNotFound;
c=c.x;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var e=FLOOR(a+(b-a)/2),f=_visibleMenuItemInfos[e],g=objj_msgSend(f.view,"frame");if(c<CGRectGetMinX(g))b=e-1;else if(c>CGRectGetMaxX(g))a=e+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=objj_msgSend(_menu,"itemArray"),c=0,e=b.length,f=10,g=YES;c<e;++c){var l=b[c];if(objj_msgSend(l,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(l,"isHidden")){l=
objj_msgSend(l,"_menuItemView");var i=objj_msgSend(l,"frame");g?(objj_msgSend(l,"setFrameOrigin:",CGPointMake(f,(27-CGRectGetHeight(i))/2)),f+=CGRectGetWidth(objj_msgSend(l,"frame"))+10):(objj_msgSend(l,"setFrameOrigin:",CGPointMake(f-CGRectGetWidth(i),(27-CGRectGetHeight(i))/2)),f=CGRectGetMinX(objj_msgSend(l,"frame"))-10)}}a=objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),e=CGRectGetWidth(c),f=e+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+e,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPKeyValueBinding.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("Foundation/CPArray.j",NO);g("Foundation/CPDictionary.j",NO);g("Foundation/CPValueTransformer.j",NO);var f=objj_msgSend(CPDictionary,"new"),e=objj_msgSend(CPDictionary,"new"),c=objj_allocateClassPair(CPObject,"CPBinder"),b=c.isa;class_addIvars(c,[new objj_ivar("_info"),new objj_ivar("_source"),new objj_ivar("_suppressedNotifications")]);objj_registerClassPair(c);
class_addMethods(c,[new objj_method(sel_getUid("initWithBinding:name:to:keyPath:options:from:"),function(a,b,c,f,g,l,i,m){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBinder").super_class},"init"))_source=m,_info=objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[g,l],[CPObservedObjectKey,CPObservedKeyPathKey]),_suppressedNotifications={},i&&objj_msgSend(_info,"setObject:forKey:",i,CPOptionsKey),objj_msgSend(g,"addObserver:forKeyPath:options:context:",a,l,CPKeyValueObservingOptionNew,
c),b=objj_msgSend(e,"objectForKey:",objj_msgSend(_source,"UID")),b||(b=objj_msgSend(CPDictionary,"new"),objj_msgSend(e,"setObject:forKey:",b,objj_msgSend(_source,"UID"))),objj_msgSend(b,"setObject:forKey:",a,f),objj_msgSend(a,"setValueFor:",c);return a}}),new objj_method(sel_getUid("setValueFor:"),function(a,b,c){with(a){var e=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),f=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);b=objj_msgSend(_info,"objectForKey:",CPOptionsKey);e=objj_msgSend(e,
"valueForKeyPath:",f);e=objj_msgSend(a,"transformValue:withOptions:",e,b);objj_msgSend(_source,"setValue:forKey:",e,c)}}),new objj_method(sel_getUid("reverseSetValueFor:"),function(a,b,c){with(a){b=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey);var e=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey),f=objj_msgSend(_info,"objectForKey:",CPOptionsKey);c=objj_msgSend(_source,"valueForKeyPath:",c);c=objj_msgSend(a,"reverseTransformValue:withOptions:",c,f);objj_msgSend(b,"setValue:forKeyPath:",
c,e)}}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(a,b,c,e,f,g){with(a){if(!f)return;if((b=_suppressedNotifications[objj_msgSend(e,"UID")])&&b[c])return;objj_msgSend(a,"setValueFor:",g)}}),new objj_method(sel_getUid("transformValue:withOptions:"),function(a,b,c,e){with(a){if(a=objj_msgSend(e,"objectForKey:",CPValueTransformerNameBindingOption)){if(b=objj_msgSend(CPValueTransformer,"valueTransformerForName:",a),!b){var f=CPClassFromString(a);f&&(b=objj_msgSend(objj_msgSend(f,
"alloc"),"init"),objj_msgSend(f,"setValueTransformer:forName:",b,a))}}else b=objj_msgSend(e,"objectForKey:",CPValueTransformerBindingOption);b&&(c=objj_msgSend(b,"transformedValue:",c));if(c===void 0||c===nil||c===objj_msgSend(CPNull,"null"))c=objj_msgSend(e,"objectForKey:",CPNullPlaceholderBindingOption)||nil;return c}}),new objj_method(sel_getUid("reverseTransformValue:withOptions:"),function(a,b,c,e){with(a)return(e=(a=objj_msgSend(e,"objectForKey:",CPValueTransformerNameBindingOption))?objj_msgSend(CPValueTransformer,
"valueTransformerForName:",a):objj_msgSend(e,"objectForKey:",CPValueTransformerBindingOption))&&objj_msgSend(objj_msgSend(e,"class"),"allowsReverseTransformation")&&(c=objj_msgSend(e,"reverseTransformedValue:",c)),c}),new objj_method(sel_getUid("continuouslyUpdatesValue"),function(a){with(a)return a=objj_msgSend(_info,"objectForKey:",CPOptionsKey),objj_msgSend(objj_msgSend(a,"objectForKey:",CPContinuouslyUpdatesValueBindingOption),"boolValue")}),new objj_method(sel_getUid("handlesContentAsCompoundValue"),
function(a){with(a)return a=objj_msgSend(_info,"objectForKey:",CPOptionsKey),objj_msgSend(objj_msgSend(a,"objectForKey:",CPHandlesContentAsCompoundValueBindingOption),"boolValue")}),new objj_method(sel_getUid("suppressSpecificNotificationFromObject:keyPath:"),function(a,b,c,e){with(a){if(!c)return;a=objj_msgSend(c,"UID");(b=_suppressedNotifications[a])||(_suppressedNotifications[a]=b={});b[e]=YES}}),new objj_method(sel_getUid("unsuppressSpecificNotificationFromObject:keyPath:"),function(a,b,c,e){with(a){if(!c)return;
a=objj_msgSend(c,"UID");a=_suppressedNotifications[a];if(!a)return;delete a[e]}})]);class_addMethods(b,[new objj_method(sel_getUid("exposeBinding:forClass:"),function(a,b,c,e){with(a)a=objj_msgSend(f,"objectForKey:",objj_msgSend(e,"UID")),a||(a=[],objj_msgSend(f,"setObject:forKey:",a,objj_msgSend(e,"UID"))),a.push(c)}),new objj_method(sel_getUid("exposedBindingsForClass:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(f,"objectForKey:",objj_msgSend(c,"UID")),"copy")}),new objj_method(sel_getUid("getBinding:forObject:"),
function(a,b,c,f){with(a)return objj_msgSend(objj_msgSend(e,"objectForKey:",objj_msgSend(f,"UID")),"objectForKey:",c)}),new objj_method(sel_getUid("infoForBinding:forObject:"),function(a,b,c,e){with(a){if(a=objj_msgSend(a,"getBinding:forObject:",c,e))return a._info;return nil}}),new objj_method(sel_getUid("allBindingsForObject:"),function(a,b,c){with(a)return objj_msgSend(e,"objectForKey:",objj_msgSend(c,"UID"))}),new objj_method(sel_getUid("unbind:forObject:"),function(a,b,c,f){with(a){a=objj_msgSend(e,
"objectForKey:",objj_msgSend(f,"UID"));if(!a)return;b=objj_msgSend(a,"objectForKey:",c);if(!b)return;var g=b._info;f=objj_msgSend(g,"objectForKey:",CPObservedObjectKey);g=objj_msgSend(g,"objectForKey:",CPObservedKeyPathKey);objj_msgSend(f,"removeObserver:forKeyPath:",b,g);objj_msgSend(a,"removeObjectForKey:",c)}}),new objj_method(sel_getUid("unbindAllForObject:"),function(a,b,c){with(a){a=objj_msgSend(e,"objectForKey:",objj_msgSend(c,"UID"));if(!a)return;b=objj_msgSend(a,"allKeys");for(var f=b.length;f--;)objj_msgSend(c,
"unbind:",objj_msgSend(a,"objectForKey:",b[f]));objj_msgSend(e,"removeObjectForKey:",objj_msgSend(c,"UID"))}})]);c=objj_getClass("CPObject");if(!c)throw new SyntaxError('*** Could not find definition for class "CPObject"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("exposedBindings"),function(a){with(a){var b=[];for(a=objj_msgSend(a,"class");a;){var c=objj_msgSend(CPBinder,"exposedBindingsForClass:",a);c&&objj_msgSend(b,"addObjectsFromArray:",c);a=objj_msgSend(a,"superclass")}return b}}),
new objj_method(sel_getUid("valueClassForBinding:"),function(a){with(a)return objj_msgSend(CPString,"class")}),new objj_method(sel_getUid("bind:toObject:withKeyPath:options:"),function(a,b,c,e,f,g){with(a){if(!e||!f)return CPLog.error("Invalid object or path on "+a+" for "+c);b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",c);objj_msgSend(a,"unbind:",c);objj_msgSend(objj_msgSend(b,"alloc"),"initWithBinding:name:to:keyPath:options:from:",objj_msgSend(a,"_replacementKeyPathForBinding:",
c),c,e,f,g,a)}}),new objj_method(sel_getUid("infoForBinding:"),function(a,b,c){with(a)return objj_msgSend(CPBinder,"infoForBinding:forObject:",c,a)}),new objj_method(sel_getUid("unbind:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",c),objj_msgSend(b,"unbind:forObject:",c,a)}),new objj_method(sel_getUid("_replacementKeyPathForBinding:"),function(a,b,c){with(a)return c})]);class_addMethods(b,[new objj_method(sel_getUid("exposeBinding:"),function(a,b,c){with(a)objj_msgSend(CPBinder,
"exposeBinding:forClass:",c,objj_msgSend(a,"class"))}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a){with(a)return objj_msgSend(CPBinder,"class")})]);c=objj_allocateClassPair(CPBinder,"_CPValueBinder");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPValueBinder").super_class},"setValueFor:","objectValue")}),new objj_method(sel_getUid("reverseSetValueFor:"),
function(a){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPValueBinder").super_class},"reverseSetValueFor:","objectValue")})]);c=objj_allocateClassPair(CPBinder,"_CPKeyValueOrBinding");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("setValueFor:"),function(b,c,f){with(b){b=objj_msgSend(e,"valueForKey:",objj_msgSend(_source,"UID"));if(!b)return;objj_msgSend(_source,"setValue:forKey:",a(f,b,1),f)}}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),
function(a,b,c,e,f,g){with(a)objj_msgSend(a,"setValueFor:",g)})]);c=objj_allocateClassPair(CPBinder,"_CPKeyValueAndBinding");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("setValueFor:"),function(b,c,f){with(b){b=objj_msgSend(e,"objectForKey:",objj_msgSend(_source,"UID"));if(!b)return;objj_msgSend(_source,"setValue:forKey:",a(f,b,0),f)}}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(a,b,c,e,f,g){with(a)objj_msgSend(a,"setValueFor:",
g)})]);var a=a=function(a,b,c){for(var e=a,f=1;e=objj_msgSend(b,"objectForKey:",e);){var g=e._info,i=objj_msgSend(g,"objectForKey:",CPObservedObjectKey),m=objj_msgSend(g,"objectForKey:",CPObservedKeyPathKey);g=objj_msgSend(g,"objectForKey:",CPOptionsKey);if(objj_msgSend(e,"transformValue:withOptions:",objj_msgSend(i,"valueForKeyPath:",m),g)==c)return c;e=objj_msgSend(CPString,"stringWithFormat:","%@%i",a,++f)}return!c};CPObservedObjectKey="CPObservedObjectKey";CPObservedKeyPathKey="CPObservedKeyPathKey";
CPOptionsKey="CPOptionsKey";CPMultipleValuesMarker="CPMultipleValuesMarker";CPNoSelectionMarker="CPNoSelectionMarker";CPNotApplicableMarker="CPNotApplicableMarker";CPNullMarker="CPNullMarker";CPAlignmentBinding="alignment";CPEditableBinding="editable";CPEnabledBinding="enabled";CPFontBinding="font";CPHiddenBinding="hidden";CPSelectedIndexBinding="selectedIndex";CPTextColorBinding="textColor";CPToolTipBinding="toolTip";CPValueBinding="value";CPAllowsEditingMultipleValuesSelectionBindingOption="CPAllowsEditingMultipleValuesSelection";
CPAllowsNullArgumentBindingOption="CPAllowsNullArgument";CPConditionallySetsEditableBindingOption="CPConditionallySetsEditable";CPConditionallySetsEnabledBindingOption="CPConditionallySetsEnabled";CPConditionallySetsHiddenBindingOption="CPConditionallySetsHidden";CPContinuouslyUpdatesValueBindingOption="CPContinuouslyUpdatesValue";CPCreatesSortDescriptorBindingOption="CPCreatesSortDescriptor";CPDeletesObjectsOnRemoveBindingsOption="CPDeletesObjectsOnRemove";CPDisplayNameBindingOption="CPDisplayName";
CPDisplayPatternBindingOption="CPDisplayPattern";CPHandlesContentAsCompoundValueBindingOption="CPHandlesContentAsCompoundValue";CPInsertsNullPlaceholderBindingOption="CPInsertsNullPlaceholder";CPInvokesSeparatelyWithArrayObjectsBindingOption="CPInvokesSeparatelyWithArrayObjects";CPMultipleValuesPlaceholderBindingOption="CPMultipleValuesPlaceholder";CPNoSelectionPlaceholderBindingOption="CPNoSelectionPlaceholder";CPNotApplicablePlaceholderBindingOption="CPNotApplicablePlaceholder";CPNullPlaceholderBindingOption=
"CPNullPlaceholder";CPPredicateFormatBindingOption="CPPredicateFormat";CPRaisesForNotApplicableKeysBindingOption="CPRaisesForNotApplicableKeys";CPSelectorNameBindingOption="CPSelectorName";CPSelectsAllWhenSettingContentBindingOption="CPSelectsAllWhenSettingContent";CPValidatesImmediatelyBindingOption="CPValidatesImmediately";CPValueTransformerNameBindingOption="CPValueTransformerName";CPValueTransformerBindingOption="CPValueTransformer";CPIsControllerMarker=function(a){return a===CPMultipleValuesMarker||
a===CPNoSelectionMarker||a===CPNotApplicableMarker||a===CPNullMarker}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColor.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CGColor.j",YES);g("CPCompatibility.j",YES);g("CPImage.j",YES);var f,e,c,b,a,d,h,k,j,s,l,r,m,n,o,p,q=objj_allocateClassPair(CPObject,"CPColor"),t=q.isa;class_addIvars(q,[new objj_ivar("_components"),new objj_ivar("_patternImage"),new objj_ivar("_cssString")]);objj_registerClassPair(q);class_addMethods(q,[new objj_method(sel_getUid("_initWithCSSString:"),function(a,
b,c){with(a){if(c.indexOf("rgb")==CPNotFound)return nil;a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init");b=c.indexOf("(");b=c.substring(b+1).split(",");_components=[parseInt(b[0],10)/255,parseInt(b[1],10)/255,parseInt(b[2],10)/255,b[3]?parseFloat(b[3],10):1];_cssString=c;return a}}),new objj_method(sel_getUid("_initWithRGBA:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_components=c,
b=CPFeatureIsCompatible(CPCSSRGBAFeature)&&_components[3]!=1,_cssString=(b?"rgba(":"rgb(")+parseInt(_components[0]*255)+", "+parseInt(_components[1]*255)+", "+parseInt(_components[2]*255)+(b?", "+_components[3]:"")+")";return a}}),new objj_method(sel_getUid("_initWithPatternImage:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_patternImage=c,_cssString='url("'+objj_msgSend(_patternImage,"filename")+'")',_components=[0,0,0,1];
return a}}),new objj_method(sel_getUid("patternImage"),function(a){with(a)return _patternImage}),new objj_method(sel_getUid("alphaComponent"),function(a){with(a)return _components[3]}),new objj_method(sel_getUid("blueComponent"),function(a){with(a)return _components[2]}),new objj_method(sel_getUid("greenComponent"),function(a){with(a)return _components[1]}),new objj_method(sel_getUid("redComponent"),function(a){with(a)return _components[0]}),new objj_method(sel_getUid("components"),function(a){with(a)return _components}),
new objj_method(sel_getUid("colorWithAlphaComponent:"),function(a,b,c){with(a)return b=_components.slice(),b[b.length-1]=c,objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"_initWithRGBA:",b)}),new objj_method(sel_getUid("hsbComponents"),function(a){with(a){a=ROUND(_components[0]*255);var b=ROUND(_components[1]*255),c=ROUND(_components[2]*255),d=MAX(a,b,c),e=MIN(a,b,c),h=d-e;e=d/255;var f=d!=0?h/d:0;if(f==0)a=0;else{var g=(d-a)/h,j=(d-b)/h;c=(d-c)/h;a=a==d?c-j:b==d?2+g-c:4+j-g;a/=6;a<0&&
a++}return[ROUND(a*360),ROUND(f*100),ROUND(e*100)]}}),new objj_method(sel_getUid("cssString"),function(a){with(a)return _cssString}),new objj_method(sel_getUid("hexString"),function(a){with(a){var b=objj_msgSend(a,"redComponent"),c=objj_msgSend(a,"greenComponent");a=objj_msgSend(a,"blueComponent");return u(b)+u(c)+u(a)}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(!c)return NO;if(c===a)return YES;if(!objj_msgSend(c,"isKindOfClass:",CPColor))return NO;if(_patternImage||objj_msgSend(c,
"patternImage"))return objj_msgSend(_patternImage,"isEqual:",objj_msgSend(c,"patternImage"));return ROUND(objj_msgSend(a,"redComponent")*255)==ROUND(objj_msgSend(c,"redComponent")*255)&&ROUND(objj_msgSend(a,"greenComponent")*255)==ROUND(objj_msgSend(c,"greenComponent")*255)&&ROUND(objj_msgSend(a,"blueComponent")*255)==ROUND(objj_msgSend(c,"blueComponent")*255)&&objj_msgSend(a,"alphaComponent")==objj_msgSend(c,"alphaComponent")}}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPColor").super_class},"description")+" "+objj_msgSend(a,"cssString")})]);class_addMethods(t,[new objj_method(sel_getUid("colorWithRed:green:blue:alpha:"),function(a,b,c,d,e,h){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,d,e,h])}),new objj_method(sel_getUid("colorWithCalibratedRed:green:blue:alpha:"),function(a,b,c,d,e,h){with(a)return objj_msgSend(a,"colorWithRed:green:blue:alpha:",c,d,e,h)}),new objj_method(sel_getUid("colorWithWhite:alpha:"),
function(a,b,c,d){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,c,c,d])}),new objj_method(sel_getUid("colorWithCalibratedWhite:alpha:"),function(a,b,c,d){with(a)return objj_msgSend(a,"colorWithWhite:alpha:",c,d)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:"),function(a,b,c,d,e){with(a)return objj_msgSend(a,"colorWithHue:saturation:brightness:alpha:",c,d,e,1)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:alpha:"),function(a,b,c,
d,e,h){with(a){if(d===0)return objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",e/100,h);var f=c%60;a=e*(100-d)/1E4;b=e*(6E3-d*f)/6E5;d=e*(6E3-d*(60-f))/6E5;e/=100;switch(FLOOR(c/60)){case 0:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",e,d,a,h);case 1:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",b,e,a,h);case 2:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",a,e,d,h);case 3:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",
a,b,e,h);case 4:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",d,a,e,h);case 5:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",e,a,b,h)}}}),new objj_method(sel_getUid("colorWithHexString:"),function(a,b,c){with(a)return(a=v(c))?objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",a):null}),new objj_method(sel_getUid("blackColor"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1])),f}),new objj_method(sel_getUid("blueColor"),
function(a){with(a)return b||(b=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,1,1])),b}),new objj_method(sel_getUid("darkGrayColor"),function(a){with(a)return k||(k=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",1/3,1)),k}),new objj_method(sel_getUid("grayColor"),function(a){with(a)return d||(d=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",0.5,1)),d}),new objj_method(sel_getUid("greenColor"),function(a){with(a)return c||(c=objj_msgSend(objj_msgSend(CPColor,"alloc"),
"_initWithRGBA:",[0,1,0,1])),c}),new objj_method(sel_getUid("lightGrayColor"),function(a){with(a)return h||(h=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",2/3,1)),h}),new objj_method(sel_getUid("redColor"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,0,1])),e}),new objj_method(sel_getUid("whiteColor"),function(a){with(a)return j||(j=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,1,1])),j}),new objj_method(sel_getUid("yellowColor"),
function(b){with(b)return a||(a=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,0,1])),a}),new objj_method(sel_getUid("brownColor"),function(a){with(a)return s||(s=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.6,0.4,0.2,1])),s}),new objj_method(sel_getUid("cyanColor"),function(a){with(a)return l||(l=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,1,1,1])),l}),new objj_method(sel_getUid("magentaColor"),function(a){with(a)return r||(r=objj_msgSend(objj_msgSend(CPColor,
"alloc"),"_initWithRGBA:",[1,0,1,1])),r}),new objj_method(sel_getUid("orangeColor"),function(a){with(a)return m||(m=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0.5,0,1])),m}),new objj_method(sel_getUid("purpleColor"),function(a){with(a)return n||(n=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.5,0,0.5,1])),n}),new objj_method(sel_getUid("shadowColor"),function(a){with(a)return o||(o=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1/3])),o}),new objj_method(sel_getUid("clearColor"),
function(a){with(a)return p||(p=objj_msgSend(a,"colorWithCalibratedWhite:alpha:",0,0)),p}),new objj_method(sel_getUid("alternateSelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.22,0.46,0.84,1])}),new objj_method(sel_getUid("secondarySelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.83,0.83,0.83,1])}),new objj_method(sel_getUid("colorWithPatternImage:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,
"alloc"),"_initWithPatternImage:",c)}),new objj_method(sel_getUid("colorWithCSSString:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithCSSString:",c)})]);q=objj_getClass("CPColor");if(!q)throw new SyntaxError('*** Could not find definition for class "CPColor"');t=q.isa;class_addMethods(q,[new objj_method(sel_getUid("set"),function(a){with(a)objj_msgSend(a,"setFill"),objj_msgSend(a,"setStroke")}),new objj_method(sel_getUid("setFill"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,
"currentContext"),"graphicsPort");CGContextSetFillColor(b,a)}}),new objj_method(sel_getUid("setStroke"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSetStrokeColor(b,a)}})]);q=objj_getClass("CPColor");if(!q)throw new SyntaxError('*** Could not find definition for class "CPColor"');t=q.isa;class_addMethods(t,[new objj_method(sel_getUid("randomColor"),function(a){with(a)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",RAND(),
RAND(),RAND(),1)})]);q=objj_getClass("CPColor");if(!q)throw new SyntaxError('*** Could not find definition for class "CPColor"');t=q.isa;class_addMethods(q,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(objj_msgSend(c,"containsValueForKey:","CPColorPatternImageKey"))return objj_msgSend(a,"_initWithPatternImage:",objj_msgSend(c,"decodeObjectForKey:","CPColorPatternImageKey"));return objj_msgSend(a,"_initWithRGBA:",objj_msgSend(c,"decodeObjectForKey:","CPColorComponentsKey"))}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)_patternImage?objj_msgSend(c,"encodeObject:forKey:",_patternImage,"CPColorPatternImageKey"):objj_msgSend(c,"encodeObject:forKey:",_components,"CPColorComponentsKey")})]);var v=function(a){a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));if(a.length!=6)return null;a=a.toUpperCase();for(var b=0;b<a.length;b++)if("0123456789ABCDEF".indexOf(a.charAt(b))==-1)return null;b=("0123456789ABCDEF".indexOf(a.charAt(0))*
16+"0123456789ABCDEF".indexOf(a.charAt(1)))/255;var c=("0123456789ABCDEF".indexOf(a.charAt(2))*16+"0123456789ABCDEF".indexOf(a.charAt(3)))/255;a=("0123456789ABCDEF".indexOf(a.charAt(4))*16+"0123456789ABCDEF".indexOf(a.charAt(5)))/255;return[b,c,a,1]},u=function(a){if(!a||isNaN(a))return"00";a=FLOOR(MIN(255,MAX(0,256*a)));return"0123456789ABCDEF".charAt((a-a%16)/16)+"0123456789ABCDEF".charAt(a%16)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var f=nil,e=/[A-Z]/,c=objj_allocateClassPair(CPObject,"CPEvent"),b=c.isa;class_addIvars(c,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("_initWithType:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_deltaZ=_deltaY=
_deltaX=0;return a}}),new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,c,e,f,g,i,m,n,o,p){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(e),_modifierFlags=f,_timestamp=g,_context=m,_eventNumber=n,_clickCount=o,_pressure=p,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",i);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),
function(a,b,c,e,f,g,i,m,n,o,p,q){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(e),_modifierFlags=f,_timestamp=g,_context=m,_characters=n,_charactersIgnoringModifiers=o,_isARepeat=p,_keyCode=q,_windowNumber=i;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,e,f,g,i,m,n,o,p){with(a){if(a=objj_msgSend(a,"_initWithType:",c))_location=CPPointCreateCopy(e),_modifierFlags=
f,_timestamp=g,_context=m,_subtype=n,_data1=o,_data2=p;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),
new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),
function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),
function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,c,f){with(a){if(!c)return NO;e.test(c)&&(f|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&f&CPCommandKeyMask&&(f|=CPControlKeyMask,f&=~CPCommandKeyMask);
if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==f)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===c||CPCarriageReturnCharacter===c;return objj_msgSend(_characters,"caseInsensitiveCompare:",c)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;
for(var b=objj_msgSend(objj_msgSend(_window,"firstResponder"),"isKindOfClass:",objj_msgSend(CPTextField,"class")),c=0;c<a;c++){var e=_characters.charAt(c);if(e>=CPUpArrowFunctionKey&&e<=CPModeSwitchFunctionKey||e===CPEnterCharacter||e===CPNewlineCharacter||e===CPCarriageReturnCharacter||e===CPEscapeFunctionKey||!b&&(e===CPSpaceFunctionKey||e===CPDeleteCharacter||e===CPBackspaceCharacter))return YES}return NO}})]);class_addMethods(b,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),
function(a,b,c,e,f,g,i,m,n,o,p,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",c,e,f,g,i,m,n,o,p,q)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,c,e,f,g,i,m,n,o,p){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",
c,e,f,g,i,m,n,o,p)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,e,f,g,i,m,n,o,p){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",c,e,f,g,i,m,n,o,p)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,
"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,c,e){with(a)f=window.setTimeout(function(){f=window.setInterval(_CPEventFirePeriodEvent,e*1E3)},c*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),function(a){with(a){if(f===nil)return;window.clearTimeout(f);f=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,
"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var a=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(b,c,e,f,g,i,r,m,n,o){b.isa=a;b._type=c;b._location=e;b._modifierFlags=f;b._timestamp=g;b._windowNumber=i;b._window=nil;b._context=r;b._eventNumber=m;b._clickCount=n;b._pressure=o;return b}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPImageView.j",baseURL),function(i,g){g("Foundation/CPNotificationCenter.j",NO);g("CPControl.j",YES);g("CPImage.j",YES);g("CPShadowView.j",YES);CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPImageAlignCenter=0;CPImageAlignTop=1;CPImageAlignTopLeft=2;CPImageAlignTopRight=3;CPImageAlignLeft=4;CPImageAlignBottom=5;CPImageAlignBottomLeft=6;CPImageAlignBottomRight=7;CPImageAlignRight=8;var f=nil,e=objj_allocateClassPair(CPControl,
"CPImageView"),c=e.isa;class_addIvars(e,[new objj_ivar("_DOMImageElement"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowView"),new objj_ivar("_isEditable"),new objj_ivar("_imageRect"),new objj_ivar("_imageAlignment")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"initWithFrame:",c))_DOMImageElement=document.createElement("img"),_DOMImageElement.style.position=
"absolute",_DOMImageElement.style.left="0px",_DOMImageElement.style.top="0px",objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element"),_DOMElement.appendChild(_DOMImageElement),_DOMImageElement.style.visibility="hidden";return b}}),new objj_method(sel_getUid("image"),function(b){with(b)return objj_msgSend(b,"objectValue")}),new objj_method(sel_getUid("setImage:"),function(b,a,c){with(b)objj_msgSend(b,"setObjectValue:",
c)}),new objj_method(sel_getUid("setObjectValue:"),function(b,a,c){with(b){a=objj_msgSend(b,"objectValue");if(a===c)return;objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"setObjectValue:",c);c=objj_msgSend(CPNotificationCenter,"defaultCenter");a&&objj_msgSend(c,"removeObserver:name:object:",b,CPImageDidLoadNotification,a);a=objj_msgSend(b,"objectValue");_DOMImageElement.src=a?objj_msgSend(a,"filename"):objj_msgSend(f,"filename");var e=objj_msgSend(a,"size");e&&
e.width===-1&&e.height===-1?(objj_msgSend(c,"addObserver:selector:name:object:",b,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,a),_DOMImageElement.width=0,_DOMImageElement.height=0,objj_msgSend(_shadowView,"setHidden:",YES)):(objj_msgSend(b,"hideOrDisplayContents"),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("imageDidLoad:"),function(b){with(b)objj_msgSend(b,"hideOrDisplayContents"),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("hasShadow"),function(b){with(b)return _hasShadow}),new objj_method(sel_getUid("setHasShadow:"),function(b,a,c){with(b){if(_hasShadow==c)return;(_hasShadow=c)?(_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(b,"bounds")),objj_msgSend(b,"addSubview:",_shadowView),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)):(objj_msgSend(_shadowView,"removeFromSuperview"),_shadowView=nil);objj_msgSend(b,
"hideOrDisplayContents")}}),new objj_method(sel_getUid("setImageAlignment:"),function(b,a,c){with(b){if(_imageAlignment==c)return;_imageAlignment=c;if(!objj_msgSend(b,"image"))return;objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageAlignment"),function(b){with(b)return _imageAlignment}),new objj_method(sel_getUid("setImageScaling:"),function(b,a,c){with(b){objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},
"setImageScaling:",c);if(objj_msgSend(b,"currentValueForThemeAttribute:","image-scaling")===CPScaleToFit)a=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageElement.style.left=ROUND(a.x)+"px",_DOMImageElement.style.top=ROUND(a.y)+"px";objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageScaling"),function(b){with(b)return objj_msgSend(b,"currentValueForThemeAttribute:",
"image-scaling")}),new objj_method(sel_getUid("hideOrDisplayContents"),function(b){with(b)objj_msgSend(b,"image")?(_DOMImageElement.style.visibility="visible",objj_msgSend(_shadowView,"setHidden:",NO)):(_DOMImageElement.style.visibility="hidden",objj_msgSend(_shadowView,"setHidden:",YES))}),new objj_method(sel_getUid("imageRect"),function(b){with(b)return _imageRect}),new objj_method(sel_getUid("layoutSubviews"),function(b){with(b){if(!objj_msgSend(b,"image"))return;var a=objj_msgSend(b,"bounds"),
c=objj_msgSend(b,"image"),e=objj_msgSend(b,"currentValueForThemeAttribute:","image-scaling"),f=0,g=0;b=_hasShadow?6:0;var i=_hasShadow?8:0,l=a.size.width,r=a.size.height;a=l-b;var m=r-i;if(e===CPScaleToFit)_DOMImageElement.width=ROUND(a),_DOMImageElement.height=ROUND(m);else{c=objj_msgSend(c,"size");if(c.width==-1&&c.height==-1)return;e===CPScaleProportionally?(a>=c.width&&m>=c.height?(a=c.width,m=c.height):(f=c.width/c.height,a/m>f?a=m*f:m=a/f),_DOMImageElement.width=ROUND(a),_DOMImageElement.height=
ROUND(m)):(a=c.width,m=c.height);if(e==CPScaleNone)_DOMImageElement.width=ROUND(c.width),_DOMImageElement.height=ROUND(c.height);switch(_imageAlignment){case CPImageAlignLeft:case CPImageAlignTopLeft:case CPImageAlignBottomLeft:f=0;break;case CPImageAlignRight:case CPImageAlignTopRight:case CPImageAlignBottomRight:f=l-a;break;default:f=(l-a)/2}switch(_imageAlignment){case CPImageAlignTop:case CPImageAlignTopLeft:case CPImageAlignTopRight:g=0;break;case CPImageAlignBottom:case CPImageAlignBottomLeft:case CPImageAlignBottomRight:g=
r-m;break;default:g=(r-m)/2}e=NULL?{x:CGPointMake(f,g).x*NULL.a+CGPointMake(f,g).y*NULL.c+NULL.tx,y:CGPointMake(f,g).x*NULL.b+CGPointMake(f,g).y*NULL.d+NULL.ty}:{x:f,y:g};_DOMImageElement.style.left=ROUND(e.x)+"px";_DOMImageElement.style.top=ROUND(e.y)+"px"}_imageRect={origin:{x:f,y:g},size:{width:a,height:m}};_hasShadow&&objj_msgSend(_shadowView,"setFrame:",{origin:{x:f-3,y:g-3},size:{width:a+b,height:m+i}})}}),new objj_method(sel_getUid("mouseDown:"),function(b,a,c){with(b)objj_msgSend(objj_msgSend(b,
"nextResponder"),"mouseDown:",c)}),new objj_method(sel_getUid("setEditable:"),function(b,a,c){with(b){if(_isEditable===c)return;(_isEditable=c)?objj_msgSend(b,"registerForDraggedTypes:",[CPImagesPboardType]):(a=objj_msgSend(b,"registeredDraggedTypes"),objj_msgSend(b,"unregisterDraggedTypes"),objj_msgSend(a,"removeObjectIdenticalTo:",CPImagesPboardType),objj_msgSend(b,"registerForDraggedTypes:",a))}}),new objj_method(sel_getUid("isEditable"),function(b){with(b)return _isEditable}),new objj_method(sel_getUid("performDragOperation:"),
function(b,a,c){with(b)return a=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(objj_msgSend(c,"draggingPasteboard"),"dataForType:",CPImagesPboardType)),objj_msgSend(a,"count")&&(objj_msgSend(b,"setImage:",a[0]),objj_msgSend(b,"sendAction:to:",objj_msgSend(b,"action"),objj_msgSend(b,"target"))),YES})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b)b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),f=objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:",objj_msgSend(b,"pathForResource:","empty.png"))})]);e=objj_getClass("CPImageView");if(!e)throw new SyntaxError('*** Could not find definition for class "CPImageView"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){_DOMImageElement=document.createElement("img");_DOMImageElement.style.position="absolute";_DOMImageElement.style.left="0px";_DOMImageElement.style.top="0px";_DOMImageElement.style.visibility="hidden";objj_msgSend(CPPlatform,
"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"initWithCoder:",c))_DOMElement.appendChild(_DOMImageElement),objj_msgSend(b,"setHasShadow:",objj_msgSend(c,"decodeBoolForKey:","CPImageViewHasShadowKey")),objj_msgSend(b,"setImageAlignment:",objj_msgSend(c,"decodeIntForKey:","CPImageViewImageAlignmentKey")),(objj_msgSend(c,"decodeBoolForKey:",
"CPImageViewIsEditableKey")||NO)&&objj_msgSend(b,"setEditable:",YES),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES);return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b){if(_shadowView){var e=_subviews;_subviews=objj_msgSend(_subviews,"copy");objj_msgSend(_subviews,"removeObjectIdenticalTo:",_shadowView)}objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"encodeWithCoder:",c);_shadowView&&(_subviews=e);objj_msgSend(c,
"encodeBool:forKey:",_hasShadow,"CPImageViewHasShadowKey");objj_msgSend(c,"encodeInt:forKey:",_imageAlignment,"CPImageViewImageAlignmentKey");_isEditable&&objj_msgSend(c,"encodeBool:forKey:",_isEditable,"CPImageViewIsEditableKey")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPImage.j",baseURL),function(i,g){g("Foundation/CPBundle.j",NO);g("Foundation/CPNotificationCenter.j",NO);g("Foundation/CPObject.j",NO);g("Foundation/CPRunLoop.j",NO);g("Foundation/CPString.j",NO);g("CPGeometry.j",YES);CPImageLoadStatusInitialized=0;CPImageLoadStatusLoading=1;CPImageLoadStatusCompleted=2;CPImageLoadStatusCancelled=3;CPImageLoadStatusInvalidData=4;CPImageLoadStatusUnexpectedEOF=5;CPImageLoadStatusReadError=6;CPImageDidLoadNotification=
"CPImageDidLoadNotification";CPImageNameColorPanel="CPImageNameColorPanel";CPImageNameColorPanelHighlighted="CPImageNameColorPanelHighlighted";var f={},e={};e[CPImageNameColorPanel]=CGSizeMake(26,29);e[CPImageNameColorPanelHighlighted]=CGSizeMake(26,29);CPImageInBundle=function(a,b,c){c||(c=objj_msgSend(CPBundle,"mainBundle"));if(b)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:",a),b);return objj_msgSend(objj_msgSend(CPImage,"alloc"),
"initWithContentsOfFile:",objj_msgSend(c,"pathForResource:",a))};CPAppKitImage=function(a,b){return CPImageInBundle(a,b,objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")))};var c=objj_allocateClassPair(CPObject,"CPImage"),b=c.isa;class_addIvars(c,[new objj_ivar("_size"),new objj_ivar("_filename"),new objj_ivar("_name"),new objj_ivar("_delegate"),new objj_ivar("_loadStatus"),new objj_ivar("_image")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),
function(a){with(a)return objj_msgSend(a,"initByReferencingFile:size:","",CGSizeMake(-1,-1))}),new objj_method(sel_getUid("initByReferencingFile:size:"),function(a,b,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPImage").super_class},"init"))_size=CPSizeCreateCopy(e),_filename=c,_loadStatus=CPImageLoadStatusInitialized;return a}}),new objj_method(sel_getUid("initWithContentsOfFile:size:"),function(a,b,c,e){with(a)return(a=objj_msgSend(a,"initByReferencingFile:size:",
c,e))&&objj_msgSend(a,"load"),a}),new objj_method(sel_getUid("initWithContentsOfFile:"),function(a,b,c){with(a)return(a=objj_msgSend(a,"initByReferencingFile:size:",c,CGSizeMake(-1,-1)))&&objj_msgSend(a,"load"),a}),new objj_method(sel_getUid("filename"),function(a){with(a)return _filename}),new objj_method(sel_getUid("setSize:"),function(a,b,c){with(a)_size=CGSizeMakeCopy(c)}),new objj_method(sel_getUid("size"),function(a){with(a)return _size}),new objj_method(sel_getUid("setName:"),function(a,b,
c){with(a){if(_name===c)return YES;if(f[c])return NO;_name=c;f[c]=a;return YES}}),new objj_method(sel_getUid("name"),function(a){with(a)return _name}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a)_delegate=c}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("loadStatus"),function(a){with(a)return _loadStatus}),new objj_method(sel_getUid("load"),function(a){with(a){if(_loadStatus==CPImageLoadStatusLoading||_loadStatus==CPImageLoadStatusCompleted)return;
_loadStatus=CPImageLoadStatusLoading;_image=new Image;var b=YES;_image.onload=function(){b?window.setTimeout(function(){objj_msgSend(a,"_imageDidLoad")},0):(objj_msgSend(a,"_imageDidLoad"),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode));objj_msgSend(a,"_derefFromImage")};_image.onerror=function(){b?window.setTimeout(function(){objj_msgSend(a,"_imageDidError")},0):(objj_msgSend(a,"_imageDidError"),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),
"limitDateForMode:",CPDefaultRunLoopMode));objj_msgSend(a,"_derefFromImage")};_image.onabort=function(){b?window.setTimeout(function(){objj_msgSend(a,"_imageDidAbort")},0):(objj_msgSend(a,"_imageDidAbort"),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode));objj_msgSend(a,"_derefFromImage")};_image.src=_filename;window.setTimeout(function(){b=NO},0)}}),new objj_method(sel_getUid("isThreePartImage"),function(a){with(a)return NO}),new objj_method(sel_getUid("isNinePartImage"),
function(a){with(a)return NO}),new objj_method(sel_getUid("_derefFromImage"),function(a){with(a)_image.onload=null,_image.onerror=null,_image.onabort=null}),new objj_method(sel_getUid("_imageDidLoad"),function(a){with(a){_loadStatus=CPImageLoadStatusCompleted;if(!_size||_size.width==-1&&_size.height==-1)_size=CGSizeMake(_image.width,_image.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPImageDidLoadNotification,a);objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("imageDidLoad:"))&&objj_msgSend(_delegate,"imageDidLoad:",a)}}),new objj_method(sel_getUid("_imageDidError"),function(a){with(a)_loadStatus=CPImageLoadStatusReadError,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("imageDidError:"))&&objj_msgSend(_delegate,"imageDidError:",a)}),new objj_method(sel_getUid("_imageDidAbort"),function(a){with(a)_loadStatus=CPImageLoadStatusCancelled,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("imageDidAbort:"))&&objj_msgSend(_delegate,
"imageDidAbort:",a)})]);class_addMethods(b,[new objj_method(sel_getUid("imageNamed:"),function(a,b,c){with(a){if(a=f[c])return a;a=e[c];if(!a)return nil;a.isa||(a=CPAppKitImage("CPImage/"+c+".png",a),objj_msgSend(a,"setName:",c),e[c]=a);return a}})]);c=objj_getClass("CPImage");if(!c)throw new SyntaxError('*** Could not find definition for class "CPImage"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a)return objj_msgSend(a,"initWithContentsOfFile:size:",
objj_msgSend(c,"decodeObjectForKey:","CPFilename"),objj_msgSend(c,"decodeSizeForKey:","CPSize"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeObject:forKey:",_filename,"CPFilename"),objj_msgSend(c,"encodeSize:forKey:",_size,"CPSize")})]);c=objj_allocateClassPair(CPObject,"CPThreePartImage");b=c.isa;class_addIvars(c,[new objj_ivar("_imageSlices"),new objj_ivar("_isVertical")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithImageSlices:isVertical:"),
function(a,b,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPThreePartImage").super_class},"init"))_imageSlices=c,_isVertical=e;return a}}),new objj_method(sel_getUid("filename"),function(a){with(a)return""}),new objj_method(sel_getUid("imageSlices"),function(a){with(a)return _imageSlices}),new objj_method(sel_getUid("isVertical"),function(a){with(a)return _isVertical}),new objj_method(sel_getUid("isThreePartImage"),function(a){with(a)return YES}),new objj_method(sel_getUid("isNinePartImage"),
function(a){with(a)return NO})]);c=objj_getClass("CPThreePartImage");if(!c)throw new SyntaxError('*** Could not find definition for class "CPThreePartImage"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPThreePartImage").super_class},"init"))_imageSlices=objj_msgSend(c,"decodeObjectForKey:","CPThreePartImageImageSlicesKey"),_isVertical=objj_msgSend(c,"decodeBoolForKey:","CPThreePartImageIsVerticalKey");
return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeObject:forKey:",_imageSlices,"CPThreePartImageImageSlicesKey"),objj_msgSend(c,"encodeBool:forKey:",_isVertical,"CPThreePartImageIsVerticalKey")})]);c=objj_allocateClassPair(CPObject,"CPNinePartImage");b=c.isa;class_addIvars(c,[new objj_ivar("_imageSlices")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithImageSlices:"),function(a,b,c){with(a)return(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPNinePartImage").super_class},"init"))&&(_imageSlices=c),a}),new objj_method(sel_getUid("filename"),function(a){with(a)return""}),new objj_method(sel_getUid("imageSlices"),function(a){with(a)return _imageSlices}),new objj_method(sel_getUid("isThreePartImage"),function(a){with(a)return NO}),new objj_method(sel_getUid("isNinePartImage"),function(a){with(a)return YES})]);c=objj_getClass("CPNinePartImage");if(!c)throw new SyntaxError('*** Could not find definition for class "CPNinePartImage"');
b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNinePartImage").super_class},"init"))&&(_imageSlices=objj_msgSend(c,"decodeObjectForKey:","CPNinePartImageImageSlicesKey")),a}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeObject:forKey:",_imageSlices,"CPNinePartImageImageSlicesKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDictionary.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPEnumerator,"_CPDictionaryValueEnumerator"),e=f.isa;class_addIvars(f,[new objj_ivar("_keyEnumerator"),new objj_ivar("_dictionary")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),function(c,b,a){with(c){if(c=
objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPDictionaryValueEnumerator").super_class},"init"))_keyEnumerator=objj_msgSend(a,"keyEnumerator"),_dictionary=a;return c}}),new objj_method(sel_getUid("nextObject"),function(c){with(c){c=objj_msgSend(_keyEnumerator,"nextObject");if(!c)return nil;return objj_msgSend(_dictionary,"objectForKey:",c)}})]);f=objj_allocateClassPair(CPObject,"CPDictionary");e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),
function(c,b,a){with(c){c="";b=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");for(c in a._buckets)objj_msgSend(b,"setObject:forKey:",objj_msgSend(a,"objectForKey:",c),c);return b}}),new objj_method(sel_getUid("initWithObjects:forKeys:"),function(c,b,a,d){with(c){c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPDictionary").super_class},"init");objj_msgSend(a,"count")!=objj_msgSend(d,"count")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Counts are different.("+
objj_msgSend(a,"count")+"!="+objj_msgSend(d,"count")+")");if(c)for(b=objj_msgSend(d,"count");b--;)objj_msgSend(c,"setObject:forKey:",a[b],d[b]);return c}}),new objj_method(sel_getUid("initWithObjectsAndKeys:"),function(c){with(c){var b=arguments.length;b%2!==0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Key-value count is mismatched. ("+b+" arguments passed)");if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPDictionary").super_class},"init"))for(var a=2;a<
b;a+=2){var d=arguments[a];if(d===nil)break;objj_msgSend(c,"setObject:forKey:",d,arguments[a+1])}return c}}),new objj_method(sel_getUid("copy"),function(c){with(c)return objj_msgSend(CPDictionary,"dictionaryWithDictionary:",c)}),new objj_method(sel_getUid("count"),function(c){with(c)return _count}),new objj_method(sel_getUid("allKeys"),function(c){with(c)return objj_msgSend(_keys,"copy")}),new objj_method(sel_getUid("allValues"),function(c){with(c){for(var b=_keys.length,a=[];b--;)a.push(c.valueForKey(_keys[b]));
return a}}),new objj_method(sel_getUid("allKeysForObject:"),function(c,b,a){with(c){c=_keys.length;b=0;for(var d=[],e=nil,f=nil;b<c;++b)e=_keys[b],f=_buckets[e],f.isa&&a&&a.isa&&objj_msgSend(f,"respondsToSelector:",sel_getUid("isEqual:"))&&objj_msgSend(f,"isEqual:",a)?d.push(e):f===a&&d.push(e);return d}}),new objj_method(sel_getUid("keysSortedByValueUsingSelector:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"allKeys"),"sortedArrayUsingFunction:",function(b,e){b=objj_msgSend(c,"objectForKey:",
b);e=objj_msgSend(c,"objectForKey:",e);return objj_msgSend(b,"performSelector:withObject:",a,e)})}),new objj_method(sel_getUid("keyEnumerator"),function(c){with(c)return objj_msgSend(_keys,"objectEnumerator")}),new objj_method(sel_getUid("objectEnumerator"),function(c){with(c)return objj_msgSend(objj_msgSend(_CPDictionaryValueEnumerator,"alloc"),"initWithDictionary:",c)}),new objj_method(sel_getUid("isEqualToDictionary:"),function(c,b,a){with(c){if(c===a)return YES;c=objj_msgSend(c,"count");if(c!==
objj_msgSend(a,"count"))return NO;for(;c--;){var d=_keys[c];b=_buckets[d];d=a._buckets[d];if(b!==d&&(!b||!b.isa||!d||!d.isa||!objj_msgSend(b,"respondsToSelector:",sel_getUid("isEqual:"))||!objj_msgSend(b,"isEqual:",d)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(c,b,a){with(c){if(c===a)return YES;if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPDictionary,"class")))return NO;return objj_msgSend(c,"isEqualToDictionary:",a)}}),new objj_method(sel_getUid("objectForKey:"),
function(c,b,a){with(c)return c=_buckets[a],c===void 0?nil:c}),new objj_method(sel_getUid("removeAllObjects"),function(c){with(c)c.removeAllValues()}),new objj_method(sel_getUid("removeObjectForKey:"),function(c,b,a){with(c)c.removeValueForKey(a)}),new objj_method(sel_getUid("removeObjectsForKeys:"),function(c,b,a){with(c)for(b=a.length;b--;)objj_msgSend(c,"removeObjectForKey:",a[b])}),new objj_method(sel_getUid("setObject:forKey:"),function(c,b,a,d){with(c)c.setValueForKey(d,a)}),new objj_method(sel_getUid("addEntriesFromDictionary:"),
function(c,b,a){with(c){if(!a)return;b=objj_msgSend(a,"allKeys");for(var d=objj_msgSend(b,"count");d--;){var e=b[d];objj_msgSend(c,"setObject:forKey:",objj_msgSend(a,"objectForKey:",e),e)}}}),new objj_method(sel_getUid("description"),function(c){with(c)return c.toString()}),new objj_method(sel_getUid("containsKey:"),function(c,b,a){with(c)return c=objj_msgSend(c,"objectForKey:",a),c!==nil&&c!==void 0})]);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(c){with(c){var b=new CFMutableDictionary;
b.isa=objj_msgSend(c,"class");return b}}),new objj_method(sel_getUid("dictionary"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"init")}),new objj_method(sel_getUid("dictionaryWithDictionary:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithDictionary:",a)}),new objj_method(sel_getUid("dictionaryWithObject:forKey:"),function(c,b,a,d){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithObjects:forKeys:",[a],[d])}),new objj_method(sel_getUid("dictionaryWithObjects:forKeys:"),
function(c,b,a,d){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithObjects:forKeys:",a,d)}),new objj_method(sel_getUid("dictionaryWithJSObject:"),function(c,b,a){with(c)return objj_msgSend(c,"dictionaryWithJSObject:recursively:",a,NO)}),new objj_method(sel_getUid("dictionaryWithJSObject:recursively:"),function(c,b,a,d){with(c){b="";c=objj_msgSend(objj_msgSend(c,"alloc"),"init");for(b in a)if(a.hasOwnProperty(b)){var e=a[b];if(e===null)objj_msgSend(c,"setObject:forKey:",objj_msgSend(CPNull,
"null"),b);else{if(d)if(e.constructor===Object)e=objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",e,YES);else if(objj_msgSend(e,"isKindOfClass:",CPArray)){for(var f=[],g=0,i=e.length;g<i;g++){var l=e[g];l===null?f.push(objj_msgSend(CPNull,"null")):l.constructor===Object?f.push(objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",l,YES)):f.push(l)}e=f}objj_msgSend(c,"setObject:forKey:",e,b)}}return c}}),new objj_method(sel_getUid("dictionaryWithObjectsAndKeys:"),function(c){with(c)return arguments[0]=
objj_msgSend(c,"alloc"),arguments[1]=sel_getUid("initWithObjectsAndKeys:"),objj_msgSend.apply(this,arguments)})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c)return objj_msgSend(a,"_decodeDictionaryOfObjectsForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSend(a,"_encodeDictionaryOfObjects:forKey:",
c,"CP.objects")})]);f=objj_allocateClassPair(CPDictionary,"CPMutableDictionary");e=f.isa;objj_registerClassPair(f);CFDictionary.prototype.isa=CPDictionary;CFMutableDictionary.prototype.isa=CPMutableDictionary});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPWindowView.j",baseURL),function(i,g){g("CPImageView.j",YES);g("CPView.j",YES);var f=nil,e=objj_allocateClassPair(CPView,"_CPWindowView"),c=e.isa;class_addIvars(e,[new objj_ivar("_styleMask"),new objj_ivar("_resizeIndicator"),new objj_ivar("_resizeIndicatorOffset"),new objj_ivar("_toolbarView"),new objj_ivar("_toolbarOffset"),new objj_ivar("_resizeFrame"),new objj_ivar("_mouseDraggedPoint"),new objj_ivar("_cachedScreenFrame")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"contentRectForFrameRect:",c)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"frameRectForContentRect:",c)}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,c,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPWindowView").super_class},
"initWithFrame:",c))_styleMask=e,_resizeIndicatorOffset=CGSizeMakeZero(),_toolbarOffset=CGSizeMakeZero();return b}}),new objj_method(sel_getUid("setDocumentEdited:"),function(b){with(b);}),new objj_method(sel_getUid("setTitle:"),function(b){with(b);}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(b){with(b)return YES}),new objj_method(sel_getUid("mouseDown:"),function(b,a,c){with(b){a=objj_msgSend(b,"window");if(_styleMask&CPResizableWindowMask&&_resizeIndicator){var e=objj_msgSend(_resizeIndicator,
"frame");if(CGRectContainsPoint(e,objj_msgSend(b,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil)))return objj_msgSend(b,"trackResizeWithEvent:",c)}objj_msgSend(a,"isMovableByWindowBackground")?objj_msgSend(b,"trackMoveWithEvent:",c):objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPWindowView").super_class},"mouseDown:",c)}}),new objj_method(sel_getUid("trackResizeWithEvent:"),function(b,a,c){with(b){a=objj_msgSend(c,"locationInWindow");var e=objj_msgSend(c,"type");if(e===
CPLeftMouseUp)return;c=objj_msgSend(b,"window");e===CPLeftMouseDown?(c=objj_msgSend(c,"frame"),_resizeFrame=CGRectMake(a.x,a.y,CGRectGetWidth(c),CGRectGetHeight(c))):e===CPLeftMouseDragged&&(a=CGSizeMake(CGRectGetWidth(_resizeFrame)+a.x-CGRectGetMinX(_resizeFrame),CGRectGetHeight(_resizeFrame)+a.y-CGRectGetMinY(_resizeFrame)),c._isSheet&&c._parentView&&c._frame.size.width!==a.width&&objj_msgSend(c._parentView,"_setAttachedSheetFrameOrigin"),objj_msgSend(c,"setFrameSize:",a));objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",
b,sel_getUid("trackResizeWithEvent:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES)}}),new objj_method(sel_getUid("_pointWithinScreenFrame:"),function(b,a,c){with(b){if(!objj_msgSend(CPPlatform,"isBrowser"))return c;(b=_cachedScreenFrame)||(b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"visibleFrame"));a=0;objj_msgSend(CPMenu,"menuBarVisible")&&(a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"));var e=CGPointMake(0,0);e.x=MIN(MAX(c.x,-_frame.size.width+
4),CGRectGetMaxX(b)-4);e.y=MIN(MAX(c.y,a),CGRectGetMaxY(b)-8);return e}}),new objj_method(sel_getUid("trackMoveWithEvent:"),function(b,a,c){with(b){a=objj_msgSend(c,"type");if(a===CPLeftMouseUp){_cachedScreenFrame=nil;return}else if(a===CPLeftMouseDown)_mouseDraggedPoint=objj_msgSend(objj_msgSend(b,"window"),"convertBaseToGlobal:",objj_msgSend(c,"locationInWindow")),_cachedScreenFrame=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"visibleFrame");else if(a===CPLeftMouseDragged){a=
objj_msgSend(b,"window");var e=objj_msgSend(a,"frame");c=objj_msgSend(a,"convertBaseToGlobal:",objj_msgSend(c,"locationInWindow"));e=objj_msgSend(b,"_pointWithinScreenFrame:",CGPointMake(e.origin.x+(c.x-_mouseDraggedPoint.x),e.origin.y+(c.y-_mouseDraggedPoint.y)));objj_msgSend(a,"setFrameOrigin:",e);_mouseDraggedPoint=objj_msgSend(b,"_pointWithinScreenFrame:",c)}objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",b,sel_getUid("trackMoveWithEvent:"),CPLeftMouseDraggedMask|
CPLeftMouseUpMask,nil,nil,YES)}}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(b,a,c){with(b)c?(a=objj_msgSend(f,"size"),c=objj_msgSend(b,"frame").size,_resizeIndicator=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(c.width-a.width-_resizeIndicatorOffset.width,c.height-a.height-_resizeIndicatorOffset.height,a.width,a.height)),objj_msgSend(_resizeIndicator,"setImage:",f),objj_msgSend(_resizeIndicator,"setAutoresizingMask:",CPViewMinXMargin|CPViewMinYMargin),
objj_msgSend(b,"addSubview:",_resizeIndicator)):(objj_msgSend(_resizeIndicator,"removeFromSuperview"),_resizeIndicator=nil)}),new objj_method(sel_getUid("showsResizeIndicator"),function(b){with(b)return _resizeIndicator!==nil}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(b,a,c){with(b){if(CGSizeEqualToSize(_resizeIndicatorOffset,c))return;_resizeIndicatorOffset=c;if(!_resizeIndicator)return;a=objj_msgSend(_resizeIndicator,"frame").size;b=objj_msgSend(b,"frame").size;objj_msgSend(_resizeIndicator,
"setFrameOrigin:",CGPointMake(b.width-a.width-c.width,b.height-a.height-c.height))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(b){with(b)return _resizeIndicatorOffset}),new objj_method(sel_getUid("windowDidChangeDocumentEdited"),function(b){with(b);}),new objj_method(sel_getUid("windowDidChangeDocumentSaving"),function(b){with(b);}),new objj_method(sel_getUid("showsToolbar"),function(b){with(b)return YES}),new objj_method(sel_getUid("toolbarOffset"),function(b){with(b)return _toolbarOffset}),
new objj_method(sel_getUid("toolbarLabelColor"),function(b){with(b)return objj_msgSend(CPColor,"blackColor")}),new objj_method(sel_getUid("toolbarMaxY"),function(b){with(b){if(!_toolbarView||objj_msgSend(_toolbarView,"isHidden"))return objj_msgSend(b,"toolbarOffset").height;return CGRectGetMaxY(objj_msgSend(_toolbarView,"frame"))}}),new objj_method(sel_getUid("toolbarView"),function(b){with(b)return _toolbarView}),new objj_method(sel_getUid("tile"),function(b){with(b){var a=objj_msgSend(b,"window"),
c=objj_msgSend(b,"bounds");c=CGRectGetWidth(c);if(objj_msgSend(objj_msgSend(a,"toolbar"),"isVisible")){a=objj_msgSend(b,"toolbarView");var e=objj_msgSend(b,"toolbarOffset");objj_msgSend(a,"setFrame:",CGRectMake(e.width,e.height,c,CGRectGetHeight(objj_msgSend(a,"frame"))))}if(objj_msgSend(b,"showsResizeIndicator"))c=objj_msgSend(_resizeIndicator,"frame").size,b=objj_msgSend(b,"bounds").size,objj_msgSend(_resizeIndicator,"setFrameOrigin:",CGPointMake(b.width-c.width-_resizeIndicatorOffset.width,b.height-
c.height-_resizeIndicatorOffset.height))}}),new objj_method(sel_getUid("noteToolbarChanged"),function(b){with(b){var a=objj_msgSend(b,"window"),c=objj_msgSend(a,"toolbar"),e=objj_msgSend(c,"_toolbarView");_toolbarView!==e&&(objj_msgSend(_toolbarView,"removeFromSuperview"),e&&(objj_msgSend(e,"removeFromSuperview"),objj_msgSend(e,"FIXME_setIsHUD:",_styleMask&CPHUDBackgroundWindowMask),objj_msgSend(b,"addSubview:",e)),_toolbarView=e);objj_msgSend(e,"setHidden:",!objj_msgSend(b,"showsToolbar")||!objj_msgSend(c,
"isVisible"));if(a)c=objj_msgSend(b,"convertRect:toView:",objj_msgSend(objj_msgSend(a,"contentView"),"frame"),nil),c.origin=objj_msgSend(a,"convertBaseToGlobal:",c.origin),objj_msgSend(b,"setAutoresizesSubviews:",NO),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",c)),objj_msgSend(b,"setAutoresizesSubviews:",YES);objj_msgSend(b,"tile")}}),new objj_method(sel_getUid("didAddSubview:"),function(b,a,c){with(b){if(!_resizeIndicator||c===_resizeIndicator)return;objj_msgSend(b,"addSubview:",
_resizeIndicator)}})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!=objj_msgSend(_CPWindowView,"class"))return;f=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),"pathForResource:","_CPWindowView/_CPWindowViewResizeIndicator.png"),CGSizeMake(12,12))}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return CGRectMakeCopy(c)}),
new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return CGRectMakeCopy(c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPEnumerator.j",YES);g("CPNumber.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPSet"),e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setByAddingObject:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithArray:",objj_msgSend(objj_msgSend(b,"allObjects"),"arrayByAddingObject:",c))}),new objj_method(sel_getUid("setByAddingObjectsFromSet:"),
function(b,a,c){with(b)return objj_msgSend(b,"setByAddingObjectsFromArray:",objj_msgSend(c,"allObjects"))}),new objj_method(sel_getUid("setByAddingObjectsFromArray:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithArray:",objj_msgSend(objj_msgSend(b,"allObjects"),"arrayByAddingObjectsFromArray:",c))}),new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithObjects:count:",nil,0)}),new objj_method(sel_getUid("initWithArray:"),function(b,a,c){with(b)return objj_msgSend(b,
"initWithObjects:count:",c,objj_msgSend(c,"count"))}),new objj_method(sel_getUid("initWithObjects:"),function(b){with(b){for(var a=2,c=arguments.length;a<c;++a)if(arguments[a]===nil)break;return objj_msgSend(b,"initWithObjects:count:",Array.prototype.slice.call(arguments,2,a),a-2)}}),new objj_method(sel_getUid("initWithObjects:count:"),function(b,a,d,e){with(b){if(b===c)return objj_msgSend(objj_msgSend(_CPConcreteMutableSet,"alloc"),"initWithObjects:count:",d,e);return objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPSet").super_class},"init")}}),new objj_method(sel_getUid("initWithSet:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithArray:",objj_msgSend(c,"allObjects"))}),new objj_method(sel_getUid("initWithSet:copyItems:"),function(b,a,c,e){with(b){if(e)return objj_msgSend(c,"valueForKey:","copy");return objj_msgSend(b,"initWithSet:",c)}}),new objj_method(sel_getUid("count"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("allObjects"),
function(b){with(b){for(var a=[],c=objj_msgSend(b,"objectEnumerator");(b=objj_msgSend(c,"nextObject"))!==nil;)a.push(b);return a}}),new objj_method(sel_getUid("anyObject"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"objectEnumerator"),"nextObject")}),new objj_method(sel_getUid("containsObject:"),function(b,a,c){with(b)return objj_msgSend(b,"member:",c)!==nil}),new objj_method(sel_getUid("filteredSetUsingPredicate:"),function(b,a,c){with(b){a=[];for(var e,f=objj_msgSend(b,"objectEnumerator");(e=
objj_msgSend(f,"nextObject"))!==nil;)objj_msgSend(c,"evaluateWithObject:",e)&&a.push(e);return objj_msgSend(objj_msgSend(objj_msgSend(b,"class"),"alloc"),"initWithArray:",a)}}),new objj_method(sel_getUid("makeObjectsPerformSelector:"),function(b,a,c){with(b)objj_msgSend(b,"makeObjectsPerformSelector:withObjects:",c,nil)}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObject:"),function(b,a,c,e){with(b)objj_msgSend(b,"makeObjectsPerformSelector:withObjects:",c,[e])}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObjects:"),
function(b,a,c,e){with(b){b=objj_msgSend(b,"objectEnumerator");for(e=[nil,c].concat(e||[]);(c=objj_msgSend(b,"nextObject"))!==nil;)e[0]=c,objj_msgSend.apply(this,e)}}),new objj_method(sel_getUid("member:"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("objectEnumerator"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("enumerateObjectsUsingBlock:"),function(b,a,c){with(b)for(a=objj_msgSend(b,"objectEnumerator");(b=
objj_msgSend(a,"nextObject"))!==nil;)if(c(b))break}),new objj_method(sel_getUid("objectsPassingTest:"),function(b,a,c){with(b){a=[];for(var e=nil,f=objj_msgSend(b,"objectEnumerator");(e=objj_msgSend(f,"nextObject"))!==nil;)c(e)&&a.push(e);return objj_msgSend(objj_msgSend(objj_msgSend(b,"class"),"alloc"),"initWithArray:",a)}}),new objj_method(sel_getUid("isSubsetOfSet:"),function(b,a,c){with(b){a=nil;for(b=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(b,"nextObject"))!==nil;)if(!objj_msgSend(c,
"containsObject:",a))return NO;return YES}}),new objj_method(sel_getUid("intersectsSet:"),function(b,a,c){with(b){if(b===c)return objj_msgSend(b,"count")>0;a=nil;for(b=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(b,"nextObject"))!==nil;)if(objj_msgSend(c,"containsObject:",a))return YES;return NO}}),new objj_method(sel_getUid("isEqualToSet:"),function(b,a,c){with(b)return objj_msgSend(b,"isEqual:",c)}),new objj_method(sel_getUid("isEqual:"),function(b,a,c){with(b)return b===c||objj_msgSend(c,
"isKindOfClass:",objj_msgSend(CPSet,"class"))&&objj_msgSend(b,"count")===objj_msgSend(c,"count")&&objj_msgSend(c,"isSubsetOfSet:",b)}),new objj_method(sel_getUid("description"),function(b){with(b){var a="{(\n";b=objj_msgSend(b,"allObjects");for(var c=0,e=objj_msgSend(b,"count");c<e;++c)a+="\t"+String(b[c]).split("\n").join("\n\t")+"\n";return a+")}"}})]);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(b){with(b){if(b===objj_msgSend(CPSet,"class")||b===objj_msgSend(CPMutableSet,"class"))return objj_msgSend(_CPPlaceholderSet,
"alloc");return objj_msgSendSuper({receiver:b,super_class:objj_getMetaClass("CPSet").super_class},"alloc")}}),new objj_method(sel_getUid("set"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"init")}),new objj_method(sel_getUid("setWithArray:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithArray:",c)}),new objj_method(sel_getUid("setWithObject:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:",c)}),new objj_method(sel_getUid("setWithObjects:count:"),
function(b,a,c,e){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:count:",c,e)}),new objj_method(sel_getUid("setWithObjects:"),function(b){with(b){var a=Array.prototype.slice.apply(arguments);a[0]=objj_msgSend(b,"alloc");a[1]=sel_getUid("initWithObjects:");return objj_msgSend.apply(this,a)}}),new objj_method(sel_getUid("setWithSet:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithSet:",c)})]);f=objj_getClass("CPSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSet"');
e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithSet:",b)}),new objj_method(sel_getUid("mutableCopy"),function(b){with(b)return objj_msgSend(b,"copy")})]);f=objj_getClass("CPSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSet"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithArray:",objj_msgSend(c,"decodeObjectForKey:",
"CPSetObjectsKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(b,"allObjects"),"CPSetObjectsKey")})]);f=objj_getClass("CPSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSet"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b,a,c){with(b){if(c==="@count")return objj_msgSend(b,"count");a=objj_msgSend(CPSet,"set");var e;for(b=objj_msgSend(b,"objectEnumerator");(e=
objj_msgSend(b,"nextObject"))!==nil;)e=objj_msgSend(e,"valueForKey:",c),objj_msgSend(a,"addObject:",e);return a}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,a,c,e){with(b)for(a=objj_msgSend(b,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==nil;)objj_msgSend(b,"setValue:forKey:",c,e)})]);var c=nil;f=objj_allocateClassPair(CPSet,"_CPPlaceholderSet");e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(b){with(b)return c||(c=objj_msgSendSuper({receiver:b,
super_class:objj_getMetaClass("_CPPlaceholderSet").super_class},"alloc")),c})]);g("CPMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPKeyBinding.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CPEvent.j",YES);CPStandardKeyBindings={"@.":"cancelOperation:","^a":"moveToBeginningOfParagraph:","^$a":"moveToBeginningOfParagraphAndModifySelection:","^b":"moveBackward:","^$b":"moveBackwardAndModifySelection:","^~b":"moveWordBackward:","^~$b":"moveWordBackwardAndModifySelection:","^d":"deleteForward:","^e":"moveToEndOfParagraph:","^$e":"moveToEndOfParagraphAndModifySelection:",
"^f":"moveForward:","^$f":"moveForwardAndModifySelection:","^~f":"moveWordForward:","^~$f":"moveWordForwardAndModifySelection:","^h":"deleteBackward:","^k":"deleteToEndOfParagraph:","^l":"centerSelectionInVisibleArea:","^n":"moveDown:","^$n":"moveDownAndModifySelection:","^o":["insertNewlineIgnoringFieldEditor:","moveBackward:"],"^p":"moveUp:","^$p":"moveUpAndModifySelection:","^t":"transpose:","^v":"pageDown:","^$v":"pageDownAndModifySelection:","^y":"yank:"};CPStandardKeyBindings[CPNewlineCharacter]=
"insertNewline:";CPStandardKeyBindings[CPCarriageReturnCharacter]="insertNewline:";CPStandardKeyBindings[CPEnterCharacter]="insertNewline:";CPStandardKeyBindings["~"+CPNewlineCharacter]="insertNewlineIgnoringFieldEditor:";CPStandardKeyBindings["~"+CPCarriageReturnCharacter]="insertNewlineIgnoringFieldEditor:";CPStandardKeyBindings["~"+CPEnterCharacter]="insertNewlineIgnoringFieldEditor:";CPStandardKeyBindings["^"+CPNewlineCharacter]="insertLineBreak:";CPStandardKeyBindings["^"+CPCarriageReturnCharacter]=
"insertLineBreak:";CPStandardKeyBindings["^"+CPEnterCharacter]="insertLineBreak:";CPStandardKeyBindings[CPBackspaceCharacter]="deleteBackward:";CPStandardKeyBindings["~"+CPBackspaceCharacter]="deleteWordBackward:";CPStandardKeyBindings[CPDeleteCharacter]="deleteBackward:";CPStandardKeyBindings["@"+CPDeleteCharacter]="deleteToBeginningOfLine:";CPStandardKeyBindings["~"+CPDeleteCharacter]="deleteWordBackward:";CPStandardKeyBindings["^"+CPDeleteCharacter]="deleteBackwardByDecomposingPreviousCharacter:";
CPStandardKeyBindings["^~"+CPDeleteCharacter]="deleteWordBackward:";CPStandardKeyBindings[CPDeleteFunctionKey]="deleteForward:";CPStandardKeyBindings["~"+CPDeleteFunctionKey]="deleteWordForward:";CPStandardKeyBindings[CPTabCharacter]="insertTab:";CPStandardKeyBindings["~"+CPTabCharacter]="insertTabIgnoringFieldEditor:";CPStandardKeyBindings["^"+CPTabCharacter]="selectNextKeyView:";CPStandardKeyBindings[CPBackTabCharacter]="insertBacktab:";CPStandardKeyBindings["^"+CPBackTabCharacter]="selectPreviousKeyView:";
CPStandardKeyBindings[CPEscapeFunctionKey]="cancelOperation:";CPStandardKeyBindings["~"+CPEscapeFunctionKey]="complete:";CPStandardKeyBindings[CPF5FunctionKey]="complete:";CPStandardKeyBindings[CPLeftArrowFunctionKey]="moveLeft:";CPStandardKeyBindings["~"+CPLeftArrowFunctionKey]="moveWordLeft:";CPStandardKeyBindings["^"+CPLeftArrowFunctionKey]="moveToLeftEndOfLine:";CPStandardKeyBindings["@"+CPLeftArrowFunctionKey]="moveToLeftEndOfLine:";CPStandardKeyBindings["$"+CPLeftArrowFunctionKey]="moveLeftAndModifySelection:";
CPStandardKeyBindings["$~"+CPLeftArrowFunctionKey]="moveWordLeftAndModifySelection:";CPStandardKeyBindings["$^"+CPLeftArrowFunctionKey]="moveToLeftEndOfLineAndModifySelection:";CPStandardKeyBindings["$@"+CPLeftArrowFunctionKey]="moveToLeftEndOfLineAndModifySelection:";CPStandardKeyBindings["@^"+CPLeftArrowFunctionKey]="makeBaseWritingDirectionRightToLeft:";CPStandardKeyBindings["@^~"+CPLeftArrowFunctionKey]="makeTextWritingDirectionRightToLeft:";CPStandardKeyBindings[CPRightArrowFunctionKey]="moveRight:";
CPStandardKeyBindings["~"+CPRightArrowFunctionKey]="moveWordRight:";CPStandardKeyBindings["^"+CPRightArrowFunctionKey]="moveToRightEndOfLine:";CPStandardKeyBindings["@"+CPRightArrowFunctionKey]="moveToRightEndOfLine:";CPStandardKeyBindings["$"+CPRightArrowFunctionKey]="moveRightAndModifySelection:";CPStandardKeyBindings["$~"+CPRightArrowFunctionKey]="moveWordRightAndModifySelection:";CPStandardKeyBindings["$^"+CPRightArrowFunctionKey]="moveToRightEndOfLineAndModifySelection:";CPStandardKeyBindings["$@"+
CPRightArrowFunctionKey]="moveToRightEndOfLineAndModifySelection:";CPStandardKeyBindings["@^"+CPRightArrowFunctionKey]="makeBaseWritingDirectionLeftToRight:";CPStandardKeyBindings["@^~"+CPRightArrowFunctionKey]="makeTextWritingDirectionLeftToRight:";CPStandardKeyBindings[CPUpArrowFunctionKey]="moveUp:";CPStandardKeyBindings["~"+CPUpArrowFunctionKey]=["moveBackward:","moveToBeginningOfParagraph:"];CPStandardKeyBindings["^"+CPUpArrowFunctionKey]="scrollPageUp:";CPStandardKeyBindings["@"+CPUpArrowFunctionKey]=
"moveToBeginningOfDocument:";CPStandardKeyBindings["$"+CPUpArrowFunctionKey]="moveUpAndModifySelection:";CPStandardKeyBindings["$~"+CPUpArrowFunctionKey]="moveParagraphBackwardAndModifySelection:";CPStandardKeyBindings["$@"+CPUpArrowFunctionKey]="moveToBeginningOfDocumentAndModifySelection:";CPStandardKeyBindings[CPDownArrowFunctionKey]="moveDown:";CPStandardKeyBindings["~"+CPDownArrowFunctionKey]=["moveForward:","moveToEndOfParagraph:"];CPStandardKeyBindings["^"+CPDownArrowFunctionKey]="scrollPageDown:";
CPStandardKeyBindings["@"+CPDownArrowFunctionKey]="moveToEndOfDocument:";CPStandardKeyBindings["$"+CPDownArrowFunctionKey]="moveDownAndModifySelection:";CPStandardKeyBindings["$~"+CPDownArrowFunctionKey]="moveParagraphForwardAndModifySelection:";CPStandardKeyBindings["$@"+CPDownArrowFunctionKey]="moveToEndOfDocumentAndModifySelection:";CPStandardKeyBindings["@^"+CPDownArrowFunctionKey]="makeBaseWritingDirectionNatural:";CPStandardKeyBindings["@^~"+CPDownArrowFunctionKey]="makeTextWritingDirectionNatural:";
CPStandardKeyBindings[CPHomeFunctionKey]="scrollToBeginningOfDocument:";CPStandardKeyBindings["$"+CPHomeFunctionKey]="moveToBeginningOfDocumentAndModifySelection:";CPStandardKeyBindings[CPEndFunctionKey]="scrollToEndOfDocument:";CPStandardKeyBindings["$"+CPEndFunctionKey]="moveToEndOfDocumentAndModifySelection:";CPStandardKeyBindings[CPPageUpFunctionKey]="scrollPageUp:";CPStandardKeyBindings["~"+CPPageUpFunctionKey]="pageUp:";CPStandardKeyBindings["$"+CPPageUpFunctionKey]="pageUpAndModifySelection:";
CPStandardKeyBindings[CPPageDownFunctionKey]="scrollPageDown:";CPStandardKeyBindings["~"+CPPageDownFunctionKey]="pageDown:";CPStandardKeyBindings["$"+CPPageDownFunctionKey]="pageDownAndModifySelection:";var f={},e=objj_allocateClassPair(CPObject,"CPKeyBinding"),c=e.isa;class_addIvars(e,[new objj_ivar("_key"),new objj_ivar("_modifierFlags"),new objj_ivar("_selectors"),new objj_ivar("_cacheName")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithPhysicalKeyString:selectors:"),
function(b,a,c,e){with(b)return a=c.split(""),c=(objj_msgSend(a,"containsObject:","$")?CPShiftKeyMask:0)|(objj_msgSend(a,"containsObject:","^")?CPControlKeyMask:0)|(objj_msgSend(a,"containsObject:","~")?CPAlternateKeyMask:0)|(objj_msgSend(a,"containsObject:","@")?CPCommandKeyMask:0),objj_msgSend(e,"isKindOfClass:",CPArray)||(e=[e]),objj_msgSend(b,"initWithKey:modifierFlags:selectors:",objj_msgSend(a,"lastObject"),c,e)}),new objj_method(sel_getUid("initWithKey:modifierFlags:selectors:"),function(b,
a,c,e,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPKeyBinding").super_class},"init"))_key=c,_modifierFlags=e,_selectors=f,a=[],_modifierFlags&CPCommandKeyMask&&a.push("@"),_modifierFlags&CPControlKeyMask&&a.push("^"),_modifierFlags&CPAlternateKeyMask&&a.push("~"),_modifierFlags&CPShiftKeyMask&&a.push("$"),a.push(_key),_cacheName=a.join("");return b}}),new objj_method(sel_getUid("key"),function(b){with(b)return _key}),new objj_method(sel_getUid("modifierFlags"),function(b){with(b)return _modifierFlags}),
new objj_method(sel_getUid("selectors"),function(b){with(b)return _selectors}),new objj_method(sel_getUid("_cacheName"),function(b){with(b)return _cacheName}),new objj_method(sel_getUid("isEqual:"),function(b,a,c){with(b)return _key===objj_msgSend(c,"key")&&_modifierFlags===objj_msgSend(c,"modifierFlags")}),new objj_method(sel_getUid("description"),function(b){with(b)return objj_msgSend(CPString,"stringWithFormat:","<KeyBinding string: '%@' modifierFlags: 0x%lx selectors: %@>",_key,_modifierFlags,
_selectors)})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(objj_msgSend(b,"class")!==CPKeyBinding)return;objj_msgSend(b,"createKeyBindingsFromJSObject:",CPStandardKeyBindings)}}),new objj_method(sel_getUid("createKeyBindingsFromJSObject:"),function(b,a,c){with(b)for(var e in c)objj_msgSend(b,"cacheKeyBinding:",objj_msgSend(objj_msgSend(CPKeyBinding,"alloc"),"initWithPhysicalKeyString:selectors:",e,c[e]))}),new objj_method(sel_getUid("cacheKeyBinding:"),function(b,
a,c){with(b){if(!c)return;f[objj_msgSend(c,"_cacheName")]=c}}),new objj_method(sel_getUid("keyBindingForKey:modifierFlags:"),function(b,a,c,e){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithKey:modifierFlags:selectors:",c,e,nil),f[objj_msgSend(b,"_cacheName")]}),new objj_method(sel_getUid("selectorsForKey:modifierFlags:"),function(b,a,c,e){with(b)return objj_msgSend(objj_msgSend(b,"keyBindingForKey:modifierFlags:",c,e),"selectors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableArray.j",baseURL),function(i,g){g("CPArray.j",YES);var f=objj_allocateClassPair(CPArray,"CPMutableArray"),e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("addObject:"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a){b=0;for(var e=objj_msgSend(c,"count");b<e;++b)objj_msgSend(a,"addObject:",objj_msgSend(c,
"objectAtIndex:",b))}}),new objj_method(sel_getUid("insertObject:atIndex:"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("insertObjects:atIndexes:"),function(a,b,c,e){with(a){var f=objj_msgSend(e,"count");b=objj_msgSend(c,"count");f!==b&&objj_msgSend(CPException,"raise:reason:",CPRangeException,"the counts of the passed-in array ("+b+") and index set ("+f+") must be identical.");var g=objj_msgSend(e,"lastIndex");g>=objj_msgSend(a,"count")+f&&objj_msgSend(CPException,
"raise:reason:",CPRangeException,"the last index ("+g+") must be less than the sum of the original count ("+objj_msgSend(a,"count")+") and the insertion count ("+f+").");f=0;for(g=objj_msgSend(e,"firstIndex");f<b;++f,g=objj_msgSend(e,"indexGreaterThanIndex:",g))objj_msgSend(a,"insertObject:atIndex:",objj_msgSend(c,"objectAtIndex:",f),g)}}),new objj_method(sel_getUid("insertObject:inArraySortedByDescriptors:"),function(a,b,c,e){with(a){var f=objj_msgSend(e,"count");b=f?objj_msgSend(a,"indexOfObject:inSortedRange:options:usingComparator:",
c,nil,CPBinarySearchingInsertionIndex,function(a,b){for(var c=0,d=CPOrderedSame;c<f&&(d=objj_msgSend(objj_msgSend(e,"objectAtIndex:",c),"compareObject:withObject:",a,b))===CPOrderedSame;)++c;return d}):objj_msgSend(a,"count");objj_msgSend(a,"insertObject:atIndex:",c,b);return b}}),new objj_method(sel_getUid("replaceObjectAtIndex:withObject:"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("replaceObjectsAtIndexes:withObjects:"),function(a,b,c,e){with(a){b=
0;for(var f=objj_msgSend(c,"firstIndex");f!==CPNotFound;)objj_msgSend(a,"replaceObjectAtIndex:withObject:",f,objj_msgSend(e,"objectAtIndex:",b++)),f=objj_msgSend(c,"indexGreaterThanIndex:",f)}}),new objj_method(sel_getUid("replaceObjectsInRange:withObjectsFromArray:range:"),function(a,b,c,e,f){with(a){objj_msgSend(a,"removeObjectsInRange:",c);if(f&&(f.location!==0||f.length!==objj_msgSend(e,"count")))e=objj_msgSend(e,"subarrayWithRange:",f);b=objj_msgSend(CPIndexSet,"indexSetWithIndexesInRange:",
CPMakeRange(c.location,objj_msgSend(e,"count")));objj_msgSend(a,"insertObjects:atIndexes:",e,b)}}),new objj_method(sel_getUid("replaceObjectsInRange:withObjectsFromArray:"),function(a,b,c,e){with(a)objj_msgSend(a,"replaceObjectsInRange:withObjectsFromArray:range:",c,e,nil)}),new objj_method(sel_getUid("setArray:"),function(a,b,c){with(a){if(a===c)return;objj_msgSend(a,"removeAllObjects");objj_msgSend(a,"addObjectsFromArray:",c)}}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)for(;objj_msgSend(a,
"count");)objj_msgSend(a,"removeLastObject")}),new objj_method(sel_getUid("removeLastObject"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("removeObject:"),function(a,b,c){with(a)objj_msgSend(a,"removeObject:inRange:",c,CPMakeRange(0,length))}),new objj_method(sel_getUid("removeObject:inRange:"),function(a,b,c,e){with(a)for(;(b=objj_msgSend(a,"indexOfObject:inRange:",c,e))!=CPNotFound;)objj_msgSend(a,"removeObjectAtIndex:",b),e=CPIntersectionRange(CPMakeRange(b,
length-b),e)}),new objj_method(sel_getUid("removeObjectAtIndex:"),function(a,b){with(a)_CPRaiseInvalidAbstractInvocation(a,b)}),new objj_method(sel_getUid("removeObjectsAtIndexes:"),function(a,b,c){with(a)for(b=objj_msgSend(c,"lastIndex");b!==CPNotFound;)objj_msgSend(a,"removeObjectAtIndex:",b),b=objj_msgSend(c,"indexLessThanIndex:",b)}),new objj_method(sel_getUid("removeObjectIdenticalTo:"),function(a,b,c){with(a)objj_msgSend(a,"removeObjectIdenticalTo:inRange:",c,CPMakeRange(0,objj_msgSend(a,"count")))}),
new objj_method(sel_getUid("removeObjectIdenticalTo:inRange:"),function(a,b,c,e){with(a)for(var f=objj_msgSend(a,"count");(b=objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",c,e))!==CPNotFound;)objj_msgSend(a,"removeObjectAtIndex:",b),e=CPIntersectionRange(CPMakeRange(b,--f-b),e)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,b,c){with(a){b=0;for(var e=objj_msgSend(c,"count");b<e;++b)objj_msgSend(a,"removeObject:",objj_msgSend(c,"objectAtIndex:",b))}}),new objj_method(sel_getUid("removeObjectsInRange:"),
function(a,b,c){with(a){b=c.location;for(c=CPMaxRange(c);c-- >b;)objj_msgSend(a,"removeObjectAtIndex:",b)}}),new objj_method(sel_getUid("exchangeObjectAtIndex:withObjectAtIndex:"),function(a,b,c,e){with(a){if(c===e)return;b=objj_msgSend(a,"objectAtIndex:",c);objj_msgSend(a,"replaceObjectAtIndex:withObject:",c,objj_msgSend(a,"objectAtIndex:",e));objj_msgSend(a,"replaceObjectAtIndex:withObject:",e,b)}}),new objj_method(sel_getUid("sortUsingDescriptors:"),function(a,c,e){with(a)objj_msgSend(a,"sortUsingFunction:context:",
b,e)}),new objj_method(sel_getUid("sortUsingFunction:context:"),function(a,b,c,e){with(a){var f,g,i,r,m=objj_msgSend(a,"count"),n,o,p=[];for(b=1;b<m;b+=b)for(r=m-1-b;r>=0;r-=b+b){i=r-b+1;i<0&&(i=0);f=0;for(g=i;g<=r;f++,g++)p[f]=a[g];for(f=0;i<g&&g<=r+b;i++)o=a[g],n=c(o,p[f],e),n>=0?a[i]=p[f++]:(a[i]=o,g++);for(;i<g;)a[i++]=p[f++]}}}),new objj_method(sel_getUid("sortUsingSelector:"),function(a,b,e){with(a)objj_msgSend(a,"sortUsingFunction:context:",c,e)})]);class_addMethods(e,[new objj_method(sel_getUid("arrayWithCapacity:"),
function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithCapacity:",c)})]);f=objj_getClass("CPArray");if(!f)throw new SyntaxError('*** Could not find definition for class "CPArray"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("mutableCopy"),function(a){with(a){var b=objj_msgSend(CPMutableArray,"new");objj_msgSend(b,"addObjectsFromArray:",a);return b}})]);var c=c=function(a,b,c){return objj_msgSend(a,"performSelector:withObject:",c,b)},b=b=function(a,b,c){for(var e=CPOrderedSame,
f=0,g=objj_msgSend(c,"count");f<g&&e===CPOrderedSame;)e=objj_msgSend(c[f++],"compareObject:withObject:",a,b);return e}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemMenuBarView.j",baseURL),function(i,g){g("CPView.j",YES);var f=nil,e=nil,c=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarView"),b=c.isa;class_addIvars(c,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_isDirty"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("menuItem"),
function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemMenuBarView").super_class},"initWithFrame:",c))_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(8,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,
"setImageOffset:",3),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_imageAndTextView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_imageAndTextView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemMenuBarSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,9,6)),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),
objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"colorWithWhite:alpha:",
0.8,0.8);return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("update"),function(a){with(a){var b=8,c=0;objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||objj_msgSend(_CPMenuBarWindow,"font"));objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var e=objj_msgSend(_imageAndTextView,"frame");e.origin.x=b;b+=CGRectGetWidth(e);c=MAX(c,CGRectGetHeight(e));var f=objj_msgSend(_menuItem,"hasSubmenu")&&objj_msgSend(_menuItem,"action");if(f){objj_msgSend(_submenuIndicatorView,
"setHidden:",NO);objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor"));var g=objj_msgSend(_submenuIndicatorView,"frame");g.origin.x=b+3;b=CGRectGetMaxX(g);c=MAX(c,CGRectGetHeight(g))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);c+=8;e.origin.y=FLOOR((c-CGRectGetHeight(e))/2);objj_msgSend(_imageAndTextView,"setFrame:",e);if(f)g.origin.y=FLOOR((c-CGRectGetHeight(g))/2)+1,objj_msgSend(_submenuIndicatorView,
"setFrame:",g);_minSize=CGSizeMake(b+8,c);objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(a,b,c){with(a)objj_msgSend(_menuItem,"isEnabled")||(c=NO),c?(objj_msgSend(_menuItem,"_isMenuBarButton")||objj_msgSend(a,"setBackgroundColor:",f),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,
"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",e),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.1,0.7))):(objj_msgSend(a,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(_imageAndTextView,
"setTextShadowColor:",objj_msgSend(a,"textShadowColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor")))})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(_CPMenuItemMenuBarView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",a);f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),
"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png"),CGSizeMake(1,28)));objj_msgSend(CPColor,"grayColor");objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);e=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),
CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")})]);c=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarSubmenuIndicatorView");b=c.isa;class_addIvars(c,[new objj_ivar("_color"),new objj_ivar("_shadowColor")]);objj_registerClassPair(c);class_addMethods(c,
[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("setShadowColor:"),function(a,b,c){with(a){if(_shadowColor===c)return;_shadowColor=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");a.size.height-=1;a.size.width-=2;a.origin.x+=
1;CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMidX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetShadowWithColor(b,CGSizeMake(0,1),1.1,_shadowColor||objj_msgSend(CPColor,"whiteColor"));CGContextSetFillColor(b,_color||objj_msgSend(CPColor,"blackColor"));CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotificationCenter.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPNotification.j",YES);g("CPNull.j",YES);var f=nil,e=objj_allocateClassPair(CPObject,"CPNotificationCenter"),c=e.isa;class_addIvars(e,[new objj_ivar("_namedRegistries"),new objj_ivar("_unnamedRegistry")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotificationCenter").super_class},"init"))_namedRegistries=objj_msgSend(CPDictionary,"dictionary"),_unnamedRegistry=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init");return a}}),new objj_method(sel_getUid("addObserver:selector:name:object:"),function(a,b,c,e,f,g){with(a){b=objj_msgSend(objj_msgSend(_CPNotificationObserver,"alloc"),"initWithObserver:selector:",c,e);if(f==nil)a=_unnamedRegistry;else if(!(a=objj_msgSend(_namedRegistries,
"objectForKey:",f)))a=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init"),objj_msgSend(_namedRegistries,"setObject:forKey:",a,f);objj_msgSend(a,"addObserver:object:",b,g)}}),new objj_method(sel_getUid("removeObserver:"),function(a,b,c){with(a){a=nil;for(b=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,nil);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,
nil)}}),new objj_method(sel_getUid("removeObserver:name:object:"),function(a,b,c,e,f){with(a)if(e==nil){a=nil;for(b=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,f);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,f)}else objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",e),"removeObserver:object:",c,f)}),new objj_method(sel_getUid("postNotification:"),function(a,
c,e){with(a)e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"postNotification: does not except 'nil' notifications"),b(a,e)}),new objj_method(sel_getUid("postNotificationName:object:userInfo:"),function(a,c,e,f,g){with(a)b(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",e,f,g))}),new objj_method(sel_getUid("postNotificationName:object:"),function(a,c,e,f){with(a)b(a,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",
e,f,nil))})]);class_addMethods(c,[new objj_method(sel_getUid("defaultCenter"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPNotificationCenter,"alloc"),"init")),f})]);var b=function(a,b){objj_msgSend(a._unnamedRegistry,"postNotification:",b);objj_msgSend(objj_msgSend(a._namedRegistries,"objectForKey:",objj_msgSend(b,"name")),"postNotification:",b)};e=objj_allocateClassPair(CPObject,"_CPNotificationRegistry");c=e.isa;class_addIvars(e,[new objj_ivar("_objectObservers"),new objj_ivar("_observerRemovalCount")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPNotificationRegistry").super_class},"init"))_observerRemovalCount=0,_objectObservers=objj_msgSend(CPDictionary,"dictionary");return a}}),new objj_method(sel_getUid("addObserver:object:"),function(a,b,c,e){with(a)e||(e=objj_msgSend(CPNull,"null")),a=objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),a||(a=[],objj_msgSend(_objectObservers,
"setObject:forKey:",a,objj_msgSend(e,"UID"))),a.push(c)}),new objj_method(sel_getUid("removeObserver:object:"),function(a,b,c,e){with(a){a=[];if(e==nil){e=nil;for(b=objj_msgSend(_objectObservers,"keyEnumerator");e=objj_msgSend(b,"nextObject");){for(var f=objj_msgSend(_objectObservers,"objectForKey:",e),g=f?f.length:0;g--;)objj_msgSend(f[g],"observer")==c&&(++_observerRemovalCount,f.splice(g,1));(!f||f.length==0)&&a.push(e)}}else{e=objj_msgSend(e,"UID");for(g=(f=objj_msgSend(_objectObservers,"objectForKey:",
e))?f.length:0;g--;)objj_msgSend(f[g],"observer")==c&&(++_observerRemovalCount,f.splice(g,1));(!f||f.length==0)&&a.push(e)}for(g=a.length;g--;)objj_msgSend(_objectObservers,"removeObjectForKey:",a[g])}}),new objj_method(sel_getUid("postNotification:"),function(a,b,c){with(a){a=_observerRemovalCount;var e=objj_msgSend(c,"object");b=nil;if(e!=nil&&(b=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),"copy"))){e=b;for(var f=b.length;f--;){var g=b[f];(a===_observerRemovalCount||
objj_msgSend(e,"indexOfObjectIdenticalTo:",g)!==CPNotFound)&&objj_msgSend(g,"postNotification:",c)}}b=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(objj_msgSend(CPNull,"null"),"UID")),"copy");if(!b)return;a=_observerRemovalCount;f=b.length;for(e=b;f--;)g=b[f],(a===_observerRemovalCount||objj_msgSend(e,"indexOfObjectIdenticalTo:",g)!==CPNotFound)&&objj_msgSend(g,"postNotification:",c)}}),new objj_method(sel_getUid("count"),function(a){with(a)return objj_msgSend(_objectObservers,
"count")})]);e=objj_allocateClassPair(CPObject,"_CPNotificationObserver");c=e.isa;class_addIvars(e,[new objj_ivar("_observer"),new objj_ivar("_selector")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithObserver:selector:"),function(a,b,c,e){with(a)return a&&(_observer=c,_selector=e),a}),new objj_method(sel_getUid("observer"),function(a){with(a)return _observer}),new objj_method(sel_getUid("postNotification:"),function(a,b,c){with(a)objj_msgSend(_observer,"performSelector:withObject:",
_selector,c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPHUDWindowView.j",baseURL),function(i,g){g("CPTextField.j",YES);var f=nil,e=objj_allocateClassPair(_CPWindowView,"_CPHUDWindowView"),c=e.isa;class_addIvars(e,[new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return a=objj_msgSend(objj_msgSend(b,"class"),"contentRectForFrameRect:",
c),objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"toolbar"),"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(b,"toolbarView"),"frame")),a.origin.y+=toolbarHeight,a.size.height-=toolbarHeight),a}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return a=objj_msgSend(objj_msgSend(b,"class"),"frameRectForContentRect:",c),objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"toolbar"),"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(b,
"toolbarView"),"frame")),a.origin.y-=toolbarHeight,a.size.height+=toolbarHeight),a}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,c,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPHUDWindowView").super_class},"initWithFrame:styleMask:",c,e))objj_msgSend(b,"bounds"),objj_msgSend(b,"setBackgroundColor:",f),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setHitTests:",NO),objj_msgSend(_titleField,
"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11)),objj_msgSend(_titleField,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor")),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,
"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,CGRectGetWidth(objj_msgSend(b,"bounds"))-40,CGRectGetHeight(objj_msgSend(_titleField,"frame")))),objj_msgSend(b,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(a=objj_msgSend(_CPHUDWindowViewCloseImage,"size"),_closeButton=objj_msgSend(objj_msgSend(CPButton,
"alloc"),"initWithFrame:",CGRectMake(8,5,a.width,a.height)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(_closeButton,"setImage:",_CPHUDWindowViewCloseImage),objj_msgSend(_closeButton,"setAlternateImage:",_CPHUDWindowViewCloseActiveImage),objj_msgSend(b,"addSubview:",_closeButton)),objj_msgSend(b,"setResizeIndicatorOffset:",CGSizeMake(5,5));return b}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(b){with(b)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(b,"window")),
objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:"))}),new objj_method(sel_getUid("setTitle:"),function(b,a,c){with(b)objj_msgSend(_titleField,"setStringValue:",c)}),new objj_method(sel_getUid("toolbarView"),function(b){with(b)return _toolbarView}),new objj_method(sel_getUid("toolbarLabelColor"),function(b){with(b)return objj_msgSend(CPColor,"whiteColor")}),new objj_method(sel_getUid("toolbarLabelShadowColor"),function(b){with(b)return objj_msgSend(CPColor,"blackColor")}),new objj_method(sel_getUid("toolbarOffset"),
function(b){with(b)return CGSizeMake(0,26)}),new objj_method(sel_getUid("tile"),function(b){with(b){objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPHUDWindowView").super_class},"tile");var a=objj_msgSend(b,"window"),c=objj_msgSend(b,"bounds"),e=CGRectGetWidth(c);objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,e-40,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));b=objj_msgSend(b,"toolbarMaxY");objj_msgSend(objj_msgSend(a,"contentView"),"setFrameOrigin:",CGPointMake(0,b,e,CGRectGetHeight(c)-
b))}})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!=objj_msgSend(_CPHUDWindowView,"class"))return;b=objj_msgSend(CPBundle,"bundleForClass:",b);f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground0.png"),CPSizeMake(7,37)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground1.png"),CPSizeMake(1,37)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground2.png"),CPSizeMake(7,37)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground3.png"),CPSizeMake(7,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground4.png"),CPSizeMake(2,2)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground5.png"),CPSizeMake(7,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground6.png"),CPSizeMake(7,3)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground7.png"),CPSizeMake(1,3)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground8.png"),CPSizeMake(7,3))]));_CPHUDWindowViewCloseImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","HUDTheme/WindowClose.png"),CPSizeMake(18,18));_CPHUDWindowViewCloseActiveImage=
objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","HUDTheme/WindowCloseActive.png"),CPSizeMake(18,18))}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return b=CGRectMakeCopy(c),b.origin.y+=26,b.size.height-=26,b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return b=CGRectMakeCopy(c),b.origin.y-=26,b.size.height+=26,b})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibObjectData.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);g("CPCib.j",YES);g("CPCibConnector.j",YES);g("CPCibControlConnector.j",YES);g("CPCibOutletConnector.j",YES);g("CPCibBindingConnector.j",YES);var f=objj_allocateClassPair(CPObject,"_CPCibObjectData");class_addIvars(f,[new objj_ivar("_namesKeys"),new objj_ivar("_namesValues"),new objj_ivar("_accessibilityConnectors"),
new objj_ivar("_accessibilityOidsKeys"),new objj_ivar("_accessibilityOidsValues"),new objj_ivar("_classesKeys"),new objj_ivar("_classesValues"),new objj_ivar("_connections"),new objj_ivar("_fontManager"),new objj_ivar("_framework"),new objj_ivar("_nextOid"),new objj_ivar("_objectsKeys"),new objj_ivar("_objectsValues"),new objj_ivar("_oidKeys"),new objj_ivar("_oidValues"),new objj_ivar("_fileOwner"),new objj_ivar("_visibleWindows"),new objj_ivar("_replacementObjects")]);objj_registerClassPair(f);class_addMethods(f,
[new objj_method(sel_getUid("init"),function(e){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPCibObjectData").super_class},"init"))_namesKeys=[],_namesValues=[],_classesKeys=[],_classesValues=[],_connections=[],_framework="",_nextOid=[],_objectsKeys=[],_objectsValues=[],_oidKeys=[],_oidValues=[],_fileOwner=nil,_visibleWindows=objj_msgSend(CPSet,"set");return e}}),new objj_method(sel_getUid("displayVisibleWindows"),function(e){with(e)for(var c=nil,b=objj_msgSend(_visibleWindows,
"objectEnumerator");c=objj_msgSend(b,"nextObject");)objj_msgSend(_replacementObjects[objj_msgSend(c,"UID")],"makeKeyAndOrderFront:",e)})]);f=objj_getClass("_CPCibObjectData");if(!f)throw new SyntaxError('*** Could not find definition for class "_CPCibObjectData"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(e,c,b){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPCibObjectData").super_class},"init"))_replacementObjects={},_namesKeys=objj_msgSend(b,
"decodeObjectForKey:","_CPCibObjectDataNamesKeysKey"),_namesValues=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataNamesValuesKey"),_classesKeys=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataClassesKeysKey"),_classesValues=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataClassesValuesKey"),_connections=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataConnectionsKey"),_framework=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataFrameworkKey"),_nextOid=objj_msgSend(b,"decodeIntForKey:",
"_CPCibObjectDataNextOidKey"),_objectsKeys=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataObjectsKeysKey"),_objectsValues=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataObjectsValuesKey"),_oidKeys=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataOidKeysKey"),_oidValues=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataOidValuesKey"),_fileOwner=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataFileOwnerKey"),_visibleWindows=objj_msgSend(b,"decodeObjectForKey:","_CPCibObjectDataVisibleWindowsKey");
return e}}),new objj_method(sel_getUid("encodeWithCoder:"),function(e,c,b){with(e)objj_msgSend(b,"encodeObject:forKey:",_namesKeys,"_CPCibObjectDataNamesKeysKey"),objj_msgSend(b,"encodeObject:forKey:",_namesValues,"_CPCibObjectDataNamesValuesKey"),objj_msgSend(b,"encodeObject:forKey:",_classesKeys,"_CPCibObjectDataClassesKeysKey"),objj_msgSend(b,"encodeObject:forKey:",_classesValues,"_CPCibObjectDataClassesValuesKey"),objj_msgSend(b,"encodeObject:forKey:",_connections,"_CPCibObjectDataConnectionsKey"),
objj_msgSend(b,"encodeObject:forKey:",_framework,"_CPCibObjectDataFrameworkKey"),objj_msgSend(b,"encodeInt:forKey:",_nextOid,"_CPCibObjectDataNextOidKey"),objj_msgSend(b,"encodeObject:forKey:",_objectsKeys,"_CPCibObjectDataObjectsKeysKey"),objj_msgSend(b,"encodeObject:forKey:",_objectsValues,"_CPCibObjectDataObjectsValuesKey"),objj_msgSend(b,"encodeObject:forKey:",_oidKeys,"_CPCibObjectDataOidKeysKey"),objj_msgSend(b,"encodeObject:forKey:",_oidValues,"_CPCibObjectDataOidValuesKey"),objj_msgSend(b,
"encodeObject:forKey:",_fileOwner,"_CPCibObjectDataFileOwnerKey"),objj_msgSend(b,"encodeObject:forKey:",_visibleWindows,"_CPCibObjectDataVisibleWindowsKey")}),new objj_method(sel_getUid("instantiateWithOwner:topLevelObjects:"),function(e,c,b,a){with(e)for(e=objj_msgSend(_objectsKeys,"count");e--;){c=_objectsKeys[e];b=_objectsValues[e];var d=c;if(objj_msgSend(c,"respondsToSelector:",sel_getUid("_cibInstantiate"))&&(d=objj_msgSend(c,"_cibInstantiate"),d!==c&&(_replacementObjects[objj_msgSend(c,"UID")]=
d,objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPView,"class"))))){var f=objj_msgSend(d,"superview");objj_msgSend(f,"isKindOfClass:",objj_msgSend(CPClipView,"class"))&&(f=objj_msgSend(f,"superview"),objj_msgSend(f,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))&&objj_msgSend(f,"setDocumentView:",d))}a&&b===_fileOwner&&c!==_fileOwner&&a.push(d)}}),new objj_method(sel_getUid("establishConnectionsWithOwner:topLevelObjects:"),function(e,c,b){with(e){_replacementObjects[objj_msgSend(_fileOwner,"UID")]=
b;e=0;for(c=_connections.length;e<c;++e)b=_connections[e],objj_msgSend(b,"replaceObjects:",_replacementObjects),objj_msgSend(b,"establishConnection")}}),new objj_method(sel_getUid("awakeWithOwner:topLevelObjects:"),function(e,c,b){with(e){for(e=objj_msgSend(_objectsKeys,"count");e--;){c=_objectsKeys[e];var a=_replacementObjects[objj_msgSend(c,"UID")];a&&(c=a);c!==b&&objj_msgSend(c,"respondsToSelector:",sel_getUid("awakeFromCib"))&&objj_msgSend(c,"awakeFromCib")}objj_msgSend(b,"respondsToSelector:",
sel_getUid("awakeFromCib"))&&objj_msgSend(b,"awakeFromCib")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURL.j",baseURL),function(i,g){g("CPObject.j",YES);g("CPString.j",YES);CPURLNameKey="CPURLNameKey";CPURLLocalizedNameKey="CPURLLocalizedNameKey";CPURLIsRegularFileKey="CPURLIsRegularFileKey";CPURLIsDirectoryKey="CPURLIsDirectoryKey";CPURLIsSymbolicLinkKey="CPURLIsSymbolicLinkKey";CPURLIsVolumeKey="CPURLIsVolumeKey";CPURLIsPackageKey="CPURLIsPackageKey";CPURLIsSystemImmutableKey="CPURLIsSystemImmutableKey";CPURLIsUserImmutableKey=
"CPURLIsUserImmutableKey";CPURLIsHiddenKey="CPURLIsHiddenKey";CPURLHasHiddenExtensionKey="CPURLHasHiddenExtensionKey";CPURLCreationDateKey="CPURLCreationDateKey";CPURLContentAccessDateKey="CPURLContentAccessDateKey";CPURLContentModificationDateKey="CPURLContentModificationDateKey";CPURLAttributeModificationDateKey="CPURLAttributeModificationDateKey";CPURLLinkCountKey="CPURLLinkCountKey";CPURLParentDirectoryURLKey="CPURLParentDirectoryURLKey";CPURLTypeIdentifierKey=CPURLVolumeURLKey="CPURLTypeIdentifierKey";
CPURLLocalizedTypeDescriptionKey="CPURLLocalizedTypeDescriptionKey";CPURLLabelNumberKey="CPURLLabelNumberKey";CPURLLabelColorKey="CPURLLabelColorKey";CPURLLocalizedLabelKey="CPURLLocalizedLabelKey";CPURLEffectiveIconKey="CPURLEffectiveIconKey";CPURLCustomIconKey="CPURLCustomIconKey";var f=objj_allocateClassPair(CPObject,"CPURL"),e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(c){with(c)return nil}),new objj_method(sel_getUid("initWithScheme:host:path:"),
function(c,b,a,d,e){with(c)return objj_msgSend(c,"initWithString:",(a?a+":":"")+(d?d+"//":"")+(e||""))}),new objj_method(sel_getUid("initWithString:"),function(c,b,a){with(c)return objj_msgSend(c,"initWithString:relativeToURL:",a,nil)}),new objj_method(sel_getUid("initWithString:relativeToURL:"),function(c,b,a,d){with(c)return b=new CFURL(a,d),b.isa=objj_msgSend(c,"class"),b}),new objj_method(sel_getUid("absoluteURL"),function(c){with(c)return c.absoluteURL()}),new objj_method(sel_getUid("baseURL"),
function(c){with(c)return c.baseURL()}),new objj_method(sel_getUid("absoluteString"),function(c){with(c)return c.absoluteString()}),new objj_method(sel_getUid("relativeString"),function(c){with(c)return c.string()}),new objj_method(sel_getUid("path"),function(c){with(c)return objj_msgSend(c,"absoluteURL").path()}),new objj_method(sel_getUid("pathComponents"),function(c){with(c)return c=c.pathComponents(),objj_msgSend(c,"copy")}),new objj_method(sel_getUid("relativePath"),function(c){with(c)return c.path()}),
new objj_method(sel_getUid("scheme"),function(c){with(c)return c.scheme()}),new objj_method(sel_getUid("user"),function(c){with(c)return objj_msgSend(c,"absoluteURL").user()}),new objj_method(sel_getUid("password"),function(c){with(c)return objj_msgSend(c,"absoluteURL").password()}),new objj_method(sel_getUid("host"),function(c){with(c)return objj_msgSend(c,"absoluteURL").domain()}),new objj_method(sel_getUid("port"),function(c){with(c){c=objj_msgSend(c,"absoluteURL").portNumber();if(c===-1)return nil;
return c}}),new objj_method(sel_getUid("parameterString"),function(c){with(c)return c.queryString()}),new objj_method(sel_getUid("fragment"),function(c){with(c)return c.fragment()}),new objj_method(sel_getUid("isEqual:"),function(c,b,a){with(c){if(c===a)return YES;if(!a||!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPURL,"class")))return NO;return objj_msgSend(c,"isEqualToURL:",a)}}),new objj_method(sel_getUid("isEqualToURL:"),function(c,b,a){with(c){if(c===a)return YES;return objj_msgSend(objj_msgSend(c,
"absoluteString"),"isEqual:",objj_msgSend(a,"absoluteString"))}}),new objj_method(sel_getUid("lastPathComponent"),function(c){with(c)return objj_msgSend(c,"absoluteURL").lastPathComponent()}),new objj_method(sel_getUid("pathExtension"),function(c){with(c)return c.pathExtension()}),new objj_method(sel_getUid("standardizedURL"),function(c){with(c)return c.standardizedURL()}),new objj_method(sel_getUid("isFileURL"),function(c){with(c)return objj_msgSend(c,"scheme")==="file"}),new objj_method(sel_getUid("description"),
function(c){with(c)return objj_msgSend(c,"absoluteString")}),new objj_method(sel_getUid("resourceValueForKey:"),function(c,b,a){with(c)return c.resourcePropertyForKey(a)}),new objj_method(sel_getUid("setResourceValue:forKey:"),function(c,b,a,d){with(c)return c.setResourcePropertyForKey(d,a)}),new objj_method(sel_getUid("staticResourceData"),function(c){with(c)return c.staticResourceData()})]);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(c){with(c){var b=new CFURL;b.isa=objj_msgSend(c,
"class");return b}}),new objj_method(sel_getUid("URLWithString:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithString:",a)}),new objj_method(sel_getUid("URLWithString:relativeToURL:"),function(c,b,a,d){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithString:relativeToURL:",a,d)})]);f=objj_getClass("CPURL");if(!f)throw new SyntaxError('*** Could not find definition for class "CPURL"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),
function(c,b,a){with(c)return objj_msgSend(c,"initWithString:relativeToURL:",objj_msgSend(a,"decodeObjectForKey:","CPURLURLStringKey"),objj_msgSend(a,"decodeObjectForKey:","CPURLBaseURLKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSend(a,"encodeObject:forKey:",_baseURL,"CPURLBaseURLKey"),objj_msgSend(a,"encodeObject:forKey:",_string,"CPURLURLStringKey")})]);CFURL.prototype.isa=objj_msgSend(CPURL,"class")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPViewController.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("CPApplication.j",YES);g("CPCib.j",YES);g("CPResponder.j",YES);var f,e=objj_allocateClassPair(CPResponder,"CPViewController"),c=e.isa;class_addIvars(e,[new objj_ivar("_view"),new objj_ivar("_isLoading"),new objj_ivar("_representedObject"),new objj_ivar("_title"),new objj_ivar("_cibName"),new objj_ivar("_cibBundle"),new objj_ivar("_cibExternalNameTable")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("view"),function(b){with(b)return _view}),new objj_method(sel_getUid("setView:"),function(b,a,c){with(b)_view=c}),new objj_method(sel_getUid("representedObject"),function(b){with(b)return _representedObject}),new objj_method(sel_getUid("setRepresentedObject:"),function(b,a,c){with(b)_representedObject=c}),new objj_method(sel_getUid("title"),function(b){with(b)return _title}),new objj_method(sel_getUid("setTitle:"),function(b,
a,c){with(b)_title=c}),new objj_method(sel_getUid("cibName"),function(b){with(b)return _cibName}),new objj_method(sel_getUid("cibBundle"),function(b){with(b)return _cibBundle}),new objj_method(sel_getUid("cibExternalNameTable"),function(b){with(b)return _cibExternalNameTable}),new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithCibName:bundle:",nil,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:"),function(b,a,c,e){with(b)return objj_msgSend(b,"initWithCibName:bundle:externalNameTable:",
c,e,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:owner:"),function(b,a,c,e,f){with(b)return objj_msgSend(b,"initWithCibName:bundle:externalNameTable:",c,e,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",f,CPCibOwner))}),new objj_method(sel_getUid("initWithCibName:bundle:externalNameTable:"),function(b,a,c,e,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPViewController").super_class},"init"))_cibName=c,_cibBundle=e||objj_msgSend(CPBundle,"mainBundle"),
_cibExternalNameTable=f||objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",b,CPCibOwner),_isLoading=NO;return b}}),new objj_method(sel_getUid("loadView"),function(b){with(b){if(_view)return;b=objj_msgSend(f,"objectForKey:",_cibName);b||(b=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",objj_msgSend(_cibBundle,"pathForResource:",_cibName+".cib")),objj_msgSend(f,"setObject:forKey:",b,_cibName));objj_msgSend(b,"instantiateCibWithExternalNameTable:",_cibExternalNameTable)}}),
new objj_method(sel_getUid("view"),function(b){with(b){if(!_view){_isLoading=YES;var a=objj_msgSend(_cibExternalNameTable,"objectForKey:",CPCibOwner);objj_msgSend(a,"respondsToSelector:",sel_getUid("viewControllerWillLoadCib:"))&&objj_msgSend(a,"viewControllerWillLoadCib:",b);objj_msgSend(b,"loadView");_view===nil&&objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(b,"setView:",objj_msgSend(a,"valueForKey:","view"));if(!_view){var c=objj_msgSend(CPString,"stringWithFormat:",
"View for %@ could not be loaded from Cib or no view specified. Override loadView to load the view manually.",b);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,c)}objj_msgSend(a,"respondsToSelector:",sel_getUid("viewControllerDidLoadCib:"))&&objj_msgSend(a,"viewControllerDidLoadCib:",b);_isLoading=NO;objj_msgSend(b,"viewDidLoad")}return _view}}),new objj_method(sel_getUid("viewDidLoad"),function(b){with(b);}),new objj_method(sel_getUid("setView:"),function(b,a,c){with(b)_view=
c,!_isLoading&&!_view&&objj_msgSend(b,"viewDidLoad")})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b)b===CPViewController&&(f=objj_msgSend(CPDictionary,"dictionary"))})]);e=objj_getClass("CPViewController");if(!e)throw new SyntaxError('*** Could not find definition for class "CPViewController"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPViewController").super_class},
"initWithCoder:",c))_view=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerViewKey"),_title=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerTitleKey"),_cibName=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerCibNameKey"),_cibBundle=(a=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerBundleKey"))?objj_msgSend(CPBundle,"bundleWithPath:",a):objj_msgSend(CPBundle,"mainBundle"),_cibExternalNameTable=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",b,CPCibOwner);return b}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPViewController").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_view,"CPViewControllerViewKey"),objj_msgSend(c,"encodeObject:forKey:",_title,"CPViewControllerTitleKey"),objj_msgSend(c,"encodeObject:forKey:",_cibName,"CPViewControllerCibNameKey"),objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(_cibBundle,"bundlePath"),"CPViewControllerBundleKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);var f=NULL,e=objj_allocateClassPair(CPObject,"CPPlatformWindow"),c=e.isa;class_addIvars(e,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_DOMEventGuard"),new objj_ivar("_DOMScrollingElement"),
new objj_ivar("_hideDOMScrollingElementTimeout"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownIsRightClick"),new objj_ivar("_lastMouseEventLocation"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),
new objj_ivar("_DOMEventMode"),new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithContentRect:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPPlatformWindow").super_class},"init"))_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}},_windowLevels=[],_windowLayers=
objj_msgSend(CPDictionary,"dictionary"),_charCodes={};return b}}),new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}})}),new objj_method(sel_getUid("contentRect"),function(b){with(b)return{origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}}}),new objj_method(sel_getUid("contentBounds"),function(b){with(b)return b=objj_msgSend(b,"contentRect"),
b.origin={x:0,y:0},b}),new objj_method(sel_getUid("visibleFrame"),function(b){with(b){var a=objj_msgSend(b,"contentBounds");a.origin=CGPointMakeZero();objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===b&&(b=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"),a.origin.y+=b,a.size.height-=b);return a}}),new objj_method(sel_getUid("usableContentFrame"),function(b){with(b)return objj_msgSend(b,"visibleFrame")}),new objj_method(sel_getUid("setContentRect:"),
function(b,a,c){with(b){if(!c||_contentRect.origin.x==c.origin.x&&_contentRect.origin.y==c.origin.y&&_contentRect.size.width==c.size.width&&_contentRect.size.height==c.size.height)return;_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};objj_msgSend(b,"updateNativeContentRect")}}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(b){with(b)objj_msgSend(b,"setContentRect:",objj_msgSend(b,"nativeContentRect"))}),new objj_method(sel_getUid("convertBaseToScreen:"),
function(b,a,c){with(b)return b=objj_msgSend(b,"contentRect"),{x:c.x+b.origin.x,y:c.y+b.origin.y}}),new objj_method(sel_getUid("convertScreenToBase:"),function(b,a,c){with(b)return b=objj_msgSend(b,"contentRect"),{x:c.x-b.origin.x,y:c.y-b.origin.y}}),new objj_method(sel_getUid("isVisible"),function(b){with(b)return _DOMWindow!==NULL}),new objj_method(sel_getUid("deminiaturize:"),function(b){with(b)_DOMWindow&&typeof _DOMWindow.cpDeminiaturize==="function"&&_DOMWindow.cpDeminiaturize()}),new objj_method(sel_getUid("miniaturize:"),
function(b){with(b)_DOMWindow&&typeof _DOMWindow.cpMiniaturize==="function"&&_DOMWindow.cpMiniaturize()}),new objj_method(sel_getUid("moveWindow:fromLevel:toLevel:"),function(b,a,c,e,f){with(b){if(!c._isVisible)return;a=objj_msgSend(b,"layerAtLevel:create:",e,NO);b=objj_msgSend(b,"layerAtLevel:create:",f,YES);objj_msgSend(a,"removeWindow:",c);objj_msgSend(b,"insertWindow:atIndex:",c,CPNotFound)}}),new objj_method(sel_getUid("setLevel:"),function(b,a,c){with(b)_level=c,_DOMWindow&&_DOMWindow.cpSetLevel&&
_DOMWindow.cpSetLevel(c)}),new objj_method(sel_getUid("setHasShadow:"),function(b,a,c){with(b)_hasShadow=c,_DOMWindow&&_DOMWindow.cpSetHasShadow&&_DOMWindow.cpSetHasShadow(c)}),new objj_method(sel_getUid("setShadowStyle:"),function(b,a,c){with(b)_shadowStyle=c,_DOMWindow&&_DOMWindow.cpSetShadowStyle&&_shadowStyle.cpSetShadowStyle(c)}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(b){with(b)return objj_msgSend(CPPlatform,"isBrowser")})]);class_addMethods(c,[new objj_method(sel_getUid("visiblePlatformWindows"),
function(b){with(b)return objj_msgSend(CPSet,"set")}),new objj_method(sel_getUid("supportsMultipleInstances"),function(b){with(b)return!CPBrowserIsEngine(CPInternetExplorerBrowserEngine)}),new objj_method(sel_getUid("primaryPlatformWindow"),function(b){with(b)return f}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(b,a,c){with(b)f=c})]);g("CPPlatformWindow+DOM.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPClipView.j",baseURL),function(i,g){g("CPView.j",YES);var f=objj_allocateClassPair(CPView,"CPClipView");class_addIvars(f,[new objj_ivar("_documentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setDocumentView:"),function(e,c,b){with(e){if(_documentView==b)return;c=objj_msgSend(CPNotificationCenter,"defaultCenter");_documentView&&(objj_msgSend(c,"removeObserver:name:object:",e,CPViewFrameDidChangeNotification,
_documentView),objj_msgSend(c,"removeObserver:name:object:",e,CPViewBoundsDidChangeNotification,_documentView),objj_msgSend(_documentView,"removeFromSuperview"));if(_documentView=b)objj_msgSend(e,"addSubview:",_documentView),objj_msgSend(_documentView,"setPostsFrameChangedNotifications:",YES),objj_msgSend(_documentView,"setPostsBoundsChangedNotifications:",YES),objj_msgSend(c,"addObserver:selector:name:object:",e,sel_getUid("viewFrameChanged:"),CPViewFrameDidChangeNotification,_documentView),objj_msgSend(c,
"addObserver:selector:name:object:",e,sel_getUid("viewBoundsChanged:"),CPViewBoundsDidChangeNotification,_documentView)}}),new objj_method(sel_getUid("documentView"),function(e){with(e)return _documentView}),new objj_method(sel_getUid("constrainScrollPoint:"),function(e,c,b){with(e){if(!_documentView)return{x:0,y:0};e=objj_msgSend(_documentView,"frame");b.x=MAX(0,MIN(b.x,MAX(e.size.width-_bounds.size.width,0)));b.y=MAX(0,MIN(b.y,MAX(e.size.height-_bounds.size.height,0)));return b}}),new objj_method(sel_getUid("setBoundsOrigin:"),
function(e,c,b){with(e){if(_bounds.origin.x==b.x&&_bounds.origin.y==b.y)return;objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPClipView").super_class},"setBoundsOrigin:",b);c=objj_msgSend(e,"superview");b=objj_getClass("CPScrollView");objj_msgSend(c,"isKindOfClass:",b)&&objj_msgSend(c,"reflectScrolledClipView:",e)}}),new objj_method(sel_getUid("scrollToPoint:"),function(e,c,b){with(e)objj_msgSend(e,"setBoundsOrigin:",objj_msgSend(e,"constrainScrollPoint:",b))}),new objj_method(sel_getUid("viewBoundsChanged:"),
function(e){with(e)objj_msgSend(e,"_constrainScrollPoint")}),new objj_method(sel_getUid("viewFrameChanged:"),function(e){with(e)objj_msgSend(e,"_constrainScrollPoint")}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(e,c,b){with(e)objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPClipView").super_class},"resizeSubviewsWithOldSize:",b),objj_msgSend(e,"_constrainScrollPoint")}),new objj_method(sel_getUid("_constrainScrollPoint"),function(e){with(e){var c=objj_msgSend(e,"bounds").origin;
objj_msgSend(e,"scrollToPoint:",c);if(!CGPointEqualToPoint(c,objj_msgSend(e,"bounds").origin))return;c=objj_msgSend(e,"superview");var b=objj_getClass("CPScrollView");objj_msgSend(c,"isKindOfClass:",b)&&objj_msgSend(c,"reflectScrolledClipView:",e)}}),new objj_method(sel_getUid("autoscroll:"),function(e,c,b){with(e){c=objj_msgSend(e,"bounds");b=objj_msgSend(e,"convertPoint:fromView:",objj_msgSend(b,"locationInWindow"),nil);var a=objj_msgSend(e,"superview"),d=0,f=0;if(CGRectContainsPoint(c,b))return NO;
if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasVerticalScroller"))if(b.y<CGRectGetMinY(c)?f=CGRectGetMinY(c)-b.y:b.y>CGRectGetMaxY(c)&&(f=CGRectGetMaxY(c)-b.y),f<-c.size.height&&(f=-c.size.height),f>c.size.height)f=c.size.height;if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasHorizontalScroller"))if(b.x<CGRectGetMinX(c)?d=CGRectGetMinX(c)-b.x:b.x>CGRectGetMaxX(c)&&(d=CGRectGetMaxX(c)-b.x),d<-c.size.width&&(d=
-c.size.width),d>c.size.width)d=c.size.width;return objj_msgSend(e,"scrollToPoint:",CGPointMake(c.origin.x-d,c.origin.y-f))}})]);f=objj_getClass("CPClipView");if(!f)throw new SyntaxError('*** Could not find definition for class "CPClipView"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(e,c,b){with(e)return(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPClipView").super_class},"initWithCoder:",b))&&objj_msgSend(e,"setDocumentView:",objj_msgSend(b,"decodeObjectForKey:",
"CPScrollViewDocumentView")),e}),new objj_method(sel_getUid("encodeWithCoder:"),function(e,c,b){with(e)objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPClipView").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeObject:forKey:",_documentView,"CPScrollViewDocumentView")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformString.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPBasePlatformString"),e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("bootstrap"),function(a){with(a);}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(a){with(a)return{width:0,height:0}})]);var c=nil,b=nil,a=nil,d=nil,h=nil,k=nil,j=nil,s=nil;f=objj_allocateClassPair(CPBasePlatformString,
"CPPlatformString");e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("bootstrap"),function(a){with(a)objj_msgSend(a,"createDOMElements")}),new objj_method(sel_getUid("createDOMElements"),function(a){with(a){k=document.createElement("iframe");k.name="iframe_"+FLOOR(RAND()*1E4);k.className="cpdontremove";a=k.style;a.position="absolute";a.left="-100px";a.top="-100px";a.width="1px";a.height="1px";a.borderWidth="0px";a.overflow="hidden";a.zIndex=1E11;objj_msgSend(CPPlatform,
"mainBodyElement").appendChild(k);j=k.contentDocument||k.contentWindow.document;j.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head></head><body></body></html>');j.close();var d=j.createElement("div");d.style.position="absolute";d.style.width="100000px";j.body.appendChild(d);b=j.createElement("span");a=b.style;a.position="absolute";a.visibility="visible";a.padding=
"0px";a.margin="0px";a.whiteSpace="pre";c=j.createElement("span");a=c.style;a.display="block";a.position="absolute";a.visibility="visible";a.padding="0px";a.margin="0px";a.width="1px";a.wordWrap="break-word";try{a.whiteSpace="pre",a.whiteSpace="-o-pre-wrap",a.whiteSpace="-pre-wrap",a.whiteSpace="-moz-pre-wrap",a.whiteSpace="pre-wrap"}catch(e){a.whiteSpace="pre"}d.appendChild(b);d.appendChild(c)}}),new objj_method(sel_getUid("createDOMMetricsElements"),function(b){with(b)k||objj_msgSend(b,"createDOMElements"),
a=j.createElement("div"),a.style.position="absolute",a.style.width="100000px",j.body.appendChild(a),d=j.createElement("span"),d.innerHTML="x",b=d.style,b.position="absolute",b.visibility="visible",b.padding="0px",b.margin="0px",b.whiteSpace="pre",b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),"pathForResource:","empty.png"),h=j.createElement("img"),h.setAttribute("src",b),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("alt",""),b=h.style,
b.visibility="visible",b.padding="0px",b.margin="0px",b.border="none",b.verticalAlign="baseline",a.appendChild(d),a.appendChild(h)}),new objj_method(sel_getUid("sizeOfString:withFont:forWidth:"),function(a,d,e,f,h){with(a){f||(s||(s=objj_msgSend(CPFont,"systemFontOfSize:",12)),f=s);k||objj_msgSend(a,"createDOMElements");h?(a=c,a.style.width=ROUND(h)+"px"):a=b;a.style.font=objj_msgSend(f,"cssString");if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature))a.innerText=e;else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature))a.textContent=
e;return{width:a.clientWidth,height:a.clientHeight}}}),new objj_method(sel_getUid("metricsOfFont:"),function(b,c,e){with(b)return e||(s||(s=objj_msgSend(CPFont,"systemFontOfSize:",12)),e=s),a||objj_msgSend(b,"createDOMMetricsElements"),a.style.font=objj_msgSend(e,"cssString"),b=h.offsetTop-d.offsetTop+h.offsetHeight,objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",b,"ascender",b-d.offsetHeight,"descender",d.offsetHeight,"lineHeight")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCompatibility.j",baseURL),function(i,g){g("CPEvent.j",YES);g("CPPlatform.j",YES);CPUnknownBrowserEngine=0;CPGeckoBrowserEngine=1;CPInternetExplorerBrowserEngine=2;CPKHTMLBrowserEngine=3;CPOperaBrowserEngine=4;CPWebKitBrowserEngine=5;CPMacOperatingSystem=0;CPWindowsOperatingSystem=1;CPOtherOperatingSystem=2;CPCSSRGBAFeature=32;CPHTMLCanvasFeature=64;CPHTMLContentEditableFeature=128;CPHTMLDragAndDropFeature=256;CPJavaScriptInnerTextFeature=
512;CPJavaScriptTextContentFeature=1024;CPJavaScriptClipboardEventsFeature=2048;CPJavaScriptClipboardAccessFeature=4096;CPJavaScriptCanvasDrawFeature=8192;CPJavaScriptCanvasTransformFeature=16384;CPVMLFeature=32768;CPJavaScriptRemedialKeySupport=65536;CPJavaScriptShadowFeature=1048576;CPJavaScriptNegativeMouseWheelValues=4194304;CPJavaScriptMouseWheelValues_8_15=8388608;CPOpacityRequiresFilterFeature=16777216;CPInputTypeCanBeChangedFeature=33554432;CPHTML5DragAndDropSourceYOffBy1=67108864;CPSOPDisabledFromFileURLs=
134217728;var f="",e=CPUnknownBrowserEngine,c=0;c|=CPInputTypeCanBeChangedFeature;if(typeof window!=="undefined"&&typeof window.navigator!=="undefined")f=window.navigator.userAgent;if(typeof window!=="undefined"&&window.opera)e=CPOperaBrowserEngine,c|=CPJavaScriptCanvasDrawFeature;else if(typeof window!=="undefined"&&window.attachEvent)e=CPInternetExplorerBrowserEngine,c|=CPVMLFeature,c|=CPJavaScriptRemedialKeySupport,c|=CPJavaScriptShadowFeature,c|=CPOpacityRequiresFilterFeature,c&=~CPInputTypeCanBeChangedFeature;
else if(f.indexOf("AppleWebKit/")!=-1){e=CPWebKitBrowserEngine;c|=CPCSSRGBAFeature;c|=CPHTMLContentEditableFeature;f.indexOf("Chrome")===-1&&(c|=CPHTMLDragAndDropFeature);c|=CPJavaScriptClipboardEventsFeature;c|=CPJavaScriptClipboardAccessFeature;c|=CPJavaScriptShadowFeature;var b=f.indexOf("AppleWebKit/")+12,a=f.indexOf(" ",b);a=f.substring(b,a);var d=a.indexOf(".");b=parseInt(a.substring(0,d));a=parseInt(a.substr(d+1));if(f.indexOf("Safari")!==CPNotFound&&(b>525||b===525&&a>14)||f.indexOf("Chrome")!==
CPNotFound)c|=CPJavaScriptRemedialKeySupport;objj_msgSend(CPPlatform,"isBrowser")||(c|=CPJavaScriptRemedialKeySupport);if(b<532||b===532&&a<6)c|=CPHTML5DragAndDropSourceYOffBy1;f.indexOf("Chrome")===CPNotFound&&(c|=CPSOPDisabledFromFileURLs)}else f.indexOf("KHTML")!=-1?e=CPKHTMLBrowserEngine:f.indexOf("Gecko")!==-1&&(e=CPGeckoBrowserEngine,c|=CPJavaScriptCanvasDrawFeature,b=f.indexOf("Firefox"),b=b===-1?2:parseFloat(f.substring(b+7+1)),b>=3&&(c|=CPCSSRGBAFeature),b<3&&(c|=CPJavaScriptMouseWheelValues_8_15));
if(typeof document!="undefined"){if((b=document.createElement("canvas"))&&b.getContext)c|=CPHTMLCanvasFeature,(b=document.createElement("canvas").getContext("2d"))&&b.setTransform&&b.transform&&(c|=CPJavaScriptCanvasTransformFeature);b=document.createElement("div");b.innerText!=void 0?c|=CPJavaScriptInnerTextFeature:b.textContent!=void 0&&(c|=CPJavaScriptTextContentFeature)}CPFeatureIsCompatible=function(a){return c&a};CPBrowserIsEngine=function(a){return e===a};CPBrowserIsOperatingSystem=function(a){return OPERATING_SYSTEM===
a};OPERATING_SYSTEM=CPOtherOperatingSystem;f.indexOf("Mac")!==-1?(OPERATING_SYSTEM=CPMacOperatingSystem,CPPlatformActionKeyMask=CPCommandKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="Z",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPCommandKeyMask):(f.indexOf("Windows")!==-1&&(OPERATING_SYSTEM=CPWindowsOperatingSystem),CPPlatformActionKeyMask=CPControlKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="y",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPControlKeyMask)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPException.j",baseURL),function(i,g){g("CPCoder.j",YES);g("CPObject.j",YES);g("CPString.j",YES);CPInvalidArgumentException="CPInvalidArgumentException";CPUnsupportedMethodException="CPUnsupportedMethodException";CPRangeException="CPRangeException";CPInternalInconsistencyException="CPInternalInconsistencyException";var f=objj_allocateClassPair(CPObject,"CPException"),e=f.isa;class_addIvars(f,[new objj_ivar("_userInfo")]);objj_registerClassPair(f);
class_addMethods(f,[new objj_method(sel_getUid("initWithName:reason:userInfo:"),function(c,b,a,d,e){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPException").super_class},"init"))name=a,message=d,_userInfo=e;return c}}),new objj_method(sel_getUid("name"),function(c){with(c)return name}),new objj_method(sel_getUid("reason"),function(c){with(c)return message}),new objj_method(sel_getUid("userInfo"),function(c){with(c)return _userInfo}),new objj_method(sel_getUid("description"),
function(c){with(c)return message}),new objj_method(sel_getUid("raise"),function(c){with(c)throw c;}),new objj_method(sel_getUid("isEqual:"),function(c,b,a){with(c){if(!a||!a.isa)return NO;return objj_msgSend(a,"isKindOfClass:",CPException)&&name===objj_msgSend(a,"name")&&message===objj_msgSend(a,"message")&&(_userInfo===objj_msgSend(a,"userInfo")||objj_msgSend(_userInfo,"isEqual:",objj_msgSend(a,"userInfo")))}})]);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(c){with(c){var b=
Error();b.isa=objj_msgSend(c,"class");return b}}),new objj_method(sel_getUid("raise:reason:"),function(c,b,a,d){with(c)objj_msgSend(objj_msgSend(c,"exceptionWithName:reason:userInfo:",a,d,nil),"raise")}),new objj_method(sel_getUid("exceptionWithName:reason:userInfo:"),function(c,b,a,d,e){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithName:reason:userInfo:",a,d,e)})]);f=objj_getClass("CPException");if(!f)throw new SyntaxError('*** Could not find definition for class "CPException"');e=
f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"class"),"exceptionWithName:reason:userInfo:",name,message,_userInfo)})]);f=objj_getClass("CPException");if(!f)throw new SyntaxError('*** Could not find definition for class "CPException"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPException").super_class},"init"))name=
objj_msgSend(a,"decodeObjectForKey:","CPExceptionNameKey"),message=objj_msgSend(a,"decodeObjectForKey:","CPExceptionReasonKey"),_userInfo=objj_msgSend(a,"decodeObjectForKey:","CPExceptionUserInfoKey");return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSend(a,"encodeObject:forKey:",name,"CPExceptionNameKey"),objj_msgSend(a,"encodeObject:forKey:",message,"CPExceptionReasonKey"),objj_msgSend(a,"encodeObject:forKey:",_userInfo,"CPExceptionUserInfoKey")})]);Error.prototype.isa=
CPException;Error.prototype._userInfo=null;objj_msgSend(CPException,"initialize");_CPRaiseInvalidAbstractInvocation=function(c,b){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"*** -"+sel_getName(b)+" cannot be sent to an abstract object of class "+objj_msgSend(c,"className")+": Create a concrete instance!")};_CPRaiseInvalidArgumentException=function(c,b,a){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,(class_isMetaClass(c.isa)?"+":"-")+"["+objj_msgSend(c,
"className")+" "+b+"]: "+a)};_CPRaiseRangeException=function(c,b,a,d){objj_msgSend(CPException,"raise:reason:",CPRangeException,(class_isMetaClass(c.isa)?"+":"-")+"["+objj_msgSend(c,"className")+" "+b+"]: index ("+a+") beyond bounds ("+d+")")};_CPReportLenientDeprecation=function(c,b,a){CPLog.warn("["+CPStringFromClass(c)+" "+CPStringFromSelector(b)+"] is deprecated, using "+CPStringFromSelector(a)+" instead.")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var i={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(g){if(g)return{model:kCGColorSpaceModelPattern,count:g.count,base:g};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(g){var f=i[g];if(f)return f;switch(g){case kCGColorSpaceGenericGray:return i[g]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return i[g]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return i[g]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(g){return g.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(g){return g.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(g){return g};CGColorSpaceStandardizeComponents=function(g,f){var e=g.count;if(e>f.length)f[e]=1;else{var c=f[e];f[e]=c<0?0:c>1?1:ROUND(c*1E3)/1E3;if(g.base)g=g.base;switch(g.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;e--;){if(e>f.length){f[e]=1;break}c=f[e];f[e]=c<0?0:c>1?1:ROUND(c*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("AppController.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("AppKit/CPLevelIndicator.j",NO);g("Foundation/CPTimer.j",NO);var f=objj_allocateClassPair(CPObject,"AppController");class_addIvars(f,[new objj_ivar("theWindow"),new objj_ivar("slider1"),new objj_ivar("slider2"),new objj_ivar("slider3"),new objj_ivar("field1"),new objj_ivar("field2"),new objj_ivar("field3"),new objj_ivar("button1"),new objj_ivar("button2"),new objj_ivar("button3"),
new objj_ivar("level1"),new objj_ivar("level2"),new objj_ivar("level3"),new objj_ivar("sound1"),new objj_ivar("sound2"),new objj_ivar("sound3")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("applicationDidFinishLaunching:"),function(e){with(e);}),new objj_method(sel_getUid("awakeFromCib"),function(e){with(e)objj_msgSend(theWindow,"setFullPlatformWindow:",YES)}),new objj_method(sel_getUid("buttonClicked:"),function(e,c,b){with(e){if(b===button1)e=level1;else if(b===button2)e=
level2;else if(b===button3)e=level3;else{console.log("no target");return}c=objj_msgSend(e,"intValue");console.log(c);c===objj_msgSend(e,"maxValue")?objj_msgSend(e,"setIntValue:",objj_msgSend(e,"minValue")):objj_msgSend(e,"setIntValue:",objj_msgSend(e,"maxValue"))}}),new objj_method(sel_getUid("fieldChanged:"),function(e,c,b){with(e){var a;console.log("sender has value "+objj_msgSend(b,"intValue"));switch(b){case field1:a=slider1;break;case field2:a=slider2;break;case field3:a=slider3}console.log("target has value "+
objj_msgSend(a,"intValue"));objj_msgSend(a,"setIntValue:",objj_msgSend(b,"intValue"))}}),new objj_method(sel_getUid("totalPeriod:"),function(e){with(e)sound0=objj_msgSend(objj_msgSend(CPSound,"alloc"),"initWithContentsOfFile:byReference:","Resources/test-8000-le-2ch-1byteu.wav",NO),sound1=objj_msgSend(objj_msgSend(CPSound,"alloc"),"initWithContentsOfFile:byReference:","Resources/one.wav",NO),sound2=objj_msgSend(objj_msgSend(CPSound,"alloc"),"initWithContentsOfFile:byReference:","Resources/two.wav",
NO),sound3=objj_msgSend(objj_msgSend(CPSound,"alloc"),"initWithContentsOfFile:byReference:","Resources/three.wav",NO),e=objj_msgSend(slider1,"intValue")+objj_msgSend(slider2,"intValue")+objj_msgSend(slider3,"intValue"),console.log("total period: "+e),console.log("slider1 delay: "+objj_msgSend(slider1,"intValue")),objj_msgSend(sound0,"play"),console.log(sound1._loadStatus),objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:callback:repeats:",objj_msgSend(slider1,"intValue"),function(){console.log("timer1 fired");
objj_msgSend(sound1,"play")},NO),objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:callback:repeats:",objj_msgSend(slider1,"intValue")+objj_msgSend(slider2,"intValue"),function(){console.log("timer2 fired");objj_msgSend(sound2,"play")},NO),objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:callback:repeats:",objj_msgSend(slider1,"intValue")+objj_msgSend(slider2,"intValue")+objj_msgSend(slider3,"intValue"),function(){console.log("timer3 fired");objj_msgSend(sound3,"play")},NO)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSortDescriptor.j",baseURL),function(i,g){g("CPObject.j",YES);g("CPObjJRuntime.j",YES);g("CPString.j",YES);var f=objj_allocateClassPair(CPObject,"CPSortDescriptor"),e=f.isa;class_addIvars(f,[new objj_ivar("_key"),new objj_ivar("_selector"),new objj_ivar("_ascending")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithKey:ascending:"),function(c,b,a,d){with(c)return objj_msgSend(c,"initWithKey:ascending:selector:",
a,d,sel_getUid("compare:"))}),new objj_method(sel_getUid("initWithKey:ascending:selector:"),function(c,b,a,d,e){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=a,_ascending=d,_selector=e;return c}}),new objj_method(sel_getUid("ascending"),function(c){with(c)return _ascending}),new objj_method(sel_getUid("key"),function(c){with(c)return _key}),new objj_method(sel_getUid("selector"),function(c){with(c)return _selector}),new objj_method(sel_getUid("compareObject:withObject:"),
function(c,b,a,d){with(c)return(_ascending?1:-1)*objj_msgSend(objj_msgSend(a,"valueForKeyPath:",_key),"performSelector:withObject:",_selector,objj_msgSend(d,"valueForKeyPath:",_key))}),new objj_method(sel_getUid("reversedSortDescriptor"),function(c){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"class"),"alloc"),"initWithKey:ascending:selector:",_key,!_ascending,_selector)}),new objj_method(sel_getUid("description"),function(c){with(c)return objj_msgSend(CPString,"stringWithFormat:","(%@, %@, %@)",
objj_msgSend(c,"key"),objj_msgSend(c,"ascending")?"ascending":"descending",CPStringFromSelector(objj_msgSend(c,"selector")))})]);class_addMethods(e,[new objj_method(sel_getUid("sortDescriptorWithKey:ascending:"),function(c,b,a,d){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithKey:ascending:",a,d)}),new objj_method(sel_getUid("sortDescriptorWithKey:ascending:selector:"),function(c,b,a,d,e){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithKey:ascending:selector:",a,d,e)})]);
f=objj_getClass("CPSortDescriptor");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSortDescriptor"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=objj_msgSend(a,"decodeObjectForKey:","CPSortDescriptorKeyKey"),_ascending=objj_msgSend(a,"decodeBoolForKey:","CPSortDescriptorAscendingKey"),_selector=CPSelectorFromString(objj_msgSend(a,
"decodeObjectForKey:","CPSortDescriptorSelectorKey"));return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSend(a,"encodeObject:forKey:",_key,"CPSortDescriptorKeyKey"),objj_msgSend(a,"encodeBool:forKey:",_ascending,"CPSortDescriptorAscendingKey"),objj_msgSend(a,"encodeObject:forKey:",CPStringFromSelector(_selector),"CPSortDescriptorSelectorKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableSet.j",baseURL),function(i,g){g("CPSet.j",YES);var f=objj_allocateClassPair(CPSet,"CPMutableSet"),e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithCapacity:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("filterUsingPredicate:"),function(c,b,a){with(c)for(var d=objj_msgSend(c,"objectEnumerator");(b=objj_msgSend(d,"nextObject"))!==nil;)objj_msgSend(a,
"evaluateWithObject:",b)||objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("removeObject:"),function(c,b){with(c)_CPRaiseInvalidAbstractInvocation(c,b)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(c,b,a){with(c){b=0;for(var d=objj_msgSend(a,"count");b<d;++b)objj_msgSend(c,"removeObject:",objj_msgSend(a,"objectAtIndex:",b))}}),new objj_method(sel_getUid("removeAllObjects"),function(c){with(c)for(var b,a=objj_msgSend(c,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(c,b,a){with(c)for(b=objj_msgSend(a,"count");b--;)objj_msgSend(c,"addObject:",a[b])}),new objj_method(sel_getUid("unionSet:"),function(c,b,a){with(c)for(a=objj_msgSend(a,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==nil;)objj_msgSend(c,"addObject:",b)}),new objj_method(sel_getUid("minusSet:"),function(c,b,a){with(c)for(a=objj_msgSend(a,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("intersectSet:"),function(c,b,a){with(c){var d,e=objj_msgSend(c,"objectEnumerator");for(b=[];(d=objj_msgSend(e,"nextObject"))!==nil;)objj_msgSend(a,"containsObject:",d)||b.push(d);for(a=objj_msgSend(b,"count");a--;)objj_msgSend(c,"removeObject:",b[a])}}),new objj_method(sel_getUid("setSet:"),function(c,b,a){with(c)objj_msgSend(c,"removeAllObjects"),objj_msgSend(c,"unionSet:",a)})]);class_addMethods(e,[new objj_method(sel_getUid("setWithCapacity:"),
function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithCapacity:",a)})]);g("_CPConcreteMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColor.j",baseURL),function(i,g){g("CGColorSpace.j",YES);var f=0;CFHashCode=function(c){if(!c.hash)c.hash=++f;return c};kCGColorWhite="kCGColorWhite";kCGColorBlack="kCGColorBlack";kCGColorClear="kCGColorClear";var e={};CGColorGetConstantColor=function(){alert("FIX ME")};CGColorRetain=function(c){return c};CGColorRelease=function(){};CGColorCreate=function(c,b){if(!c||!b)return NULL;b=b.slice();CGColorSpaceStandardizeComponents(c,
b);var a=CFHashCode(c)+b.join("");if(e[a])return e[a];return e[a]={colorspace:c,pattern:NULL,components:b}};CGColorCreateCopy=function(c){return c};CGColorCreateGenericGray=function(c,b){return CGColorCreate(CGColorSpaceCreateDeviceRGB(),[c,c,c,b])};CGColorCreateGenericRGB=function(c,b,a,d){return CGColorCreate(CGColorSpaceCreateDeviceRGB(),[c,b,a,d])};CGColorCreateGenericCMYK=function(c,b,a,d,e){return CGColorCreate(CGColorSpaceCreateDeviceCMYK(),[c,b,a,d,e])};CGColorCreateCopyWithAlpha=function(c,
b){if(!c)return c;var a=c.components.slice();if(b==a[a.length-1])return c;a[a.length-1]=b;return c.pattern?CGColorCreateWithPattern(c.colorspace,c.pattern,a):CGColorCreate(c.colorspace,a)};CGColorCreateWithPattern=function(c,b,a){if(!c||!b||!a)return NULL;return{colorspace:c,pattern:b,components:a.slice()}};CGColorEqualToColor=function(c,b){if(c==b)return!0;if(!c||!b)return!1;var a=c.components,d=b.components,e=a.length;if(e!=d.length)return!1;for(;e--;)if(a[e]!=d[e])return!1;if(c.pattern!=b.pattern)return!1;
if(CGColorSpaceEqualToColorSpace(c.colorspace,b.colorspace))return!1;return!0};CGColorGetAlpha=function(c){c=c.components;return c[c.length-1]};CGColorGetColorSpace=function(c){return c.colorspace};CGColorGetComponents=function(c){return c.components};CGColorGetNumberOfComponents=function(c){return c.components.length};CGColorGetPattern=function(c){return c.pattern}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/_CPConcreteMutableSet.j",baseURL),function(i,g){g("CPMutableSet.j",YES);var f=Object.prototype.hasOwnProperty,e=objj_allocateClassPair(CPMutableSet,"_CPConcreteMutableSet");class_addIvars(e,[new objj_ivar("_contents"),new objj_ivar("_count")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithObjects:count:"),function(c,b,a,d){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPConcreteMutableSet").super_class},
"initWithObjects:count:",a,d)){_count=0;_contents={};b=0;for(d=MIN(objj_msgSend(a,"count"),d);b<d;++b)objj_msgSend(c,"addObject:",a[b])}return c}}),new objj_method(sel_getUid("count"),function(c){with(c)return _count}),new objj_method(sel_getUid("member:"),function(c,b,a){with(c){c=objj_msgSend(a,"UID");if(!f.call(_contents,c))return nil;c=_contents[c];if(c===a||objj_msgSend(c,"isEqual:",a))return c;return nil}}),new objj_method(sel_getUid("allObjects"),function(c){with(c){c=[];for(var b in _contents)f.call(_contents,
b)&&c.push(_contents[b]);return c}}),new objj_method(sel_getUid("objectEnumerator"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"allObjects"),"objectEnumerator")}),new objj_method(sel_getUid("addObject:"),function(c,b,a){with(c){(a===nil||a===void 0)&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"attempt to insert nil or undefined");if(objj_msgSend(c,"containsObject:",a))return;_contents[objj_msgSend(a,"UID")]=a;_count++}}),new objj_method(sel_getUid("removeObject:"),
function(c,b,a){with(c){if(!objj_msgSend(c,"containsObject:",a))return;delete _contents[objj_msgSend(a,"UID")];_count--}}),new objj_method(sel_getUid("removeAllObjects"),function(c){with(c)_contents={},_count=0}),new objj_method(sel_getUid("classForCoder"),function(c){with(c)return objj_msgSend(CPSet,"class")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDOMWindowLayer.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPDOMWindowLayer");class_addIvars(f,[new objj_ivar("_level"),new objj_ivar("_windows"),new objj_ivar("_DOMElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithLevel:"),function(e,c,b){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPDOMWindowLayer").super_class},
"init"))_level=b,_windows=[],_DOMElement=document.createElement("div"),_DOMElement.style.position="absolute",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.width="1px",_DOMElement.style.height="1px";return e}}),new objj_method(sel_getUid("level"),function(e){with(e)return _level}),new objj_method(sel_getUid("removeWindow:"),function(e,c,b){with(e){if(!b._isVisible)return;e=b._index;c=_windows.length-1;_DOMElement.removeChild(b._DOMElement);for(objj_msgSend(_windows,"removeObjectAtIndex:",
b._index);e<c;++e)_windows[e]._index=e,_windows[e]._DOMElement.style.zIndex=e;b._isVisible=NO}}),new objj_method(sel_getUid("insertWindow:atIndex:"),function(e,c,b,a){with(e){e=objj_msgSend(_windows,"count");c=a==CPNotFound?e:a;b._isVisible?(c=MIN(c,b._index),objj_msgSend(_windows,"removeObjectAtIndex:",b._index)):++e;for(a==CPNotFound||a>=e?objj_msgSend(_windows,"addObject:",b):objj_msgSend(_windows,"insertObject:atIndex:",b,a);c<e;++c)_windows[c]._index=c,_windows[c]._DOMElement.style.zIndex=c;
if(b._DOMElement.parentNode!==_DOMElement)_DOMElement.appendChild(b._DOMElement),b._isVisible=YES,objj_msgSend(b,"isFullBridge")&&objj_msgSend(b,"setFrame:",objj_msgSend(b._platformWindow,"usableContentFrame"))}}),new objj_method(sel_getUid("orderedWindows"),function(e){with(e)return _windows})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPOpenPanel.j",baseURL),function(i,g){g("CPPanel.j",YES);var f=objj_allocateClassPair(CPPanel,"CPOpenPanel"),e=f.isa;class_addIvars(f,[new objj_ivar("_canChooseFiles"),new objj_ivar("_canChooseDirectories"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_directoryURL"),new objj_ivar("_URLs")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("canChooseFiles"),function(c){with(c)return _canChooseFiles}),
new objj_method(sel_getUid("setCanChooseFiles:"),function(c,b,a){with(c)_canChooseFiles=a}),new objj_method(sel_getUid("canChooseDirectories"),function(c){with(c)return _canChooseDirectories}),new objj_method(sel_getUid("setCanChooseDirectories:"),function(c,b,a){with(c)_canChooseDirectories=a}),new objj_method(sel_getUid("allowsMultipleSelection"),function(c){with(c)return _allowsMultipleSelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(c,b,a){with(c)_allowsMultipleSelection=
a}),new objj_method(sel_getUid("directoryURL"),function(c){with(c)return _directoryURL}),new objj_method(sel_getUid("setDirectoryURL:"),function(c,b,a){with(c)_directoryURL=a}),new objj_method(sel_getUid("runModal"),function(c){with(c){if(typeof window.cpOpenPanel==="function")return objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode),c={directoryURL:objj_msgSend(c,"directoryURL"),canChooseFiles:objj_msgSend(c,"canChooseFiles"),canChooseDirectories:objj_msgSend(c,
"canChooseDirectories"),allowsMultipleSelection:objj_msgSend(c,"allowsMultipleSelection")},c=window.cpOpenPanel(c),_URLs=c.URLs,c.button;throw"-runModal is unimplemented.";}}),new objj_method(sel_getUid("URLs"),function(c){with(c)return _URLs})]);class_addMethods(e,[new objj_method(sel_getUid("openPanel"),function(c){with(c)return objj_msgSend(objj_msgSend(CPOpenPanel,"alloc"),"init")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDocModalWindowView.j",baseURL),function(i,g){g("_CPWindowView.j",YES);var f=nil,e=objj_allocateClassPair(_CPWindowView,"_CPDocModalWindowView"),c=e.isa;class_addIvars(e,[new objj_ivar("_bodyView"),new objj_ivar("_shadowView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,c,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPDocModalWindowView").super_class},
"initWithFrame:styleMask:",c,e))c=objj_msgSend(b,"class"),a=objj_msgSend(b,"bounds"),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:a.size.width,height:a.size.height}}),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(c,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(b,"addSubview:",_bodyView),c=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class")),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,a.size.width,8)),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_shadowView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","CPWindow/CPWindowAttachedSheetShadow.png"),CGSizeMake(9,8)))),objj_msgSend(b,"addSubview:",_shadowView);
return b}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return c}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return c})]);class_addMethods(c,[new objj_method(sel_getUid("bodyBackgroundColor"),function(b){with(b)return f||(f=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,0.9)),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPThemeBlend.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CPTheme.j",YES);g("_CPCibCustomResource.j",YES);g("_CPCibKeyedUnarchiver.j",YES);var f=objj_allocateClassPair(CPObject,"CPThemeBlend");class_addIvars(f,[new objj_ivar("_bundle"),new objj_ivar("_themes"),new objj_ivar("_loadDelegate")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(e,c,b){with(e)return(e=
objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPThemeBlend").super_class},"init"))&&(_bundle=objj_msgSend(objj_msgSend(CPBundle,"alloc"),"initWithPath:",b)),e}),new objj_method(sel_getUid("themes"),function(e){with(e)return _themes}),new objj_method(sel_getUid("themeNames"),function(e){with(e){e=[];for(var c=0;c<_themes.length;++c)e.push(_themes[c].substring(0,_themes[c].indexOf(".keyedtheme")));return e}}),new objj_method(sel_getUid("loadWithDelegate:"),function(e,c,b){with(e)_loadDelegate=
b,objj_msgSend(_bundle,"loadWithDelegate:",e)}),new objj_method(sel_getUid("bundleDidFinishLoading:"),function(e,c,b){with(e){_themes=objj_msgSend(_bundle,"objectForInfoDictionaryKey:","CPKeyedThemes");for(c=_themes.length;c--;){var a=objj_msgSend(b,"pathForResource:",_themes[c]);a=objj_msgSend(objj_msgSend(_CPThemeKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:",objj_msgSend(objj_msgSend(CPURL,"URLWithString:",a),"staticResourceData"),_bundle);objj_msgSend(a,"decodeObjectForKey:","root");
objj_msgSend(a,"finishDecoding")}objj_msgSend(_loadDelegate,"blendDidFinishLoading:",e)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPFormatter.j",baseURL),function(i,g){g("CPException.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPFormatter");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("stringForObjectValue:"),function(e,c){with(e)return _CPRaiseInvalidAbstractInvocation(e,c),nil}),new objj_method(sel_getUid("editingStringForObjectValue:"),function(e,c,b){with(e)return objj_msgSend(e,"stringForObjectValue:",
b)}),new objj_method(sel_getUid("getObjectValue:forString:errorDescription:"),function(e,c){with(e)return _CPRaiseInvalidAbstractInvocation(e,c),NO}),new objj_method(sel_getUid("isPartialStringValid:newEditingString:errorDescription:"),function(e,c,b,a,d){with(e)return b(nil),d&&d(nil),YES}),new objj_method(sel_getUid("isPartialStringValid:proposedSelectedRange:originalString:originalSelectedRange:errorDescription:"),function(e,c,b,a,d,f,g){with(e){var i=nil;e=objj_msgSend(e,"isPartialStringValid:newEditingString:errorDescription:",
b,function(a){if(arguments.length)return i=a;return i},g);e||(b(i),i!==nil&&a(CPMakeRange(i.length,0)));return e}}),new objj_method(sel_getUid("initWithCoder:"),function(e){with(e)return objj_msgSend(e,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(e){with(e);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDisplayServer.j",baseURL),function(i,g){g("Foundation/CPRunLoop.j",NO);var f=[],e={},c=[],b={},a=objj_msgSend(CPRunLoop,"mainRunLoop");_CPDisplayServerAddDisplayObject=function(a){var b=objj_msgSend(a,"UID");if(typeof e[b]==="undefined"){var c=f.length;e[b]=c;f[c]=a}};_CPDisplayServerAddLayoutObject=function(a){var d=objj_msgSend(a,"UID");if(typeof b[d]==="undefined"){var e=c.length;b[d]=e;c[e]=a}};var d=objj_allocateClassPair(CPObject,
"_CPDisplayServer"),h=d.isa;objj_registerClassPair(d);class_addMethods(h,[new objj_method(sel_getUid("run"),function(d){with(d){for(;c.length||f.length;){for(var g=0;g<c.length;++g){var h=c[g];delete b[objj_msgSend(h,"UID")];objj_msgSend(h,"layoutIfNeeded")}c=[];b={};for(g=0;g<f.length;++g){if(c.length)break;h=f[g];delete e[objj_msgSend(h,"UID")];objj_msgSend(h,"displayIfNeeded")}g===f.length?(f=[],e={}):f.splice(0,g)}objj_msgSend(a,"performSelector:target:argument:order:modes:",sel_getUid("run"),
d,nil,0,[CPDefaultRunLoopMode])}})]);objj_msgSend(_CPDisplayServer,"run")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibKeyedUnarchiver.j",baseURL),function(i,g){g("Foundation/CPKeyedUnarchiver.j",NO);var f=objj_allocateClassPair(CPKeyedUnarchiver,"_CPCibKeyedUnarchiver");class_addIvars(f,[new objj_ivar("_bundle"),new objj_ivar("_awakenCustomResources"),new objj_ivar("_externalObjectsForProxyIdentifiers")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initForReadingWithData:bundle:awakenCustomResources:"),function(e,
c,b,a,d){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPCibKeyedUnarchiver").super_class},"initForReadingWithData:",b))_bundle=a,_awakenCustomResources=d,objj_msgSend(e,"setDelegate:",e);return e}}),new objj_method(sel_getUid("bundle"),function(e){with(e)return _bundle}),new objj_method(sel_getUid("awakenCustomResources"),function(e){with(e)return _awakenCustomResources}),new objj_method(sel_getUid("setExternalObjectsForProxyIdentifiers:"),function(e,c,b){with(e)_externalObjectsForProxyIdentifiers=
b}),new objj_method(sel_getUid("externalObjectForProxyIdentifier:"),function(e,c,b){with(e)return objj_msgSend(_externalObjectsForProxyIdentifiers,"objectForKey:",b)}),new objj_method(sel_getUid("replaceObjectAtUID:withObject:"),function(e,c,b,a){with(e)_objects[b]=a}),new objj_method(sel_getUid("objectAtUID:"),function(e,c,b){with(e)return _objects[b]})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPShadow.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPShadow"),e=f.isa;class_addIvars(f,[new objj_ivar("_offset"),new objj_ivar("_blurRadius"),new objj_ivar("_color"),new objj_ivar("_cssString")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("_initWithOffset:blurRadius:color:"),function(c,b,a,d,e){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPShadow").super_class},
"init"))_offset=a,_blurRadius=d,_color=e,_cssString=objj_msgSend(_color,"cssString")+" "+Math.round(a.width)+"px "+Math.round(a.height)+"px "+Math.round(_blurRadius)+"px";return c}}),new objj_method(sel_getUid("shadowOffset"),function(c){with(c)return _offset}),new objj_method(sel_getUid("shadowBlurRadius"),function(c){with(c)return _blurRadius}),new objj_method(sel_getUid("shadowColor"),function(c){with(c)return _color}),new objj_method(sel_getUid("cssString"),function(c){with(c)return _cssString})]);
class_addMethods(e,[new objj_method(sel_getUid("shadowWithOffset:blurRadius:color:"),function(c,b,a,d,e){with(c)return objj_msgSend(objj_msgSend(CPShadow,"alloc"),"_initWithOffset:blurRadius:color:",a,d,e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPRange.j",baseURL),function(){CPMakeRange=function(i,g){return{location:i,length:g}};CPCopyRange=function(i){return{location:i.location,length:i.length}};CPMakeRangeCopy=function(i){return{location:i.location,length:i.length}};CPEmptyRange=function(i){return i.length===0};CPMaxRange=function(i){return i.location+i.length};CPEqualRanges=function(i,g){return i.location===g.location&&i.length===g.length};CPLocationInRange=function(i,
g){return i>=g.location&&i<CPMaxRange(g)};CPUnionRange=function(i,g){var f=MIN(i.location,g.location);return CPMakeRange(f,MAX(CPMaxRange(i),CPMaxRange(g))-f)};CPIntersectionRange=function(i,g){if(CPMaxRange(i)<g.location||CPMaxRange(g)<i.location)return CPMakeRange(0,0);var f=MAX(i.location,g.location);return CPMakeRange(f,MIN(CPMaxRange(i),CPMaxRange(g))-f)};CPRangeInRange=function(i,g){return i.location<=g.location&&CPMaxRange(i)>=CPMaxRange(g)};CPStringFromRange=function(i){return"{"+i.location+
", "+i.length+"}"};CPRangeFromString=function(i){var g=i.indexOf(",");return{location:parseInt(i.substr(1,g-1)),length:parseInt(i.substring(g+1,i.length))}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemSeparatorView.j",baseURL),function(i,g){g("CPView.j",YES);var f=objj_allocateClassPair(CPView,"_CPMenuItemSeparatorView"),e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPMenuItemSeparatorView").super_class},"initWithFrame:",a))&&objj_msgSend(c,"setAutoresizingMask:",CPViewWidthSizable),
c}),new objj_method(sel_getUid("drawRect:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");c=objj_msgSend(c,"bounds");CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(c),FLOOR(CGRectGetMidY(c))-0.5);CGContextAddLineToPoint(b,CGRectGetMaxX(c),FLOOR(CGRectGetMidY(c))-0.5);CGContextSetStrokeColor(b,objj_msgSend(CPColor,"lightGrayColor"));CGContextStrokePath(b)}})]);class_addMethods(e,[new objj_method(sel_getUid("view"),function(c){with(c)return objj_msgSend(objj_msgSend(c,
"alloc"),"initWithFrame:",CGRectMake(0,0,0,10))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLResponse.j",baseURL),function(i,g){g("CPObject.j",YES);g("CPURL.j",YES);var f=objj_allocateClassPair(CPObject,"CPURLResponse");class_addIvars(f,[new objj_ivar("_URL")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithURL:"),function(e,c,b){with(e)return(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPURLResponse").super_class},"init"))&&(_URL=b),e}),new objj_method(sel_getUid("URL"),
function(e){with(e)return _URL})]);f=objj_allocateClassPair(CPURLResponse,"CPHTTPURLResponse");class_addIvars(f,[new objj_ivar("_statusCode")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("_setStatusCode:"),function(e,c,b){with(e)_statusCode=b}),new objj_method(sel_getUid("statusCode"),function(e){with(e)return _statusCode})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarSeparatorItem.j",baseURL),function(i,g){g("CPToolbarItem.j",YES);var f=objj_allocateClassPair(CPToolbarItem,"_CPToolbarSeparatorItem");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(e){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPToolbarSeparatorItem").super_class},"initWithItemIdentifier:",CPToolbarSeparatorItemIdentifier))objj_msgSend(e,
"setMinSize:",CGSizeMake(2,0)),objj_msgSend(e,"setMaxSize:",CGSizeMake(2,1E5));return e}}),new objj_method(sel_getUid("initWithCoder:"),function(e){with(e)return objj_msgSend(e,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(e){with(e);})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Resources/Aristo.blend/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;26;CPApplicationDelegateClassS;20;BKShowcaseControllerK;12;CPBundleNameS;12;Aristo.blendK;14;BKLearnMoreURLS;28;http://cappuccino.org/aristoK;22;BKLearnMoreButtonTitleS;16;Aristo Home PageK;16;CPPrincipalClassS;13;CPApplicationK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;21;com.280n.blend.AristoK;15;CPBundleVersionf;3;0.1K;19;CPBundlePackageTypeS;4;BLNDK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;15;Aristo.blend.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;13;CPKeyedThemesA;S;17;Aristo.keyedthemeS;21;Aristo-HUD.keyedthemeE;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPEnumerator.j",baseURL),function(i,g){g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPEnumerator");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("nextObject"),function(e){with(e)return nil}),new objj_method(sel_getUid("allObjects"),function(e){with(e)return[]})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Foundation/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;18;CPBundleIdentifierS;19;com.280n.FoundationK;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;10;FoundationK;19;CPBundlePackageTypeS;4;FMWKK;15;CPBundleVersionS;5;0.9.1K;20;CPBundleEnvironmentsA;S;4;ObjJE;K;18;CPBundleExecutableS;13;Foundation.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("main.j",baseURL),function(i,g){g("Foundation/Foundation.j",NO);g("AppKit/AppKit.j",NO);g("AppController.j",YES);main=function(f,e){CPApplicationMain(f,e)}});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Info.plist",baseURL),404);
